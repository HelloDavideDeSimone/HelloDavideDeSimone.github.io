var cw=Object.defineProperty;var Yf=e=>{throw TypeError(e)};var dw=(e,t,r)=>t in e?cw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ze=(e,t,r)=>dw(e,typeof t!="symbol"?t+"":t,r),xl=(e,t,r)=>t.has(e)||Yf("Cannot "+r);var x=(e,t,r)=>(xl(e,t,"read from private field"),r?r.call(e):t.get(e)),Ne=(e,t,r)=>t.has(e)?Yf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),xe=(e,t,r,n)=>(xl(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ae=(e,t,r)=>(xl(e,t,"access private method"),r);var Kn=(e,t,r,n)=>({set _(o){xe(e,t,o,r)},get _(){return x(e,t,n)}});function fw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pm={exports:{}},Ka={},mm={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),hw=Symbol.for("react.portal"),pw=Symbol.for("react.fragment"),mw=Symbol.for("react.strict_mode"),gw=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),vw=Symbol.for("react.context"),ww=Symbol.for("react.forward_ref"),bw=Symbol.for("react.suspense"),_w=Symbol.for("react.memo"),Sw=Symbol.for("react.lazy"),Xf=Symbol.iterator;function Ew(e){return e===null||typeof e!="object"?null:(e=Xf&&e[Xf]||e["@@iterator"],typeof e=="function"?e:null)}var gm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ym=Object.assign,vm={};function fo(e,t,r){this.props=e,this.context=t,this.refs=vm,this.updater=r||gm}fo.prototype.isReactComponent={};fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wm(){}wm.prototype=fo.prototype;function Od(e,t,r){this.props=e,this.context=t,this.refs=vm,this.updater=r||gm}var jd=Od.prototype=new wm;jd.constructor=Od;ym(jd,fo.prototype);jd.isPureReactComponent=!0;var Jf=Array.isArray,bm=Object.prototype.hasOwnProperty,Md={current:null},_m={key:!0,ref:!0,__self:!0,__source:!0};function Sm(e,t,r){var n,o={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)bm.call(t,n)&&!_m.hasOwnProperty(n)&&(o[n]=t[n]);var a=arguments.length-2;if(a===1)o.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)o[n]===void 0&&(o[n]=a[n]);return{$$typeof:ws,type:e,key:i,ref:s,props:o,_owner:Md.current}}function xw(e,t){return{$$typeof:ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ld(e){return typeof e=="object"&&e!==null&&e.$$typeof===ws}function kw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zf=/\/+/g;function kl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kw(""+e.key):t.toString(36)}function Ys(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ws:case hw:s=!0}}if(s)return s=e,o=o(s),e=n===""?"."+kl(s,0):n,Jf(o)?(r="",e!=null&&(r=e.replace(Zf,"$&/")+"/"),Ys(o,t,r,"",function(u){return u})):o!=null&&(Ld(o)&&(o=xw(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Zf,"$&/")+"/")+e)),t.push(o)),1;if(s=0,n=n===""?".":n+":",Jf(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+kl(i,a);s+=Ys(i,t,r,l,o)}else if(l=Ew(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+kl(i,a++),s+=Ys(i,t,r,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ks(e,t,r){if(e==null)return e;var n=[],o=0;return Ys(e,n,"","",function(i){return t.call(r,i,o++)}),n}function Cw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Xs={transition:null},Aw={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Xs,ReactCurrentOwner:Md};function Em(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:ks,forEach:function(e,t,r){ks(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ks(e,function(){t++}),t},toArray:function(e){return ks(e,function(t){return t})||[]},only:function(e){if(!Ld(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=fo;De.Fragment=pw;De.Profiler=gw;De.PureComponent=Od;De.StrictMode=mw;De.Suspense=bw;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aw;De.act=Em;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ym({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Md.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)bm.call(t,l)&&!_m.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ws,type:e.type,key:o,ref:i,props:n,_owner:s}};De.createContext=function(e){return e={$$typeof:vw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yw,_context:e},e.Consumer=e};De.createElement=Sm;De.createFactory=function(e){var t=Sm.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:ww,render:e}};De.isValidElement=Ld;De.lazy=function(e){return{$$typeof:Sw,_payload:{_status:-1,_result:e},_init:Cw}};De.memo=function(e,t){return{$$typeof:_w,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Xs.transition;Xs.transition={};try{e()}finally{Xs.transition=t}};De.unstable_act=Em;De.useCallback=function(e,t){return Bt.current.useCallback(e,t)};De.useContext=function(e){return Bt.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};De.useEffect=function(e,t){return Bt.current.useEffect(e,t)};De.useId=function(){return Bt.current.useId()};De.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Bt.current.useMemo(e,t)};De.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};De.useRef=function(e){return Bt.current.useRef(e)};De.useState=function(e){return Bt.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return Bt.current.useTransition()};De.version="18.3.1";mm.exports=De;var te=mm.exports;const hn=hm(te),Tw=fw({__proto__:null,default:hn},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=te,Iw=Symbol.for("react.element"),Rw=Symbol.for("react.fragment"),Nw=Object.prototype.hasOwnProperty,Ow=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jw={key:!0,ref:!0,__self:!0,__source:!0};function xm(e,t,r){var n,o={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Nw.call(t,n)&&!jw.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Iw,type:e,key:i,ref:s,props:o,_owner:Ow.current}}Ka.Fragment=Rw;Ka.jsx=xm;Ka.jsxs=xm;pm.exports=Ka;var I=pm.exports,km={exports:{}},rr={},Cm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,fe){var D=H.length;H.push(fe);e:for(;0<D;){var se=D-1>>>1,O=H[se];if(0<o(O,fe))H[se]=fe,H[D]=O,D=se;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var fe=H[0],D=H.pop();if(D!==fe){H[0]=D;e:for(var se=0,O=H.length,ce=O>>>1;se<ce;){var we=2*(se+1)-1,W=H[we],Te=we+1,X=H[Te];if(0>o(W,D))Te<O&&0>o(X,W)?(H[se]=X,H[Te]=D,se=Te):(H[se]=W,H[we]=D,se=we);else if(Te<O&&0>o(X,D))H[se]=X,H[Te]=D,se=Te;else break e}}return fe}function o(H,fe){var D=H.sortIndex-fe.sortIndex;return D!==0?D:H.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(H){for(var fe=r(u);fe!==null;){if(fe.callback===null)n(u);else if(fe.startTime<=H)n(u),fe.sortIndex=fe.expirationTime,t(l,fe);else break;fe=r(u)}}function k(H){if(b=!1,v(H),!y)if(r(l)!==null)y=!0,he(T);else{var fe=r(u);fe!==null&&pe(k,fe.startTime-H)}}function T(H,fe){y=!1,b&&(b=!1,_(P),P=-1),p=!0;var D=f;try{for(v(fe),d=r(l);d!==null&&(!(d.expirationTime>fe)||H&&!oe());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var O=se(d.expirationTime<=fe);fe=e.unstable_now(),typeof O=="function"?d.callback=O:d===r(l)&&n(l),v(fe)}else n(l);d=r(l)}if(d!==null)var ce=!0;else{var we=r(u);we!==null&&pe(k,we.startTime-fe),ce=!1}return ce}finally{d=null,f=D,p=!1}}var E=!1,C=null,P=-1,V=5,Q=-1;function oe(){return!(e.unstable_now()-Q<V)}function R(){if(C!==null){var H=e.unstable_now();Q=H;var fe=!0;try{fe=C(!0,H)}finally{fe?ee():(E=!1,C=null)}}else E=!1}var ee;if(typeof m=="function")ee=function(){m(R)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=R,ee=function(){$.postMessage(null)}}else ee=function(){S(R,0)};function he(H){C=H,E||(E=!0,ee())}function pe(H,fe){P=S(function(){H(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,he(T))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(H){switch(f){case 1:case 2:case 3:var fe=3;break;default:fe=f}var D=f;f=fe;try{return H()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,fe){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var D=f;f=H;try{return fe()}finally{f=D}},e.unstable_scheduleCallback=function(H,fe,D){var se=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?se+D:se):D=se,H){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=D+O,H={id:c++,callback:fe,priorityLevel:H,startTime:D,expirationTime:O,sortIndex:-1},D>se?(H.sortIndex=D,t(u,H),r(l)===null&&H===r(u)&&(b?(_(P),P=-1):b=!0,pe(k,D-se))):(H.sortIndex=O,t(l,H),y||p||(y=!0,he(T))),H},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(H){var fe=f;return function(){var D=f;f=fe;try{return H.apply(this,arguments)}finally{f=D}}}})(Am);Cm.exports=Am;var Mw=Cm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw=te,tr=Mw;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tm=new Set,Xo={};function _i(e,t){no(e,t),no(e+"Capture",t)}function no(e,t){for(Xo[e]=t,e=0;e<t.length;e++)Tm.add(t[e])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,Bw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eh={},th={};function Uw(e){return pu.call(th,e)?!0:pu.call(eh,e)?!1:Bw.test(e)?th[e]=!0:(eh[e]=!0,!1)}function Dw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fw(e,t,r,n){if(t===null||typeof t>"u"||Dw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ut(e,t,r,n,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bd=/[\-:]([a-z])/g;function Ud(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bd,Ud);Et[t]=new Ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bd,Ud);Et[t]=new Ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bd,Ud);Et[t]=new Ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dd(e,t,r,n){var o=Et.hasOwnProperty(t)?Et[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fw(t,r,o,n)&&(r=null),n||o===null?Uw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var on=Lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cs=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),Pm=Symbol.for("react.provider"),Im=Symbol.for("react.context"),$d=Symbol.for("react.forward_ref"),gu=Symbol.for("react.suspense"),yu=Symbol.for("react.suspense_list"),Wd=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Rm=Symbol.for("react.offscreen"),rh=Symbol.iterator;function _o(e){return e===null||typeof e!="object"?null:(e=rh&&e[rh]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,Cl;function No(e){if(Cl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cl=t&&t[1]||""}return`
`+Cl+e}var Al=!1;function Tl(e,t){if(!e||Al)return"";Al=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=n.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Al=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?No(e):""}function $w(e){switch(e.tag){case 5:return No(e.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 2:case 15:return e=Tl(e.type,!1),e;case 11:return e=Tl(e.type.render,!1),e;case 1:return e=Tl(e.type,!0),e;default:return""}}function vu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ii:return"Fragment";case Pi:return"Portal";case mu:return"Profiler";case Fd:return"StrictMode";case gu:return"Suspense";case yu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Im:return(e.displayName||"Context")+".Consumer";case Pm:return(e._context.displayName||"Context")+".Provider";case $d:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wd:return t=e.displayName||null,t!==null?t:vu(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return vu(e(t))}catch{}}return null}function Ww(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vu(t);case 8:return t===Fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zw(e){var t=Nm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function As(e){e._valueTracker||(e._valueTracker=zw(e))}function Om(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Nm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wu(e,t){var r=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jm(e,t){t=t.checked,t!=null&&Dd(e,"checked",t,!1)}function bu(e,t){jm(e,t);var r=Dn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_u(e,t.type,r):t.hasOwnProperty("defaultValue")&&_u(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ih(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _u(e,t,r){(t!=="number"||va(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Oo=Array.isArray;function $i(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dn(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Su(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Se(92));if(Oo(r)){if(1<r.length)throw Error(Se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dn(r)}}function Mm(e,t){var r=Dn(t.value),n=Dn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function sh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ts,Bm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vw=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(e){Vw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Do[t]=Do[e]})});function Um(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Do.hasOwnProperty(e)&&Do[e]?(""+t).trim():t+"px"}function Dm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Um(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var Hw=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xu(e,t){if(t){if(Hw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function ku(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=null;function zd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Au=null,Wi=null,zi=null;function ah(e){if(e=Ss(e)){if(typeof Au!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=Za(t),Au(e.stateNode,e.type,t))}}function Fm(e){Wi?zi?zi.push(e):zi=[e]:Wi=e}function $m(){if(Wi){var e=Wi,t=zi;if(zi=Wi=null,ah(e),t)for(e=0;e<t.length;e++)ah(t[e])}}function Wm(e,t){return e(t)}function zm(){}var Pl=!1;function Vm(e,t,r){if(Pl)return e(t,r);Pl=!0;try{return Wm(e,t,r)}finally{Pl=!1,(Wi!==null||zi!==null)&&(zm(),$m())}}function Zo(e,t){var r=e.stateNode;if(r===null)return null;var n=Za(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Se(231,t,typeof r));return r}var Tu=!1;if(Xr)try{var So={};Object.defineProperty(So,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{Tu=!1}function qw(e,t,r,n,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Fo=!1,wa=null,ba=!1,Pu=null,Qw={onError:function(e){Fo=!0,wa=e}};function Kw(e,t,r,n,o,i,s,a,l){Fo=!1,wa=null,qw.apply(Qw,arguments)}function Gw(e,t,r,n,o,i,s,a,l){if(Kw.apply(this,arguments),Fo){if(Fo){var u=wa;Fo=!1,wa=null}else throw Error(Se(198));ba||(ba=!0,Pu=u)}}function Si(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Hm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lh(e){if(Si(e)!==e)throw Error(Se(188))}function Yw(e){var t=e.alternate;if(!t){if(t=Si(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return lh(o),e;if(i===n)return lh(o),t;i=i.sibling}throw Error(Se(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s)throw Error(Se(189))}}if(r.alternate!==n)throw Error(Se(190))}if(r.tag!==3)throw Error(Se(188));return r.stateNode.current===r?e:t}function qm(e){return e=Yw(e),e!==null?Qm(e):null}function Qm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qm(e);if(t!==null)return t;e=e.sibling}return null}var Km=tr.unstable_scheduleCallback,uh=tr.unstable_cancelCallback,Xw=tr.unstable_shouldYield,Jw=tr.unstable_requestPaint,dt=tr.unstable_now,Zw=tr.unstable_getCurrentPriorityLevel,Vd=tr.unstable_ImmediatePriority,Gm=tr.unstable_UserBlockingPriority,_a=tr.unstable_NormalPriority,eb=tr.unstable_LowPriority,Ym=tr.unstable_IdlePriority,Ga=null,jr=null;function tb(e){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Ga,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:ib,rb=Math.log,nb=Math.LN2;function ib(e){return e>>>=0,e===0?32:31-(rb(e)/nb|0)|0}var Ps=64,Is=4194304;function jo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~o;a!==0?n=jo(a):(i&=s,i!==0&&(n=jo(i)))}else s=r&~o,s!==0?n=jo(s):i!==0&&(n=jo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_r(t),o=1<<r,n|=e[r],t&=~o;return n}function ob(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-_r(i),a=1<<s,l=o[s];l===-1?(!(a&r)||a&n)&&(o[s]=ob(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Iu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xm(){var e=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),e}function Il(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=r}function ab(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-_r(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}function Hd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_r(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var We=0;function Jm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zm,qd,eg,tg,rg,Ru=!1,Rs=[],Rn=null,Nn=null,On=null,es=new Map,ts=new Map,Sn=[],lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function Eo(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Ss(t),t!==null&&qd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ub(e,t,r,n,o){switch(t){case"focusin":return Rn=Eo(Rn,e,t,r,n,o),!0;case"dragenter":return Nn=Eo(Nn,e,t,r,n,o),!0;case"mouseover":return On=Eo(On,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return es.set(i,Eo(es.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,ts.set(i,Eo(ts.get(i)||null,e,t,r,n,o)),!0}return!1}function ng(e){var t=ti(e.target);if(t!==null){var r=Si(t);if(r!==null){if(t=r.tag,t===13){if(t=Hm(r),t!==null){e.blockedOn=t,rg(e.priority,function(){eg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Cu=n,r.target.dispatchEvent(n),Cu=null}else return t=Ss(r),t!==null&&qd(t),e.blockedOn=r,!1;t.shift()}return!0}function dh(e,t,r){Js(e)&&r.delete(t)}function cb(){Ru=!1,Rn!==null&&Js(Rn)&&(Rn=null),Nn!==null&&Js(Nn)&&(Nn=null),On!==null&&Js(On)&&(On=null),es.forEach(dh),ts.forEach(dh)}function xo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ru||(Ru=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,cb)))}function rs(e){function t(o){return xo(o,e)}if(0<Rs.length){xo(Rs[0],e);for(var r=1;r<Rs.length;r++){var n=Rs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Rn!==null&&xo(Rn,e),Nn!==null&&xo(Nn,e),On!==null&&xo(On,e),es.forEach(t),ts.forEach(t),r=0;r<Sn.length;r++)n=Sn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sn.length&&(r=Sn[0],r.blockedOn===null);)ng(r),r.blockedOn===null&&Sn.shift()}var Vi=on.ReactCurrentBatchConfig,Ea=!0;function db(e,t,r,n){var o=We,i=Vi.transition;Vi.transition=null;try{We=1,Qd(e,t,r,n)}finally{We=o,Vi.transition=i}}function fb(e,t,r,n){var o=We,i=Vi.transition;Vi.transition=null;try{We=4,Qd(e,t,r,n)}finally{We=o,Vi.transition=i}}function Qd(e,t,r,n){if(Ea){var o=Nu(e,t,r,n);if(o===null)Fl(e,t,n,xa,r),ch(e,n);else if(ub(o,e,t,r,n))n.stopPropagation();else if(ch(e,n),t&4&&-1<lb.indexOf(e)){for(;o!==null;){var i=Ss(o);if(i!==null&&Zm(i),i=Nu(e,t,r,n),i===null&&Fl(e,t,n,xa,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else Fl(e,t,n,null,r)}}var xa=null;function Nu(e,t,r,n){if(xa=null,e=zd(n),e=ti(e),e!==null)if(t=Si(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Hm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xa=e,null}function ig(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zw()){case Vd:return 1;case Gm:return 4;case _a:case eb:return 16;case Ym:return 536870912;default:return 16}default:return 16}}var Pn=null,Kd=null,Zs=null;function og(){if(Zs)return Zs;var e,t=Kd,r=t.length,n,o="value"in Pn?Pn.value:Pn.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===o[i-n];n++);return Zs=o.slice(e,1<n?1-n:void 0)}function ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function fh(){return!1}function nr(e){function t(r,n,o,i,s){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ns:fh,this.isPropagationStopped=fh,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=nr(ho),_s=at({},ho,{view:0,detail:0}),hb=nr(_s),Rl,Nl,ko,Ya=at({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(Rl=e.screenX-ko.screenX,Nl=e.screenY-ko.screenY):Nl=Rl=0,ko=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:Nl}}),hh=nr(Ya),pb=at({},Ya,{dataTransfer:0}),mb=nr(pb),gb=at({},_s,{relatedTarget:0}),Ol=nr(gb),yb=at({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),vb=nr(yb),wb=at({},ho,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bb=nr(wb),_b=at({},ho,{data:0}),ph=nr(_b),Sb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xb[e])?!!t[e]:!1}function Yd(){return kb}var Cb=at({},_s,{key:function(e){if(e.key){var t=Sb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yd,charCode:function(e){return e.type==="keypress"?ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ab=nr(Cb),Tb=at({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mh=nr(Tb),Pb=at({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yd}),Ib=nr(Pb),Rb=at({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nb=nr(Rb),Ob=at({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jb=nr(Ob),Mb=[9,13,27,32],Xd=Xr&&"CompositionEvent"in window,$o=null;Xr&&"documentMode"in document&&($o=document.documentMode);var Lb=Xr&&"TextEvent"in window&&!$o,sg=Xr&&(!Xd||$o&&8<$o&&11>=$o),gh=" ",yh=!1;function ag(e,t){switch(e){case"keyup":return Mb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function Bb(e,t){switch(e){case"compositionend":return lg(t);case"keypress":return t.which!==32?null:(yh=!0,gh);case"textInput":return e=t.data,e===gh&&yh?null:e;default:return null}}function Ub(e,t){if(Ri)return e==="compositionend"||!Xd&&ag(e,t)?(e=og(),Zs=Kd=Pn=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sg&&t.locale!=="ko"?null:t.data;default:return null}}var Db={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Db[e.type]:t==="textarea"}function ug(e,t,r,n){Fm(n),t=ka(t,"onChange"),0<t.length&&(r=new Gd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wo=null,ns=null;function Fb(e){bg(e,0)}function Xa(e){var t=ji(e);if(Om(t))return e}function $b(e,t){if(e==="change")return t}var cg=!1;if(Xr){var jl;if(Xr){var Ml="oninput"in document;if(!Ml){var wh=document.createElement("div");wh.setAttribute("oninput","return;"),Ml=typeof wh.oninput=="function"}jl=Ml}else jl=!1;cg=jl&&(!document.documentMode||9<document.documentMode)}function bh(){Wo&&(Wo.detachEvent("onpropertychange",dg),ns=Wo=null)}function dg(e){if(e.propertyName==="value"&&Xa(ns)){var t=[];ug(t,ns,e,zd(e)),Vm(Fb,t)}}function Wb(e,t,r){e==="focusin"?(bh(),Wo=t,ns=r,Wo.attachEvent("onpropertychange",dg)):e==="focusout"&&bh()}function zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xa(ns)}function Vb(e,t){if(e==="click")return Xa(t)}function Hb(e,t){if(e==="input"||e==="change")return Xa(t)}function qb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Er=typeof Object.is=="function"?Object.is:qb;function is(e,t){if(Er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!pu.call(t,o)||!Er(e[o],t[o]))return!1}return!0}function _h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sh(e,t){var r=_h(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_h(r)}}function fg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hg(){for(var e=window,t=va();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=va(e.document)}return t}function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qb(e){var t=hg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fg(r.ownerDocument.documentElement,r)){if(n!==null&&Jd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=Sh(r,i);var s=Sh(r,n);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kb=Xr&&"documentMode"in document&&11>=document.documentMode,Ni=null,Ou=null,zo=null,ju=!1;function Eh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ju||Ni==null||Ni!==va(n)||(n=Ni,"selectionStart"in n&&Jd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zo&&is(zo,n)||(zo=n,n=ka(Ou,"onSelect"),0<n.length&&(t=new Gd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ni)))}function Os(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Oi={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionend:Os("Transition","TransitionEnd")},Ll={},pg={};Xr&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Ja(e){if(Ll[e])return Ll[e];if(!Oi[e])return e;var t=Oi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pg)return Ll[e]=t[r];return e}var mg=Ja("animationend"),gg=Ja("animationiteration"),yg=Ja("animationstart"),vg=Ja("transitionend"),wg=new Map,xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){wg.set(e,t),_i(t,[e])}for(var Bl=0;Bl<xh.length;Bl++){var Ul=xh[Bl],Gb=Ul.toLowerCase(),Yb=Ul[0].toUpperCase()+Ul.slice(1);$n(Gb,"on"+Yb)}$n(mg,"onAnimationEnd");$n(gg,"onAnimationIteration");$n(yg,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(vg,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function kh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Gw(n,t,void 0,e),e.currentTarget=null}function bg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;kh(o,a,u),i=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;kh(o,a,u),i=l}}}if(ba)throw e=Pu,ba=!1,Pu=null,e}function Ge(e,t){var r=t[Du];r===void 0&&(r=t[Du]=new Set);var n=e+"__bubble";r.has(n)||(_g(t,e,2,!1),r.add(n))}function Dl(e,t,r){var n=0;t&&(n|=4),_g(r,e,n,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function os(e){if(!e[js]){e[js]=!0,Tm.forEach(function(r){r!=="selectionchange"&&(Xb.has(r)||Dl(r,!1,e),Dl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,Dl("selectionchange",!1,t))}}function _g(e,t,r,n){switch(ig(t)){case 1:var o=db;break;case 4:o=fb;break;default:o=Qd}r=o.bind(null,t,r,e),o=void 0,!Tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Fl(e,t,r,n,o){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=ti(a),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}a=a.parentNode}}n=n.return}Vm(function(){var u=i,c=zd(r),d=[];e:{var f=wg.get(e);if(f!==void 0){var p=Gd,y=e;switch(e){case"keypress":if(ea(r)===0)break e;case"keydown":case"keyup":p=Ab;break;case"focusin":y="focus",p=Ol;break;case"focusout":y="blur",p=Ol;break;case"beforeblur":case"afterblur":p=Ol;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ib;break;case mg:case gg:case yg:p=vb;break;case vg:p=Nb;break;case"scroll":p=hb;break;case"wheel":p=jb;break;case"copy":case"cut":case"paste":p=bb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=mh}var b=(t&4)!==0,S=!b&&e==="scroll",_=b?f!==null?f+"Capture":null:f;b=[];for(var m=u,v;m!==null;){v=m;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,_!==null&&(k=Zo(m,_),k!=null&&b.push(ss(m,k,v)))),S)break;m=m.return}0<b.length&&(f=new p(f,y,null,r,c),d.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Cu&&(y=r.relatedTarget||r.fromElement)&&(ti(y)||y[Jr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?ti(y):null,y!==null&&(S=Si(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(b=hh,k="onMouseLeave",_="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(b=mh,k="onPointerLeave",_="onPointerEnter",m="pointer"),S=p==null?f:ji(p),v=y==null?f:ji(y),f=new b(k,m+"leave",p,r,c),f.target=S,f.relatedTarget=v,k=null,ti(c)===u&&(b=new b(_,m+"enter",y,r,c),b.target=v,b.relatedTarget=S,k=b),S=k,p&&y)t:{for(b=p,_=y,m=0,v=b;v;v=Ci(v))m++;for(v=0,k=_;k;k=Ci(k))v++;for(;0<m-v;)b=Ci(b),m--;for(;0<v-m;)_=Ci(_),v--;for(;m--;){if(b===_||_!==null&&b===_.alternate)break t;b=Ci(b),_=Ci(_)}b=null}else b=null;p!==null&&Ch(d,f,p,b,!1),y!==null&&S!==null&&Ch(d,S,y,b,!0)}}e:{if(f=u?ji(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=$b;else if(vh(f))if(cg)T=Hb;else{T=zb;var E=Wb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Vb);if(T&&(T=T(e,u))){ug(d,T,r,c);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&_u(f,"number",f.value)}switch(E=u?ji(u):window,e){case"focusin":(vh(E)||E.contentEditable==="true")&&(Ni=E,Ou=u,zo=null);break;case"focusout":zo=Ou=Ni=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,Eh(d,r,c);break;case"selectionchange":if(Kb)break;case"keydown":case"keyup":Eh(d,r,c)}var C;if(Xd)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ri?ag(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(sg&&r.locale!=="ko"&&(Ri||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ri&&(C=og()):(Pn=c,Kd="value"in Pn?Pn.value:Pn.textContent,Ri=!0)),E=ka(u,P),0<E.length&&(P=new ph(P,e,null,r,c),d.push({event:P,listeners:E}),C?P.data=C:(C=lg(r),C!==null&&(P.data=C)))),(C=Lb?Bb(e,r):Ub(e,r))&&(u=ka(u,"onBeforeInput"),0<u.length&&(c=new ph("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=C))}bg(d,t)})}function ss(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ka(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Zo(e,r),i!=null&&n.unshift(ss(e,i,o)),i=Zo(e,t),i!=null&&n.push(ss(e,i,o))),e=e.return}return n}function Ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ch(e,t,r,n,o){for(var i=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,o?(l=Zo(r,i),l!=null&&s.unshift(ss(r,l,a))):o||(l=Zo(r,i),l!=null&&s.push(ss(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Jb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function Ah(e){return(typeof e=="string"?e:""+e).replace(Jb,`
`).replace(Zb,"")}function Ms(e,t,r){if(t=Ah(t),Ah(e)!==t&&r)throw Error(Se(425))}function Ca(){}var Mu=null,Lu=null;function Bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,Th=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof Th<"u"?function(e){return Th.resolve(null).then(e).catch(r1)}:Uu;function r1(e){setTimeout(function(){throw e})}function $l(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),rs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);rs(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),Rr="__reactFiber$"+po,as="__reactProps$"+po,Jr="__reactContainer$"+po,Du="__reactEvents$"+po,n1="__reactListeners$"+po,i1="__reactHandles$"+po;function ti(e){var t=e[Rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Jr]||r[Rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ph(e);e!==null;){if(r=e[Rr])return r;e=Ph(e)}return t}e=r,r=e.parentNode}return null}function Ss(e){return e=e[Rr]||e[Jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function Za(e){return e[as]||null}var Fu=[],Mi=-1;function Wn(e){return{current:e}}function Xe(e){0>Mi||(e.current=Fu[Mi],Fu[Mi]=null,Mi--)}function Qe(e,t){Mi++,Fu[Mi]=e.current,e.current=t}var Fn={},Rt=Wn(Fn),Vt=Wn(!1),mi=Fn;function io(e,t){var r=e.type.contextTypes;if(!r)return Fn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ht(e){return e=e.childContextTypes,e!=null}function Aa(){Xe(Vt),Xe(Rt)}function Ih(e,t,r){if(Rt.current!==Fn)throw Error(Se(168));Qe(Rt,t),Qe(Vt,r)}function Sg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(Se(108,Ww(e)||"Unknown",o));return at({},r,n)}function Ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,mi=Rt.current,Qe(Rt,e),Qe(Vt,Vt.current),!0}function Rh(e,t,r){var n=e.stateNode;if(!n)throw Error(Se(169));r?(e=Sg(e,t,mi),n.__reactInternalMemoizedMergedChildContext=e,Xe(Vt),Xe(Rt),Qe(Rt,e)):Xe(Vt),Qe(Vt,r)}var qr=null,el=!1,Wl=!1;function Eg(e){qr===null?qr=[e]:qr.push(e)}function o1(e){el=!0,Eg(e)}function zn(){if(!Wl&&qr!==null){Wl=!0;var e=0,t=We;try{var r=qr;for(We=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qr=null,el=!1}catch(o){throw qr!==null&&(qr=qr.slice(e+1)),Km(Vd,zn),o}finally{We=t,Wl=!1}}return null}var Li=[],Bi=0,Pa=null,Ia=0,ar=[],lr=0,gi=null,Kr=1,Gr="";function Jn(e,t){Li[Bi++]=Ia,Li[Bi++]=Pa,Pa=e,Ia=t}function xg(e,t,r){ar[lr++]=Kr,ar[lr++]=Gr,ar[lr++]=gi,gi=e;var n=Kr;e=Gr;var o=32-_r(n)-1;n&=~(1<<o),r+=1;var i=32-_r(t)+o;if(30<i){var s=o-o%5;i=(n&(1<<s)-1).toString(32),n>>=s,o-=s,Kr=1<<32-_r(t)+o|r<<o|n,Gr=i+e}else Kr=1<<i|r<<o|n,Gr=e}function Zd(e){e.return!==null&&(Jn(e,1),xg(e,1,0))}function ef(e){for(;e===Pa;)Pa=Li[--Bi],Li[Bi]=null,Ia=Li[--Bi],Li[Bi]=null;for(;e===gi;)gi=ar[--lr],ar[lr]=null,Gr=ar[--lr],ar[lr]=null,Kr=ar[--lr],ar[lr]=null}var er=null,Zt=null,rt=!1,br=null;function kg(e,t){var r=ur(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Nh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,Zt=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gi!==null?{id:Kr,overflow:Gr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ur(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,er=e,Zt=null,!0):!1;default:return!1}}function $u(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wu(e){if(rt){var t=Zt;if(t){var r=t;if(!Nh(e,t)){if($u(e))throw Error(Se(418));t=jn(r.nextSibling);var n=er;t&&Nh(e,t)?kg(n,r):(e.flags=e.flags&-4097|2,rt=!1,er=e)}}else{if($u(e))throw Error(Se(418));e.flags=e.flags&-4097|2,rt=!1,er=e}}}function Oh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function Ls(e){if(e!==er)return!1;if(!rt)return Oh(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bu(e.type,e.memoizedProps)),t&&(t=Zt)){if($u(e))throw Cg(),Error(Se(418));for(;t;)kg(e,t),t=jn(t.nextSibling)}if(Oh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zt=jn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=er?jn(e.stateNode.nextSibling):null;return!0}function Cg(){for(var e=Zt;e;)e=jn(e.nextSibling)}function oo(){Zt=er=null,rt=!1}function tf(e){br===null?br=[e]:br.push(e)}var s1=on.ReactCurrentBatchConfig;function Co(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Se(309));var n=r.stateNode}if(!n)throw Error(Se(147,e));var o=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Se(284));if(!r._owner)throw Error(Se(290,e))}return e}function Bs(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jh(e){var t=e._init;return t(e._payload)}function Ag(e){function t(_,m){if(e){var v=_.deletions;v===null?(_.deletions=[m],_.flags|=16):v.push(m)}}function r(_,m){if(!e)return null;for(;m!==null;)t(_,m),m=m.sibling;return null}function n(_,m){for(_=new Map;m!==null;)m.key!==null?_.set(m.key,m):_.set(m.index,m),m=m.sibling;return _}function o(_,m){return _=Un(_,m),_.index=0,_.sibling=null,_}function i(_,m,v){return _.index=v,e?(v=_.alternate,v!==null?(v=v.index,v<m?(_.flags|=2,m):v):(_.flags|=2,m)):(_.flags|=1048576,m)}function s(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,m,v,k){return m===null||m.tag!==6?(m=Gl(v,_.mode,k),m.return=_,m):(m=o(m,v),m.return=_,m)}function l(_,m,v,k){var T=v.type;return T===Ii?c(_,m,v.props.children,k,v.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bn&&jh(T)===m.type)?(k=o(m,v.props),k.ref=Co(_,m,v),k.return=_,k):(k=aa(v.type,v.key,v.props,null,_.mode,k),k.ref=Co(_,m,v),k.return=_,k)}function u(_,m,v,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Yl(v,_.mode,k),m.return=_,m):(m=o(m,v.children||[]),m.return=_,m)}function c(_,m,v,k,T){return m===null||m.tag!==7?(m=di(v,_.mode,k,T),m.return=_,m):(m=o(m,v),m.return=_,m)}function d(_,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Gl(""+m,_.mode,v),m.return=_,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Cs:return v=aa(m.type,m.key,m.props,null,_.mode,v),v.ref=Co(_,null,m),v.return=_,v;case Pi:return m=Yl(m,_.mode,v),m.return=_,m;case bn:var k=m._init;return d(_,k(m._payload),v)}if(Oo(m)||_o(m))return m=di(m,_.mode,v,null),m.return=_,m;Bs(_,m)}return null}function f(_,m,v,k){var T=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:a(_,m,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cs:return v.key===T?l(_,m,v,k):null;case Pi:return v.key===T?u(_,m,v,k):null;case bn:return T=v._init,f(_,m,T(v._payload),k)}if(Oo(v)||_o(v))return T!==null?null:c(_,m,v,k,null);Bs(_,v)}return null}function p(_,m,v,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(v)||null,a(m,_,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Cs:return _=_.get(k.key===null?v:k.key)||null,l(m,_,k,T);case Pi:return _=_.get(k.key===null?v:k.key)||null,u(m,_,k,T);case bn:var E=k._init;return p(_,m,v,E(k._payload),T)}if(Oo(k)||_o(k))return _=_.get(v)||null,c(m,_,k,T,null);Bs(m,k)}return null}function y(_,m,v,k){for(var T=null,E=null,C=m,P=m=0,V=null;C!==null&&P<v.length;P++){C.index>P?(V=C,C=null):V=C.sibling;var Q=f(_,C,v[P],k);if(Q===null){C===null&&(C=V);break}e&&C&&Q.alternate===null&&t(_,C),m=i(Q,m,P),E===null?T=Q:E.sibling=Q,E=Q,C=V}if(P===v.length)return r(_,C),rt&&Jn(_,P),T;if(C===null){for(;P<v.length;P++)C=d(_,v[P],k),C!==null&&(m=i(C,m,P),E===null?T=C:E.sibling=C,E=C);return rt&&Jn(_,P),T}for(C=n(_,C);P<v.length;P++)V=p(C,_,P,v[P],k),V!==null&&(e&&V.alternate!==null&&C.delete(V.key===null?P:V.key),m=i(V,m,P),E===null?T=V:E.sibling=V,E=V);return e&&C.forEach(function(oe){return t(_,oe)}),rt&&Jn(_,P),T}function b(_,m,v,k){var T=_o(v);if(typeof T!="function")throw Error(Se(150));if(v=T.call(v),v==null)throw Error(Se(151));for(var E=T=null,C=m,P=m=0,V=null,Q=v.next();C!==null&&!Q.done;P++,Q=v.next()){C.index>P?(V=C,C=null):V=C.sibling;var oe=f(_,C,Q.value,k);if(oe===null){C===null&&(C=V);break}e&&C&&oe.alternate===null&&t(_,C),m=i(oe,m,P),E===null?T=oe:E.sibling=oe,E=oe,C=V}if(Q.done)return r(_,C),rt&&Jn(_,P),T;if(C===null){for(;!Q.done;P++,Q=v.next())Q=d(_,Q.value,k),Q!==null&&(m=i(Q,m,P),E===null?T=Q:E.sibling=Q,E=Q);return rt&&Jn(_,P),T}for(C=n(_,C);!Q.done;P++,Q=v.next())Q=p(C,_,P,Q.value,k),Q!==null&&(e&&Q.alternate!==null&&C.delete(Q.key===null?P:Q.key),m=i(Q,m,P),E===null?T=Q:E.sibling=Q,E=Q);return e&&C.forEach(function(R){return t(_,R)}),rt&&Jn(_,P),T}function S(_,m,v,k){if(typeof v=="object"&&v!==null&&v.type===Ii&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Cs:e:{for(var T=v.key,E=m;E!==null;){if(E.key===T){if(T=v.type,T===Ii){if(E.tag===7){r(_,E.sibling),m=o(E,v.props.children),m.return=_,_=m;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bn&&jh(T)===E.type){r(_,E.sibling),m=o(E,v.props),m.ref=Co(_,E,v),m.return=_,_=m;break e}r(_,E);break}else t(_,E);E=E.sibling}v.type===Ii?(m=di(v.props.children,_.mode,k,v.key),m.return=_,_=m):(k=aa(v.type,v.key,v.props,null,_.mode,k),k.ref=Co(_,m,v),k.return=_,_=k)}return s(_);case Pi:e:{for(E=v.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(_,m.sibling),m=o(m,v.children||[]),m.return=_,_=m;break e}else{r(_,m);break}else t(_,m);m=m.sibling}m=Yl(v,_.mode,k),m.return=_,_=m}return s(_);case bn:return E=v._init,S(_,m,E(v._payload),k)}if(Oo(v))return y(_,m,v,k);if(_o(v))return b(_,m,v,k);Bs(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(_,m.sibling),m=o(m,v),m.return=_,_=m):(r(_,m),m=Gl(v,_.mode,k),m.return=_,_=m),s(_)):r(_,m)}return S}var so=Ag(!0),Tg=Ag(!1),Ra=Wn(null),Na=null,Ui=null,rf=null;function nf(){rf=Ui=Na=null}function of(e){var t=Ra.current;Xe(Ra),e._currentValue=t}function zu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hi(e,t){Na=e,rf=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function dr(e){var t=e._currentValue;if(rf!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(Na===null)throw Error(Se(308));Ui=e,Na.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var ri=null;function sf(e){ri===null?ri=[e]:ri.push(e)}function Pg(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,sf(t)):(r.next=o.next,o.next=r),t.interleaved=r,Zr(e,n)}function Zr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _n=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ig(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Zr(e,r)}return o=n.interleaved,o===null?(t.next=t,sf(n)):(t.next=o.next,o.next=t),n.interleaved=t,Zr(e,r)}function ta(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hd(e,r)}}function Mh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Oa(e,t,r,n){var o=e.updateQueue;_n=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,c=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,b=a;switch(f=t,p=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=at({},d,f);break e;case 2:_n=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);vi|=s,e.lanes=s,e.memoizedState=d}}function Lh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(Se(191,o));o.call(n)}}}var Es={},Mr=Wn(Es),ls=Wn(Es),us=Wn(Es);function ni(e){if(e===Es)throw Error(Se(174));return e}function lf(e,t){switch(Qe(us,t),Qe(ls,e),Qe(Mr,Es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eu(t,e)}Xe(Mr),Qe(Mr,t)}function ao(){Xe(Mr),Xe(ls),Xe(us)}function Rg(e){ni(us.current);var t=ni(Mr.current),r=Eu(t,e.type);t!==r&&(Qe(ls,e),Qe(Mr,r))}function uf(e){ls.current===e&&(Xe(Mr),Xe(ls))}var it=Wn(0);function ja(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zl=[];function cf(){for(var e=0;e<zl.length;e++)zl[e]._workInProgressVersionPrimary=null;zl.length=0}var ra=on.ReactCurrentDispatcher,Vl=on.ReactCurrentBatchConfig,yi=0,ot=null,pt=null,yt=null,Ma=!1,Vo=!1,cs=0,a1=0;function Ct(){throw Error(Se(321))}function df(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Er(e[r],t[r]))return!1;return!0}function ff(e,t,r,n,o,i){if(yi=i,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=e===null||e.memoizedState===null?d1:f1,e=r(n,o),Vo){i=0;do{if(Vo=!1,cs=0,25<=i)throw Error(Se(301));i+=1,yt=pt=null,t.updateQueue=null,ra.current=h1,e=r(n,o)}while(Vo)}if(ra.current=La,t=pt!==null&&pt.next!==null,yi=0,yt=pt=ot=null,Ma=!1,t)throw Error(Se(300));return e}function hf(){var e=cs!==0;return cs=0,e}function Ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?ot.memoizedState=yt=e:yt=yt.next=e,yt}function fr(){if(pt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=yt===null?ot.memoizedState:yt.next;if(t!==null)yt=t,pt=e;else{if(e===null)throw Error(Se(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},yt===null?ot.memoizedState=yt=e:yt=yt.next=e}return yt}function ds(e,t){return typeof t=="function"?t(e):t}function Hl(e){var t=fr(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=pt,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var a=s=null,l=null,u=i;do{var c=u.lane;if((yi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=n):l=l.next=d,ot.lanes|=c,vi|=c}u=u.next}while(u!==null&&u!==i);l===null?s=n:l.next=a,Er(n,t.memoizedState)||(zt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do i=o.lane,ot.lanes|=i,vi|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ql(e){var t=fr(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Er(i,t.memoizedState)||(zt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ng(){}function Og(e,t){var r=ot,n=fr(),o=t(),i=!Er(n.memoizedState,o);if(i&&(n.memoizedState=o,zt=!0),n=n.queue,pf(Lg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||yt!==null&&yt.memoizedState.tag&1){if(r.flags|=2048,fs(9,Mg.bind(null,r,n,o,t),void 0,null),vt===null)throw Error(Se(349));yi&30||jg(r,t,o)}return o}function jg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mg(e,t,r,n){t.value=r,t.getSnapshot=n,Bg(t)&&Ug(e)}function Lg(e,t,r){return r(function(){Bg(t)&&Ug(e)})}function Bg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Er(e,r)}catch{return!0}}function Ug(e){var t=Zr(e,1);t!==null&&Sr(t,e,1,-1)}function Bh(e){var t=Ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=c1.bind(null,ot,e),[t.memoizedState,e]}function fs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Dg(){return fr().memoizedState}function na(e,t,r,n){var o=Ar();ot.flags|=e,o.memoizedState=fs(1|t,r,void 0,n===void 0?null:n)}function tl(e,t,r,n){var o=fr();n=n===void 0?null:n;var i=void 0;if(pt!==null){var s=pt.memoizedState;if(i=s.destroy,n!==null&&df(n,s.deps)){o.memoizedState=fs(t,r,i,n);return}}ot.flags|=e,o.memoizedState=fs(1|t,r,i,n)}function Uh(e,t){return na(8390656,8,e,t)}function pf(e,t){return tl(2048,8,e,t)}function Fg(e,t){return tl(4,2,e,t)}function $g(e,t){return tl(4,4,e,t)}function Wg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zg(e,t,r){return r=r!=null?r.concat([e]):null,tl(4,4,Wg.bind(null,t,e),r)}function mf(){}function Vg(e,t){var r=fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&df(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Hg(e,t){var r=fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&df(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qg(e,t,r){return yi&21?(Er(r,t)||(r=Xm(),ot.lanes|=r,vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=r)}function l1(e,t){var r=We;We=r!==0&&4>r?r:4,e(!0);var n=Vl.transition;Vl.transition={};try{e(!1),t()}finally{We=r,Vl.transition=n}}function Qg(){return fr().memoizedState}function u1(e,t,r){var n=Bn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kg(e))Gg(t,r);else if(r=Pg(e,t,r,n),r!==null){var o=Lt();Sr(r,e,n,o),Yg(r,t,n)}}function c1(e,t,r){var n=Bn(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kg(e))Gg(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,r);if(o.hasEagerState=!0,o.eagerState=a,Er(a,s)){var l=t.interleaved;l===null?(o.next=o,sf(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}r=Pg(e,t,o,n),r!==null&&(o=Lt(),Sr(r,e,n,o),Yg(r,t,n))}}function Kg(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function Gg(e,t){Vo=Ma=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hd(e,r)}}var La={readContext:dr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},d1={readContext:dr,useCallback:function(e,t){return Ar().memoizedState=[e,t===void 0?null:t],e},useContext:dr,useEffect:Uh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,na(4194308,4,Wg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return na(4194308,4,e,t)},useInsertionEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var r=Ar();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ar();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=u1.bind(null,ot,e),[n.memoizedState,e]},useRef:function(e){var t=Ar();return e={current:e},t.memoizedState=e},useState:Bh,useDebugValue:mf,useDeferredValue:function(e){return Ar().memoizedState=e},useTransition:function(){var e=Bh(!1),t=e[0];return e=l1.bind(null,e[1]),Ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ot,o=Ar();if(rt){if(r===void 0)throw Error(Se(407));r=r()}else{if(r=t(),vt===null)throw Error(Se(349));yi&30||jg(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,Uh(Lg.bind(null,n,i,e),[e]),n.flags|=2048,fs(9,Mg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ar(),t=vt.identifierPrefix;if(rt){var r=Gr,n=Kr;r=(n&~(1<<32-_r(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=a1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f1={readContext:dr,useCallback:Vg,useContext:dr,useEffect:pf,useImperativeHandle:zg,useInsertionEffect:Fg,useLayoutEffect:$g,useMemo:Hg,useReducer:Hl,useRef:Dg,useState:function(){return Hl(ds)},useDebugValue:mf,useDeferredValue:function(e){var t=fr();return qg(t,pt.memoizedState,e)},useTransition:function(){var e=Hl(ds)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Ng,useSyncExternalStore:Og,useId:Qg,unstable_isNewReconciler:!1},h1={readContext:dr,useCallback:Vg,useContext:dr,useEffect:pf,useImperativeHandle:zg,useInsertionEffect:Fg,useLayoutEffect:$g,useMemo:Hg,useReducer:ql,useRef:Dg,useState:function(){return ql(ds)},useDebugValue:mf,useDeferredValue:function(e){var t=fr();return pt===null?t.memoizedState=e:qg(t,pt.memoizedState,e)},useTransition:function(){var e=ql(ds)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Ng,useSyncExternalStore:Og,useId:Qg,unstable_isNewReconciler:!1};function gr(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Vu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:at({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rl={isMounted:function(e){return(e=e._reactInternals)?Si(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Lt(),o=Bn(e),i=Yr(n,o);i.payload=t,r!=null&&(i.callback=r),t=Mn(e,i,o),t!==null&&(Sr(t,e,o,n),ta(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Lt(),o=Bn(e),i=Yr(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Mn(e,i,o),t!==null&&(Sr(t,e,o,n),ta(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lt(),n=Bn(e),o=Yr(r,n);o.tag=2,t!=null&&(o.callback=t),t=Mn(e,o,n),t!==null&&(Sr(t,e,n,r),ta(t,e,n))}};function Dh(e,t,r,n,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!is(r,n)||!is(o,i):!0}function Xg(e,t,r){var n=!1,o=Fn,i=t.contextType;return typeof i=="object"&&i!==null?i=dr(i):(o=Ht(t)?mi:Rt.current,n=t.contextTypes,i=(n=n!=null)?io(e,o):Fn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function Hu(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},af(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=dr(i):(i=Ht(t)?mi:Rt.current,o.context=io(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Vu(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&rl.enqueueReplaceState(o,o.state,null),Oa(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do r+=$w(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Ql(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var p1=typeof WeakMap=="function"?WeakMap:Map;function Jg(e,t,r){r=Yr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ua||(Ua=!0,rc=n),qu(e,t)},r}function Zg(e,t,r){r=Yr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){qu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qu(e,t),typeof n!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function $h(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new p1;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=T1.bind(null,e,t,r),t.then(e,e))}function Wh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zh(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yr(-1,1),t.tag=2,Mn(r,t,1))),r.lanes|=1),e)}var m1=on.ReactCurrentOwner,zt=!1;function jt(e,t,r,n){t.child=e===null?Tg(t,null,r,n):so(t,e.child,r,n)}function Vh(e,t,r,n,o){r=r.render;var i=t.ref;return Hi(t,o),n=ff(e,t,r,n,i,o),r=hf(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,en(e,t,o)):(rt&&r&&Zd(t),t.flags|=1,jt(e,t,n,o),t.child)}function Hh(e,t,r,n,o){if(e===null){var i=r.type;return typeof i=="function"&&!Ef(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ey(e,t,i,n,o)):(e=aa(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:is,r(s,n)&&e.ref===t.ref)return en(e,t,o)}return t.flags|=1,e=Un(i,n),e.ref=t.ref,e.return=t,t.child=e}function ey(e,t,r,n,o){if(e!==null){var i=e.memoizedProps;if(is(i,n)&&e.ref===t.ref)if(zt=!1,t.pendingProps=n=i,(e.lanes&o)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,en(e,t,o)}return Qu(e,t,r,n,o)}function ty(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Fi,Xt),Xt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Fi,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Qe(Fi,Xt),Xt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Qe(Fi,Xt),Xt|=n;return jt(e,t,o,r),t.child}function ry(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qu(e,t,r,n,o){var i=Ht(r)?mi:Rt.current;return i=io(t,i),Hi(t,o),r=ff(e,t,r,n,i,o),n=hf(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,en(e,t,o)):(rt&&n&&Zd(t),t.flags|=1,jt(e,t,r,o),t.child)}function qh(e,t,r,n,o){if(Ht(r)){var i=!0;Ta(t)}else i=!1;if(Hi(t,o),t.stateNode===null)ia(e,t),Xg(t,r,n),Hu(t,r,n,o),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=dr(u):(u=Ht(r)?mi:Rt.current,u=io(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Fh(t,s,n,u),_n=!1;var f=t.memoizedState;s.state=f,Oa(t,n,s,o),l=t.memoizedState,a!==n||f!==l||Vt.current||_n?(typeof c=="function"&&(Vu(t,r,c,n),l=t.memoizedState),(a=_n||Dh(t,r,a,n,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Ig(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gr(t.type,a),s.props=u,d=t.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=dr(l):(l=Ht(r)?mi:Rt.current,l=io(t,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Fh(t,s,n,l),_n=!1,f=t.memoizedState,s.state=f,Oa(t,n,s,o);var y=t.memoizedState;a!==d||f!==y||Vt.current||_n?(typeof p=="function"&&(Vu(t,r,p,n),y=t.memoizedState),(u=_n||Dh(t,r,u,n,f,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ku(e,t,r,n,i,o)}function Ku(e,t,r,n,o,i){ry(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return o&&Rh(t,r,!1),en(e,t,i);n=t.stateNode,m1.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=so(t,e.child,null,i),t.child=so(t,null,a,i)):jt(e,t,a,i),t.memoizedState=n.state,o&&Rh(t,r,!0),t.child}function ny(e){var t=e.stateNode;t.pendingContext?Ih(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ih(e,t.context,!1),lf(e,t.containerInfo)}function Qh(e,t,r,n,o){return oo(),tf(o),t.flags|=256,jt(e,t,r,n),t.child}var Gu={dehydrated:null,treeContext:null,retryLane:0};function Yu(e){return{baseLanes:e,cachePool:null,transitions:null}}function iy(e,t,r){var n=t.pendingProps,o=it.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Qe(it,o&1),e===null)return Wu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ol(s,n,0,null),e=di(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Yu(r),t.memoizedState=Gu,e):gf(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return g1(e,t,s,n,a,o,r);if(i){i=n.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Un(o,l),n.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Un(a,i):(i=di(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Yu(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Gu,n}return i=e.child,e=i.sibling,n=Un(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function gf(e,t){return t=ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Us(e,t,r,n){return n!==null&&tf(n),so(t,e.child,null,r),e=gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g1(e,t,r,n,o,i,s){if(r)return t.flags&256?(t.flags&=-257,n=Ql(Error(Se(422))),Us(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=ol({mode:"visible",children:n.children},o,0,null),i=di(i,o,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&so(t,e.child,null,s),t.child.memoizedState=Yu(s),t.memoizedState=Gu,i);if(!(t.mode&1))return Us(e,t,s,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(Se(419)),n=Ql(i,n,void 0),Us(e,t,s,n)}if(a=(s&e.childLanes)!==0,zt||a){if(n=vt,n!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Zr(e,o),Sr(n,e,o,-1))}return Sf(),n=Ql(Error(Se(421))),Us(e,t,s,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=P1.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Zt=jn(o.nextSibling),er=t,rt=!0,br=null,e!==null&&(ar[lr++]=Kr,ar[lr++]=Gr,ar[lr++]=gi,Kr=e.id,Gr=e.overflow,gi=t),t=gf(t,n.children),t.flags|=4096,t)}function Kh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),zu(e.return,t,r)}function Kl(e,t,r,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function oy(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(jt(e,t,n.children,r),n=it.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kh(e,r,t);else if(e.tag===19)Kh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qe(it,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&ja(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Kl(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ja(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Kl(t,!0,r,null,i);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,r=Un(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Un(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function y1(e,t,r){switch(t.tag){case 3:ny(t),oo();break;case 5:Rg(t);break;case 1:Ht(t.type)&&Ta(t);break;case 4:lf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Qe(Ra,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qe(it,it.current&1),t.flags|=128,null):r&t.child.childLanes?iy(e,t,r):(Qe(it,it.current&1),e=en(e,t,r),e!==null?e.sibling:null);Qe(it,it.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return oy(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Qe(it,it.current),n)break;return null;case 22:case 23:return t.lanes=0,ty(e,t,r)}return en(e,t,r)}var sy,Xu,ay,ly;sy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xu=function(){};ay=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,ni(Mr.current);var i=null;switch(r){case"input":o=wu(e,o),n=wu(e,n),i=[];break;case"select":o=at({},o,{value:void 0}),n=at({},n,{value:void 0}),i=[];break;case"textarea":o=Su(e,o),n=Su(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ca)}xu(r,n);var s;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ly=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ao(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function v1(e,t,r){var n=t.pendingProps;switch(ef(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return Ht(t.type)&&Aa(),At(t),null;case 3:return n=t.stateNode,ao(),Xe(Vt),Xe(Rt),cf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ls(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,br!==null&&(oc(br),br=null))),Xu(e,t),At(t),null;case 5:uf(t);var o=ni(us.current);if(r=t.type,e!==null&&t.stateNode!=null)ay(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Se(166));return At(t),null}if(e=ni(Mr.current),Ls(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Rr]=t,n[as]=i,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(o=0;o<Mo.length;o++)Ge(Mo[o],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":nh(n,i),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",n);break;case"textarea":oh(n,i),Ge("invalid",n)}xu(r,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ms(n.textContent,a,e),o=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ms(n.textContent,a,e),o=["children",""+a]):Xo.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ge("scroll",n)}switch(r){case"input":As(n),ih(n,i,!0);break;case"textarea":As(n),sh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ca)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Rr]=t,e[as]=n,sy(e,t,!1,!1),t.stateNode=e;e:{switch(s=ku(r,n),r){case"dialog":Ge("cancel",e),Ge("close",e),o=n;break;case"iframe":case"object":case"embed":Ge("load",e),o=n;break;case"video":case"audio":for(o=0;o<Mo.length;o++)Ge(Mo[o],e);o=n;break;case"source":Ge("error",e),o=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),o=n;break;case"details":Ge("toggle",e),o=n;break;case"input":nh(e,n),o=wu(e,n),Ge("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=at({},n,{value:void 0}),Ge("invalid",e);break;case"textarea":oh(e,n),o=Su(e,n),Ge("invalid",e);break;default:o=n}xu(r,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Dm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bm(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Jo(e,l):typeof l=="number"&&Jo(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ge("scroll",e):l!=null&&Dd(e,i,l,s))}switch(r){case"input":As(e),ih(e,n,!1);break;case"textarea":As(e),sh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?$i(e,!!n.multiple,i,!1):n.defaultValue!=null&&$i(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ca)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)ly(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Se(166));if(r=ni(us.current),ni(Mr.current),Ls(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rr]=t,(i=n.nodeValue!==r)&&(e=er,e!==null))switch(e.tag){case 3:Ms(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rr]=t,t.stateNode=n}return At(t),null;case 13:if(Xe(it),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&Zt!==null&&t.mode&1&&!(t.flags&128))Cg(),oo(),t.flags|=98560,i=!1;else if(i=Ls(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Se(317));i[Rr]=t}else oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),i=!1}else br!==null&&(oc(br),br=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?mt===0&&(mt=3):Sf())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return ao(),Xu(e,t),e===null&&os(t.stateNode.containerInfo),At(t),null;case 10:return of(t.type._context),At(t),null;case 17:return Ht(t.type)&&Aa(),At(t),null;case 19:if(Xe(it),i=t.memoizedState,i===null)return At(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Ao(i,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ja(e),s!==null){for(t.flags|=128,Ao(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(it,it.current&1|2),t.child}e=e.sibling}i.tail!==null&&dt()>uo&&(t.flags|=128,n=!0,Ao(i,!1),t.lanes=4194304)}else{if(!n)if(e=ja(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ao(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!rt)return At(t),null}else 2*dt()-i.renderingStartTime>uo&&r!==1073741824&&(t.flags|=128,n=!0,Ao(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=dt(),t.sibling=null,r=it.current,Qe(it,n?r&1|2:r&1),t):(At(t),null);case 22:case 23:return _f(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xt&1073741824&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function w1(e,t){switch(ef(t),t.tag){case 1:return Ht(t.type)&&Aa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ao(),Xe(Vt),Xe(Rt),cf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uf(t),null;case 13:if(Xe(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(it),null;case 4:return ao(),null;case 10:return of(t.type._context),null;case 22:case 23:return _f(),null;case 24:return null;default:return null}}var Ds=!1,It=!1,b1=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Di(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ct(e,t,n)}else r.current=null}function Ju(e,t,r){try{r()}catch(n){ct(e,t,n)}}var Gh=!1;function _1(e,t){if(Mu=Ea,e=hg(),Jd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==r||o!==0&&d.nodeType!==3||(a=s+o),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++u===o&&(a=s),f===i&&++c===n&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lu={focusedElem:e,selectionRange:r},Ea=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,S=y.memoizedState,_=t.stateNode,m=_.getSnapshotBeforeUpdate(t.elementType===t.type?b:gr(t.type,b),S);_.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(k){ct(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return y=Gh,Gh=!1,y}function Ho(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ju(t,r,i)}o=o.next}while(o!==n)}}function nl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Zu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function uy(e){var t=e.alternate;t!==null&&(e.alternate=null,uy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rr],delete t[as],delete t[Du],delete t[n1],delete t[i1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cy(e){return e.tag===5||e.tag===3||e.tag===4}function Yh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ec(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ca));else if(n!==4&&(e=e.child,e!==null))for(ec(e,t,r),e=e.sibling;e!==null;)ec(e,t,r),e=e.sibling}function tc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(tc(e,t,r),e=e.sibling;e!==null;)tc(e,t,r),e=e.sibling}var _t=null,wr=!1;function cn(e,t,r){for(r=r.child;r!==null;)dy(e,t,r),r=r.sibling}function dy(e,t,r){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Ga,r)}catch{}switch(r.tag){case 5:It||Di(r,t);case 6:var n=_t,o=wr;_t=null,cn(e,t,r),_t=n,wr=o,_t!==null&&(wr?(e=_t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(wr?(e=_t,r=r.stateNode,e.nodeType===8?$l(e.parentNode,r):e.nodeType===1&&$l(e,r),rs(e)):$l(_t,r.stateNode));break;case 4:n=_t,o=wr,_t=r.stateNode.containerInfo,wr=!0,cn(e,t,r),_t=n,wr=o;break;case 0:case 11:case 14:case 15:if(!It&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ju(r,t,s),o=o.next}while(o!==n)}cn(e,t,r);break;case 1:if(!It&&(Di(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ct(r,t,a)}cn(e,t,r);break;case 21:cn(e,t,r);break;case 22:r.mode&1?(It=(n=It)||r.memoizedState!==null,cn(e,t,r),It=n):cn(e,t,r);break;default:cn(e,t,r)}}function Xh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new b1),t.forEach(function(n){var o=I1.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function hr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,wr=!1;break e;case 3:_t=a.stateNode.containerInfo,wr=!0;break e;case 4:_t=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(_t===null)throw Error(Se(160));dy(i,s,o),_t=null,wr=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){ct(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fy(t,e),t=t.sibling}function fy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hr(t,e),kr(e),n&4){try{Ho(3,e,e.return),nl(3,e)}catch(b){ct(e,e.return,b)}try{Ho(5,e,e.return)}catch(b){ct(e,e.return,b)}}break;case 1:hr(t,e),kr(e),n&512&&r!==null&&Di(r,r.return);break;case 5:if(hr(t,e),kr(e),n&512&&r!==null&&Di(r,r.return),e.flags&32){var o=e.stateNode;try{Jo(o,"")}catch(b){ct(e,e.return,b)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&jm(o,i),ku(a,s);var u=ku(a,i);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?Dm(o,d):c==="dangerouslySetInnerHTML"?Bm(o,d):c==="children"?Jo(o,d):Dd(o,c,d,u)}switch(a){case"input":bu(o,i);break;case"textarea":Mm(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?$i(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?$i(o,!!i.multiple,i.defaultValue,!0):$i(o,!!i.multiple,i.multiple?[]:"",!1))}o[as]=i}catch(b){ct(e,e.return,b)}}break;case 6:if(hr(t,e),kr(e),n&4){if(e.stateNode===null)throw Error(Se(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(b){ct(e,e.return,b)}}break;case 3:if(hr(t,e),kr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(b){ct(e,e.return,b)}break;case 4:hr(t,e),kr(e);break;case 13:hr(t,e),kr(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(wf=dt())),n&4&&Xh(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(It=(u=It)||c,hr(t,e),It=u):hr(t,e),kr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ie=e,c=e.child;c!==null;){for(d=Ie=c;Ie!==null;){switch(f=Ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ho(4,f,f.return);break;case 1:Di(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){ct(n,r,b)}}break;case 5:Di(f,f.return);break;case 22:if(f.memoizedState!==null){Zh(d);continue}}p!==null?(p.return=f,Ie=p):Zh(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Um("display",s))}catch(b){ct(e,e.return,b)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){ct(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:hr(t,e),kr(e),n&4&&Xh(e);break;case 21:break;default:hr(t,e),kr(e)}}function kr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cy(r)){var n=r;break e}r=r.return}throw Error(Se(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Jo(o,""),n.flags&=-33);var i=Yh(e);tc(e,i,o);break;case 3:case 4:var s=n.stateNode.containerInfo,a=Yh(e);ec(e,a,s);break;default:throw Error(Se(161))}}catch(l){ct(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S1(e,t,r){Ie=e,hy(e)}function hy(e,t,r){for(var n=(e.mode&1)!==0;Ie!==null;){var o=Ie,i=o.child;if(o.tag===22&&n){var s=o.memoizedState!==null||Ds;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||It;a=Ds;var u=It;if(Ds=s,(It=l)&&!u)for(Ie=o;Ie!==null;)s=Ie,l=s.child,s.tag===22&&s.memoizedState!==null?ep(o):l!==null?(l.return=s,Ie=l):ep(o);for(;i!==null;)Ie=i,hy(i),i=i.sibling;Ie=o,Ds=a,It=u}Jh(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ie=i):Jh(e)}}function Jh(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:It||nl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!It)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:gr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Lh(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lh(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&rs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}It||t.flags&512&&Zu(t)}catch(f){ct(t,t.return,f)}}if(t===e){Ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function Zh(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function ep(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){ct(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(l){ct(t,o,l)}}var i=t.return;try{Zu(t)}catch(l){ct(t,i,l)}break;case 5:var s=t.return;try{Zu(t)}catch(l){ct(t,s,l)}}}catch(l){ct(t,t.return,l)}if(t===e){Ie=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ie=a;break}Ie=t.return}}var E1=Math.ceil,Ba=on.ReactCurrentDispatcher,yf=on.ReactCurrentOwner,cr=on.ReactCurrentBatchConfig,Fe=0,vt=null,ft=null,St=0,Xt=0,Fi=Wn(0),mt=0,hs=null,vi=0,il=0,vf=0,qo=null,Wt=null,wf=0,uo=1/0,zr=null,Ua=!1,rc=null,Ln=null,Fs=!1,In=null,Da=0,Qo=0,nc=null,oa=-1,sa=0;function Lt(){return Fe&6?dt():oa!==-1?oa:oa=dt()}function Bn(e){return e.mode&1?Fe&2&&St!==0?St&-St:s1.transition!==null?(sa===0&&(sa=Xm()),sa):(e=We,e!==0||(e=window.event,e=e===void 0?16:ig(e.type)),e):1}function Sr(e,t,r,n){if(50<Qo)throw Qo=0,nc=null,Error(Se(185));bs(e,r,n),(!(Fe&2)||e!==vt)&&(e===vt&&(!(Fe&2)&&(il|=r),mt===4&&En(e,St)),qt(e,n),r===1&&Fe===0&&!(t.mode&1)&&(uo=dt()+500,el&&zn()))}function qt(e,t){var r=e.callbackNode;sb(e,t);var n=Sa(e,e===vt?St:0);if(n===0)r!==null&&uh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&uh(r),t===1)e.tag===0?o1(tp.bind(null,e)):Eg(tp.bind(null,e)),t1(function(){!(Fe&6)&&zn()}),r=null;else{switch(Jm(n)){case 1:r=Vd;break;case 4:r=Gm;break;case 16:r=_a;break;case 536870912:r=Ym;break;default:r=_a}r=_y(r,py.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function py(e,t){if(oa=-1,sa=0,Fe&6)throw Error(Se(327));var r=e.callbackNode;if(qi()&&e.callbackNode!==r)return null;var n=Sa(e,e===vt?St:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Fa(e,n);else{t=n;var o=Fe;Fe|=2;var i=gy();(vt!==e||St!==t)&&(zr=null,uo=dt()+500,ci(e,t));do try{C1();break}catch(a){my(e,a)}while(!0);nf(),Ba.current=i,Fe=o,ft!==null?t=0:(vt=null,St=0,t=mt)}if(t!==0){if(t===2&&(o=Iu(e),o!==0&&(n=o,t=ic(e,o))),t===1)throw r=hs,ci(e,0),En(e,n),qt(e,dt()),r;if(t===6)En(e,n);else{if(o=e.current.alternate,!(n&30)&&!x1(o)&&(t=Fa(e,n),t===2&&(i=Iu(e),i!==0&&(n=i,t=ic(e,i))),t===1))throw r=hs,ci(e,0),En(e,n),qt(e,dt()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(Se(345));case 2:Zn(e,Wt,zr);break;case 3:if(En(e,n),(n&130023424)===n&&(t=wf+500-dt(),10<t)){if(Sa(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Lt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Uu(Zn.bind(null,e,Wt,zr),t);break}Zn(e,Wt,zr);break;case 4:if(En(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-_r(n);i=1<<s,s=t[s],s>o&&(o=s),n&=~i}if(n=o,n=dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E1(n/1960))-n,10<n){e.timeoutHandle=Uu(Zn.bind(null,e,Wt,zr),n);break}Zn(e,Wt,zr);break;case 5:Zn(e,Wt,zr);break;default:throw Error(Se(329))}}}return qt(e,dt()),e.callbackNode===r?py.bind(null,e):null}function ic(e,t){var r=qo;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=Fa(e,t),e!==2&&(t=Wt,Wt=r,t!==null&&oc(t)),e}function oc(e){Wt===null?Wt=e:Wt.push.apply(Wt,e)}function x1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!Er(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~vf,t&=~il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_r(t),n=1<<r;e[r]=-1,t&=~n}}function tp(e){if(Fe&6)throw Error(Se(327));qi();var t=Sa(e,0);if(!(t&1))return qt(e,dt()),null;var r=Fa(e,t);if(e.tag!==0&&r===2){var n=Iu(e);n!==0&&(t=n,r=ic(e,n))}if(r===1)throw r=hs,ci(e,0),En(e,t),qt(e,dt()),r;if(r===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,Wt,zr),qt(e,dt()),null}function bf(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(uo=dt()+500,el&&zn())}}function wi(e){In!==null&&In.tag===0&&!(Fe&6)&&qi();var t=Fe;Fe|=1;var r=cr.transition,n=We;try{if(cr.transition=null,We=1,e)return e()}finally{We=n,cr.transition=r,Fe=t,!(Fe&6)&&zn()}}function _f(){Xt=Fi.current,Xe(Fi)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,e1(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(ef(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Aa();break;case 3:ao(),Xe(Vt),Xe(Rt),cf();break;case 5:uf(n);break;case 4:ao();break;case 13:Xe(it);break;case 19:Xe(it);break;case 10:of(n.type._context);break;case 22:case 23:_f()}r=r.return}if(vt=e,ft=e=Un(e.current,null),St=Xt=t,mt=0,hs=null,vf=il=vi=0,Wt=qo=null,ri!==null){for(t=0;t<ri.length;t++)if(r=ri[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=o,n.next=s}r.pending=n}ri=null}return e}function my(e,t){do{var r=ft;try{if(nf(),ra.current=La,Ma){for(var n=ot.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Ma=!1}if(yi=0,yt=pt=ot=null,Vo=!1,cs=0,yf.current=null,r===null||r.return===null){mt=1,hs=t,ft=null;break}e:{var i=e,s=r.return,a=r,l=t;if(t=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Wh(s);if(p!==null){p.flags&=-257,zh(p,s,a,i,t),p.mode&1&&$h(i,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var b=new Set;b.add(l),t.updateQueue=b}else y.add(l);break e}else{if(!(t&1)){$h(i,u,t),Sf();break e}l=Error(Se(426))}}else if(rt&&a.mode&1){var S=Wh(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),zh(S,s,a,i,t),tf(lo(l,a));break e}}i=l=lo(l,a),mt!==4&&(mt=2),qo===null?qo=[i]:qo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var _=Jg(i,l,t);Mh(i,_);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ln===null||!Ln.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Zg(i,a,t);Mh(i,k);break e}}i=i.return}while(i!==null)}vy(r)}catch(T){t=T,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function gy(){var e=Ba.current;return Ba.current=La,e===null?La:e}function Sf(){(mt===0||mt===3||mt===2)&&(mt=4),vt===null||!(vi&268435455)&&!(il&268435455)||En(vt,St)}function Fa(e,t){var r=Fe;Fe|=2;var n=gy();(vt!==e||St!==t)&&(zr=null,ci(e,t));do try{k1();break}catch(o){my(e,o)}while(!0);if(nf(),Fe=r,Ba.current=n,ft!==null)throw Error(Se(261));return vt=null,St=0,mt}function k1(){for(;ft!==null;)yy(ft)}function C1(){for(;ft!==null&&!Xw();)yy(ft)}function yy(e){var t=by(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?vy(e):ft=t,yf.current=null}function vy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=w1(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ft=null;return}}else if(r=v1(r,t,Xt),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);mt===0&&(mt=5)}function Zn(e,t,r){var n=We,o=cr.transition;try{cr.transition=null,We=1,A1(e,t,r,n)}finally{cr.transition=o,We=n}return null}function A1(e,t,r,n){do qi();while(In!==null);if(Fe&6)throw Error(Se(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ab(e,i),e===vt&&(ft=vt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fs||(Fs=!0,_y(_a,function(){return qi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=cr.transition,cr.transition=null;var s=We;We=1;var a=Fe;Fe|=4,yf.current=null,_1(e,r),fy(r,e),Qb(Lu),Ea=!!Mu,Lu=Mu=null,e.current=r,S1(r),Jw(),Fe=a,We=s,cr.transition=i}else e.current=r;if(Fs&&(Fs=!1,In=e,Da=o),i=e.pendingLanes,i===0&&(Ln=null),tb(r.stateNode),qt(e,dt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Ua)throw Ua=!1,e=rc,rc=null,e;return Da&1&&e.tag!==0&&qi(),i=e.pendingLanes,i&1?e===nc?Qo++:(Qo=0,nc=e):Qo=0,zn(),null}function qi(){if(In!==null){var e=Jm(Da),t=cr.transition,r=We;try{if(cr.transition=null,We=16>e?16:e,In===null)var n=!1;else{if(e=In,In=null,Da=0,Fe&6)throw Error(Se(331));var o=Fe;for(Fe|=4,Ie=e.current;Ie!==null;){var i=Ie,s=i.child;if(Ie.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ie=u;Ie!==null;){var c=Ie;switch(c.tag){case 0:case 11:case 15:Ho(8,c,i)}var d=c.child;if(d!==null)d.return=c,Ie=d;else for(;Ie!==null;){c=Ie;var f=c.sibling,p=c.return;if(uy(c),c===u){Ie=null;break}if(f!==null){f.return=p,Ie=f;break}Ie=p}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}Ie=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ie=s;else e:for(;Ie!==null;){if(i=Ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ho(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Ie=_;break e}Ie=i.return}}var m=e.current;for(Ie=m;Ie!==null;){s=Ie;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,Ie=v;else e:for(s=m;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nl(9,a)}}catch(T){ct(a,a.return,T)}if(a===s){Ie=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Ie=k;break e}Ie=a.return}}if(Fe=o,zn(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Ga,e)}catch{}n=!0}return n}finally{We=r,cr.transition=t}}return!1}function rp(e,t,r){t=lo(r,t),t=Jg(e,t,1),e=Mn(e,t,1),t=Lt(),e!==null&&(bs(e,1,t),qt(e,t))}function ct(e,t,r){if(e.tag===3)rp(e,e,r);else for(;t!==null;){if(t.tag===3){rp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ln===null||!Ln.has(n))){e=lo(r,e),e=Zg(t,e,1),t=Mn(t,e,1),e=Lt(),t!==null&&(bs(t,1,e),qt(t,e));break}}t=t.return}}function T1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&r,vt===e&&(St&r)===r&&(mt===4||mt===3&&(St&130023424)===St&&500>dt()-wf?ci(e,0):vf|=r),qt(e,t)}function wy(e,t){t===0&&(e.mode&1?(t=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):t=1);var r=Lt();e=Zr(e,t),e!==null&&(bs(e,t,r),qt(e,r))}function P1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),wy(e,r)}function I1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Se(314))}n!==null&&n.delete(t),wy(e,r)}var by;by=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)zt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zt=!1,y1(e,t,r);zt=!!(e.flags&131072)}else zt=!1,rt&&t.flags&1048576&&xg(t,Ia,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ia(e,t),e=t.pendingProps;var o=io(t,Rt.current);Hi(t,r),o=ff(null,t,n,e,o,r);var i=hf();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)?(i=!0,Ta(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,af(t),o.updater=rl,t.stateNode=o,o._reactInternals=t,Hu(t,n,e,r),t=Ku(null,t,n,!0,i,r)):(t.tag=0,rt&&i&&Zd(t),jt(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ia(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=N1(n),e=gr(n,e),o){case 0:t=Qu(null,t,n,e,r);break e;case 1:t=qh(null,t,n,e,r);break e;case 11:t=Vh(null,t,n,e,r);break e;case 14:t=Hh(null,t,n,gr(n.type,e),r);break e}throw Error(Se(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:gr(n,o),Qu(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:gr(n,o),qh(e,t,n,o,r);case 3:e:{if(ny(t),e===null)throw Error(Se(387));n=t.pendingProps,i=t.memoizedState,o=i.element,Ig(e,t),Oa(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=lo(Error(Se(423)),t),t=Qh(e,t,n,r,o);break e}else if(n!==o){o=lo(Error(Se(424)),t),t=Qh(e,t,n,r,o);break e}else for(Zt=jn(t.stateNode.containerInfo.firstChild),er=t,rt=!0,br=null,r=Tg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oo(),n===o){t=en(e,t,r);break e}jt(e,t,n,r)}t=t.child}return t;case 5:return Rg(t),e===null&&Wu(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Bu(n,o)?s=null:i!==null&&Bu(n,i)&&(t.flags|=32),ry(e,t),jt(e,t,s,r),t.child;case 6:return e===null&&Wu(t),null;case 13:return iy(e,t,r);case 4:return lf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=so(t,null,n,r):jt(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:gr(n,o),Vh(e,t,n,o,r);case 7:return jt(e,t,t.pendingProps,r),t.child;case 8:return jt(e,t,t.pendingProps.children,r),t.child;case 12:return jt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Qe(Ra,n._currentValue),n._currentValue=s,i!==null)if(Er(i.value,s)){if(i.children===o.children&&!Vt.current){t=en(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Yr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),zu(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Se(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),zu(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}jt(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Hi(t,r),o=dr(o),n=n(o),t.flags|=1,jt(e,t,n,r),t.child;case 14:return n=t.type,o=gr(n,t.pendingProps),o=gr(n.type,o),Hh(e,t,n,o,r);case 15:return ey(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:gr(n,o),ia(e,t),t.tag=1,Ht(n)?(e=!0,Ta(t)):e=!1,Hi(t,r),Xg(t,n,o),Hu(t,n,o,r),Ku(null,t,n,!0,e,r);case 19:return oy(e,t,r);case 22:return ty(e,t,r)}throw Error(Se(156,t.tag))};function _y(e,t){return Km(e,t)}function R1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,r,n){return new R1(e,t,r,n)}function Ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function N1(e){if(typeof e=="function")return Ef(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$d)return 11;if(e===Wd)return 14}return 2}function Un(e,t){var r=e.alternate;return r===null?(r=ur(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function aa(e,t,r,n,o,i){var s=2;if(n=e,typeof e=="function")Ef(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ii:return di(r.children,o,i,t);case Fd:s=8,o|=8;break;case mu:return e=ur(12,r,t,o|2),e.elementType=mu,e.lanes=i,e;case gu:return e=ur(13,r,t,o),e.elementType=gu,e.lanes=i,e;case yu:return e=ur(19,r,t,o),e.elementType=yu,e.lanes=i,e;case Rm:return ol(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pm:s=10;break e;case Im:s=9;break e;case $d:s=11;break e;case Wd:s=14;break e;case bn:s=16,n=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=ur(s,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function di(e,t,r,n){return e=ur(7,e,n,t),e.lanes=r,e}function ol(e,t,r,n){return e=ur(22,e,n,t),e.elementType=Rm,e.lanes=r,e.stateNode={isHidden:!1},e}function Gl(e,t,r){return e=ur(6,e,null,t),e.lanes=r,e}function Yl(e,t,r){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function O1(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function xf(e,t,r,n,o,i,s,a,l){return e=new O1(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ur(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},af(i),e}function j1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Sy(e){if(!e)return Fn;e=e._reactInternals;e:{if(Si(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var r=e.type;if(Ht(r))return Sg(e,r,t)}return t}function Ey(e,t,r,n,o,i,s,a,l){return e=xf(r,n,!0,e,o,i,s,a,l),e.context=Sy(null),r=e.current,n=Lt(),o=Bn(r),i=Yr(n,o),i.callback=t??null,Mn(r,i,o),e.current.lanes=o,bs(e,o,n),qt(e,n),e}function sl(e,t,r,n){var o=t.current,i=Lt(),s=Bn(o);return r=Sy(r),t.context===null?t.context=r:t.pendingContext=r,t=Yr(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mn(o,t,s),e!==null&&(Sr(e,o,s,i),ta(e,o,s)),s}function $a(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kf(e,t){np(e,t),(e=e.alternate)&&np(e,t)}function M1(){return null}var xy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cf(e){this._internalRoot=e}al.prototype.render=Cf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));sl(e,t,null,null)};al.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wi(function(){sl(null,e,null,null)}),t[Jr]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=tg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sn.length&&t!==0&&t<Sn[r].priority;r++);Sn.splice(r,0,e),r===0&&ng(e)}};function Af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ip(){}function L1(e,t,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var u=$a(s);i.call(u)}}var s=Ey(t,n,e,0,null,!1,!1,"",ip);return e._reactRootContainer=s,e[Jr]=s.current,os(e.nodeType===8?e.parentNode:e),wi(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var a=n;n=function(){var u=$a(l);a.call(u)}}var l=xf(e,0,!1,null,null,!1,!1,"",ip);return e._reactRootContainer=l,e[Jr]=l.current,os(e.nodeType===8?e.parentNode:e),wi(function(){sl(t,l,r,n)}),l}function ul(e,t,r,n,o){var i=r._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=$a(s);a.call(l)}}sl(t,s,e,o)}else s=L1(r,t,e,o,n);return $a(s)}Zm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jo(t.pendingLanes);r!==0&&(Hd(t,r|1),qt(t,dt()),!(Fe&6)&&(uo=dt()+500,zn()))}break;case 13:wi(function(){var n=Zr(e,1);if(n!==null){var o=Lt();Sr(n,e,1,o)}}),kf(e,1)}};qd=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var r=Lt();Sr(t,e,134217728,r)}kf(e,134217728)}};eg=function(e){if(e.tag===13){var t=Bn(e),r=Zr(e,t);if(r!==null){var n=Lt();Sr(r,e,t,n)}kf(e,t)}};tg=function(){return We};rg=function(e,t){var r=We;try{return We=e,t()}finally{We=r}};Au=function(e,t,r){switch(t){case"input":if(bu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Za(n);if(!o)throw Error(Se(90));Om(n),bu(n,o)}}}break;case"textarea":Mm(e,r);break;case"select":t=r.value,t!=null&&$i(e,!!r.multiple,t,!1)}};Wm=bf;zm=wi;var B1={usingClientEntryPoint:!1,Events:[Ss,ji,Za,Fm,$m,bf]},To={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U1={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qm(e),e===null?null:e.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||M1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{Ga=$s.inject(U1),jr=$s}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B1;rr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Af(t))throw Error(Se(200));return j1(e,t,null,r)};rr.createRoot=function(e,t){if(!Af(e))throw Error(Se(299));var r=!1,n="",o=xy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=xf(e,1,!1,null,null,r,!1,n,o),e[Jr]=t.current,os(e.nodeType===8?e.parentNode:e),new Cf(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=qm(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return wi(e)};rr.hydrate=function(e,t,r){if(!ll(t))throw Error(Se(200));return ul(null,e,t,!0,r)};rr.hydrateRoot=function(e,t,r){if(!Af(e))throw Error(Se(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",s=xy;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Ey(t,null,e,1,r??null,o,!1,i,s),e[Jr]=t.current,os(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new al(t)};rr.render=function(e,t,r){if(!ll(t))throw Error(Se(200));return ul(null,e,t,!1,r)};rr.unmountComponentAtNode=function(e){if(!ll(e))throw Error(Se(40));return e._reactRootContainer?(wi(function(){ul(null,null,e,!1,function(){e._reactRootContainer=null,e[Jr]=null})}),!0):!1};rr.unstable_batchedUpdates=bf;rr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ll(r))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return ul(e,t,r,!1,n)};rr.version="18.3.1-next-f1338f8080-20240426";function ky(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ky)}catch(e){console.error(e)}}ky(),km.exports=rr;var cl=km.exports;const D1=hm(cl);var Cy,op=cl;Cy=op.createRoot,op.hydrateRoot;function F1(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,o,i,s=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)r=o[0],r==="*"?(s.push(r),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=o.indexOf("?",1),i=o.indexOf(".",1),s.push(o.substring(1,~n?n:~i?i:o.length)),a+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~n?"?":"")+"\\"+o.substring(i))):a+="/"+o;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var Ay={exports:{}},Ty={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=te;function $1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var W1=typeof Object.is=="function"?Object.is:$1,z1=co.useState,V1=co.useEffect,H1=co.useLayoutEffect,q1=co.useDebugValue;function Q1(e,t){var r=t(),n=z1({inst:{value:r,getSnapshot:t}}),o=n[0].inst,i=n[1];return H1(function(){o.value=r,o.getSnapshot=t,Xl(o)&&i({inst:o})},[e,r,t]),V1(function(){return Xl(o)&&i({inst:o}),e(function(){Xl(o)&&i({inst:o})})},[e]),q1(r),r}function Xl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!W1(e,r)}catch{return!0}}function K1(e,t){return t()}var G1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K1:Q1;Ty.useSyncExternalStore=co.useSyncExternalStore!==void 0?co.useSyncExternalStore:G1;Ay.exports=Ty;var Y1=Ay.exports;const X1=Tw.useInsertionEffect,J1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z1=J1?te.useLayoutEffect:te.useEffect,e_=X1||Z1,Py=e=>{const t=te.useRef([e,(...r)=>t[0](...r)]).current;return e_(()=>{t[0]=e}),t[1]},t_="popstate",Tf="pushState",Pf="replaceState",r_="hashchange",sp=[t_,Tf,Pf,r_],n_=e=>{for(const t of sp)addEventListener(t,e);return()=>{for(const t of sp)removeEventListener(t,e)}},Iy=(e,t)=>Y1.useSyncExternalStore(n_,e,t),i_=()=>location.search,o_=({ssrSearch:e=""}={})=>Iy(i_,()=>e),ap=()=>location.pathname,s_=({ssrPath:e}={})=>Iy(ap,e?()=>e:ap),a_=(e,{replace:t=!1,state:r=null}={})=>history[t?Pf:Tf](r,"",e),l_=(e={})=>[s_(e),a_],lp=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[lp]>"u"){for(const e of[Tf,Pf]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,lp,{value:!0})}const u_=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Ry=(e="")=>e==="/"?"":e,c_=(e,t)=>e[0]==="~"?e.slice(1):Ry(t)+e,d_=(e="",t)=>u_(up(Ry(e)),up(t)),up=e=>{try{return decodeURI(e)}catch{return e}},Ny={hook:l_,searchHook:o_,parser:F1,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Oy=te.createContext(Ny),dl=()=>te.useContext(Oy),jy={},My=te.createContext(jy),f_=()=>te.useContext(My),If=e=>{const[t,r]=e.hook(e);return[d_(e.base,t),Py((n,o)=>r(c_(n,e.base),o))]},Ly=(e,t,r,n)=>{const{pattern:o,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),s=o.exec(r)||[],[a,...l]=s;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((d,f)=>[d,l[f]])):s.groups;let c={...l};return u&&Object.assign(c,u),c})(),...n?[a]:[]]:[!1,null]},h_=({children:e,...t})=>{var c,d;const r=dl(),n=t.hook?Ny:r;let o=n;const[i,s]=((c=t.ssrPath)==null?void 0:c.split("?"))??[];s&&(t.ssrSearch=s,t.ssrPath=i),t.hrefs=t.hrefs??((d=t.hook)==null?void 0:d.hrefs);let a=te.useRef({}),l=a.current,u=l;for(let f in n){const p=f==="base"?n[f]+(t[f]||""):t[f]||n[f];l===u&&p!==u[f]&&(a.current=u={...u}),u[f]=p,p!==n[f]&&(o=u)}return te.createElement(Oy.Provider,{value:o,children:e})},cp=({children:e,component:t},r)=>t?te.createElement(t,{params:r}):typeof e=="function"?e(r):e,p_=e=>{let t=te.useRef(jy),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},dp=({path:e,nest:t,match:r,...n})=>{const o=dl(),[i]=If(o),[s,a,l]=r??Ly(o.parser,e,i,t),u=p_({...f_(),...a});if(!s)return null;const c=l?te.createElement(h_,{base:l},cp(n,u)):cp(n,u);return te.createElement(My.Provider,{value:u,children:c})};te.forwardRef((e,t)=>{const r=dl(),[n,o]=If(r),{to:i="",href:s=i,onClick:a,asChild:l,children:u,className:c,replace:d,state:f,...p}=e,y=Py(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),o(s,e)))}),b=r.hrefs(s[0]==="~"?s.slice(1):r.base+s,r);return l&&te.isValidElement(u)?te.cloneElement(u,{onClick:y,href:b}):te.createElement("a",{...p,onClick:y,href:b,className:c!=null&&c.call?c(n===s):c,children:u,ref:t})});const By=e=>Array.isArray(e)?e.flatMap(t=>By(t&&t.type===te.Fragment?t.props.children:t)):[e],m_=({children:e,location:t})=>{const r=dl(),[n]=If(r);for(const o of By(e)){let i=0;if(te.isValidElement(o)&&(i=Ly(r.parser,o.props.path,t||n,o.props.nest))[0])return te.cloneElement(o,{match:i})}return null};var fl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hl=typeof window>"u"||"Deno"in globalThis;function yr(){}function g_(e,t){return typeof e=="function"?e(t):e}function y_(e){return typeof e=="number"&&e>=0&&e!==1/0}function v_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fp(e,t){return typeof e=="function"?e(t):e}function w_(e,t){return typeof e=="function"?e(t):e}function hp(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:i,queryKey:s,stale:a}=e;if(s){if(n){if(t.queryHash!==Rf(s,t.options))return!1}else if(!ms(t.queryKey,s))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||i&&!i(t))}function pp(e,t){const{exact:r,status:n,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ps(t.options.mutationKey)!==ps(i))return!1}else if(!ms(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Rf(e,t){return((t==null?void 0:t.queryKeyHashFn)||ps)(e)}function ps(e){return JSON.stringify(e,(t,r)=>sc(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function ms(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ms(e[r],t[r])):!1}function Uy(e,t){if(e===t)return e;const r=mp(e)&&mp(t);if(r||sc(e)&&sc(t)){const n=r?e:Object.keys(e),o=n.length,i=r?t:Object.keys(t),s=i.length,a=r?[]:{};let l=0;for(let u=0;u<s;u++){const c=r?u:i[u];(!r&&n.includes(c)||r)&&e[c]===void 0&&t[c]===void 0?(a[c]=void 0,l++):(a[c]=Uy(e[c],t[c]),a[c]===e[c]&&e[c]!==void 0&&l++)}return o===s&&l===o?e:a}return t}function mp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sc(e){if(!gp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!gp(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gp(e){return Object.prototype.toString.call(e)==="[object Object]"}function b_(e){return new Promise(t=>{setTimeout(t,e)})}function __(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Uy(e,t):t}function S_(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function E_(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Nf=Symbol();function Dy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Nf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var si,xn,Ki,om,x_=(om=class extends fl{constructor(){super();Ne(this,si);Ne(this,xn);Ne(this,Ki);xe(this,Ki,t=>{if(!hl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){x(this,xn)||this.setEventListener(x(this,Ki))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,xn))==null||t.call(this),xe(this,xn,void 0))}setEventListener(t){var r;xe(this,Ki,t),(r=x(this,xn))==null||r.call(this),xe(this,xn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){x(this,si)!==t&&(xe(this,si,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof x(this,si)=="boolean"?x(this,si):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},si=new WeakMap,xn=new WeakMap,Ki=new WeakMap,om),Fy=new x_,Gi,kn,Yi,sm,k_=(sm=class extends fl{constructor(){super();Ne(this,Gi,!0);Ne(this,kn);Ne(this,Yi);xe(this,Yi,t=>{if(!hl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){x(this,kn)||this.setEventListener(x(this,Yi))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,kn))==null||t.call(this),xe(this,kn,void 0))}setEventListener(t){var r;xe(this,Yi,t),(r=x(this,kn))==null||r.call(this),xe(this,kn,t(this.setOnline.bind(this)))}setOnline(t){x(this,Gi)!==t&&(xe(this,Gi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return x(this,Gi)}},Gi=new WeakMap,kn=new WeakMap,Yi=new WeakMap,sm),Wa=new k_;function C_(){let e,t;const r=new Promise((o,i)=>{e=o,t=i});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}function A_(e){return Math.min(1e3*2**e,3e4)}function $y(e){return(e??"online")==="online"?Wa.isOnline():!0}var Wy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Jl(e){return e instanceof Wy}function zy(e){let t=!1,r=0,n=!1,o;const i=C_(),s=b=>{var S;n||(f(new Wy(b)),(S=e.abort)==null||S.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>Fy.isFocused()&&(e.networkMode==="always"||Wa.isOnline())&&e.canRun(),c=()=>$y(e.networkMode)&&e.canRun(),d=b=>{var S;n||(n=!0,(S=e.onSuccess)==null||S.call(e,b),o==null||o(),i.resolve(b))},f=b=>{var S;n||(n=!0,(S=e.onError)==null||S.call(e,b),o==null||o(),i.reject(b))},p=()=>new Promise(b=>{var S;o=_=>{(n||u())&&b(_)},(S=e.onPause)==null||S.call(e)}).then(()=>{var b;o=void 0,n||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(n)return;let b;const S=r===0?e.initialPromise:void 0;try{b=S??e.fn()}catch(_){b=Promise.reject(_)}Promise.resolve(b).then(d).catch(_=>{var E;if(n)return;const m=e.retry??(hl?0:3),v=e.retryDelay??A_,k=typeof v=="function"?v(r,_):v,T=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,_);if(t||!T){f(_);return}r++,(E=e.onFail)==null||E.call(e,r,_),b_(k).then(()=>u()?void 0:p()).then(()=>{t?f(_):y()})})};return{promise:i,cancel:s,continue:()=>(o==null||o(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?y():p().then(y),i)}}function T_(){let e=[],t=0,r=a=>{a()},n=a=>{a()},o=a=>setTimeout(a,0);const i=a=>{t?e.push(a):o(()=>{r(a)})},s=()=>{const a=e;e=[],a.length&&o(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||s()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{o=a}}}var Mt=T_(),ai,am,Vy=(am=class{constructor(){Ne(this,ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),y_(this.gcTime)&&xe(this,ai,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hl?1/0:5*60*1e3))}clearGcTimeout(){x(this,ai)&&(clearTimeout(x(this,ai)),xe(this,ai,void 0))}},ai=new WeakMap,am),Xi,Ji,sr,Pt,ys,li,vr,Fr,lm,P_=(lm=class extends Vy{constructor(t){super();Ne(this,vr);Ne(this,Xi);Ne(this,Ji);Ne(this,sr);Ne(this,Pt);Ne(this,ys);Ne(this,li);xe(this,li,!1),xe(this,ys,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,sr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,Xi,R_(this.options)),this.state=t.state??x(this,Xi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,Pt))==null?void 0:t.promise}setOptions(t){this.options={...x(this,ys),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,sr).remove(this)}setData(t,r){const n=__(this.state.data,t,this.options);return Ae(this,vr,Fr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ae(this,vr,Fr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=x(this,Pt))==null?void 0:n.promise;return(o=x(this,Pt))==null||o.cancel(t),r?r.then(yr).catch(yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,Xi))}isActive(){return this.observers.some(t=>w_(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!v_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=x(this,Pt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=x(this,Pt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,sr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(x(this,Pt)&&(x(this,li)?x(this,Pt).cancel({revert:!0}):x(this,Pt).cancelRetry()),this.scheduleGc()),x(this,sr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,vr,Fr).call(this,{type:"invalidate"})}fetch(t,r){var l,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(x(this,Pt))return x(this,Pt).continueRetry(),x(this,Pt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,o=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(xe(this,li,!0),n.signal)})},i=()=>{const d=Dy(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return o(f),xe(this,li,!1),this.options.persister?this.options.persister(d,f,this):d(f)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};o(s),(l=this.options.behavior)==null||l.onFetch(s,this),xe(this,Ji,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Ae(this,vr,Fr).call(this,{type:"fetch",meta:(c=s.fetchOptions)==null?void 0:c.meta});const a=d=>{var f,p,y,b;Jl(d)&&d.silent||Ae(this,vr,Fr).call(this,{type:"error",error:d}),Jl(d)||((p=(f=x(this,sr).config).onError)==null||p.call(f,d,this),(b=(y=x(this,sr).config).onSettled)==null||b.call(y,this.state.data,d,this)),this.scheduleGc()};return xe(this,Pt,zy({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var f,p,y,b;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(S){a(S);return}(p=(f=x(this,sr).config).onSuccess)==null||p.call(f,d,this),(b=(y=x(this,sr).config).onSettled)==null||b.call(y,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,f)=>{Ae(this,vr,Fr).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{Ae(this,vr,Fr).call(this,{type:"pause"})},onContinue:()=>{Ae(this,vr,Fr).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),x(this,Pt).start()}},Xi=new WeakMap,Ji=new WeakMap,sr=new WeakMap,Pt=new WeakMap,ys=new WeakMap,li=new WeakMap,vr=new WeakSet,Fr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...I_(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Jl(o)&&o.revert&&x(this,Ji)?{...x(this,Ji),fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Mt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),x(this,sr).notify({query:this,type:"updated",action:t})})},lm);function I_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$y(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function R_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Tr,um,N_=(um=class extends fl{constructor(t={}){super();Ne(this,Tr);this.config=t,xe(this,Tr,new Map)}build(t,r,n){const o=r.queryKey,i=r.queryHash??Rf(o,r);let s=this.get(i);return s||(s=new P_({cache:this,queryKey:o,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(s)),s}add(t){x(this,Tr).has(t.queryHash)||(x(this,Tr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=x(this,Tr).get(t.queryHash);r&&(t.destroy(),r===t&&x(this,Tr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,Tr).get(t)}getAll(){return[...x(this,Tr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hp(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>hp(t,n)):r}notify(t){Mt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tr=new WeakMap,um),Pr,Ot,ui,Ir,pn,cm,O_=(cm=class extends Vy{constructor(t){super();Ne(this,Ir);Ne(this,Pr);Ne(this,Ot);Ne(this,ui);this.mutationId=t.mutationId,xe(this,Ot,t.mutationCache),xe(this,Pr,[]),this.state=t.state||j_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,Pr).includes(t)||(x(this,Pr).push(t),this.clearGcTimeout(),x(this,Ot).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,Pr,x(this,Pr).filter(r=>r!==t)),this.scheduleGc(),x(this,Ot).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,Pr).length||(this.state.status==="pending"?this.scheduleGc():x(this,Ot).remove(this))}continue(){var t;return((t=x(this,ui))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,s,a,l,u,c,d,f,p,y,b,S,_,m,v,k,T,E,C;xe(this,ui,zy({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,V)=>{Ae(this,Ir,pn).call(this,{type:"failed",failureCount:P,error:V})},onPause:()=>{Ae(this,Ir,pn).call(this,{type:"pause"})},onContinue:()=>{Ae(this,Ir,pn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Ot).canRun(this)}));const r=this.state.status==="pending",n=!x(this,ui).canStart();try{if(!r){Ae(this,Ir,pn).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(o=x(this,Ot).config).onMutate)==null?void 0:i.call(o,t,this));const V=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,t));V!==this.state.context&&Ae(this,Ir,pn).call(this,{type:"pending",context:V,variables:t,isPaused:n})}const P=await x(this,ui).start();return await((u=(l=x(this,Ot).config).onSuccess)==null?void 0:u.call(l,P,t,this.state.context,this)),await((d=(c=this.options).onSuccess)==null?void 0:d.call(c,P,t,this.state.context)),await((p=(f=x(this,Ot).config).onSettled)==null?void 0:p.call(f,P,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,P,null,t,this.state.context)),Ae(this,Ir,pn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((_=(S=x(this,Ot).config).onError)==null?void 0:_.call(S,P,t,this.state.context,this)),await((v=(m=this.options).onError)==null?void 0:v.call(m,P,t,this.state.context)),await((T=(k=x(this,Ot).config).onSettled)==null?void 0:T.call(k,void 0,P,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,P,t,this.state.context)),P}finally{Ae(this,Ir,pn).call(this,{type:"error",error:P})}}finally{x(this,Ot).runNext(this)}}},Pr=new WeakMap,Ot=new WeakMap,ui=new WeakMap,Ir=new WeakSet,pn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mt.batch(()=>{x(this,Pr).forEach(n=>{n.onMutationUpdate(t)}),x(this,Ot).notify({mutation:this,type:"updated",action:t})})},cm);function j_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gt,vs,dm,M_=(dm=class extends fl{constructor(t={}){super();Ne(this,Gt);Ne(this,vs);this.config=t,xe(this,Gt,new Map),xe(this,vs,Date.now())}build(t,r,n){const o=new O_({mutationCache:this,mutationId:++Kn(this,vs)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){const r=Ws(t),n=x(this,Gt).get(r)??[];n.push(t),x(this,Gt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Ws(t);if(x(this,Gt).has(r)){const o=(n=x(this,Gt).get(r))==null?void 0:n.filter(i=>i!==t);o&&(o.length===0?x(this,Gt).delete(r):x(this,Gt).set(r,o))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=x(this,Gt).get(Ws(t)))==null?void 0:n.find(o=>o.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=x(this,Gt).get(Ws(t)))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...x(this,Gt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>pp(r,n))}findAll(t={}){return this.getAll().filter(r=>pp(t,r))}notify(t){Mt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Mt.batch(()=>Promise.all(t.map(r=>r.continue().catch(yr))))}},Gt=new WeakMap,vs=new WeakMap,dm);function Ws(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function yp(e){return{onFetch:(t,r)=>{var c,d,f,p,y;const n=t.options,o=(f=(d=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let b=!1;const S=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},_=Dy(t.options,t.fetchOptions),m=async(v,k,T)=>{if(b)return Promise.reject();if(k==null&&v.pages.length)return Promise.resolve(v);const E={queryKey:t.queryKey,pageParam:k,direction:T?"backward":"forward",meta:t.options.meta};S(E);const C=await _(E),{maxPages:P}=t.options,V=T?E_:S_;return{pages:V(v.pages,C,P),pageParams:V(v.pageParams,k,P)}};if(o&&i.length){const v=o==="backward",k=v?L_:vp,T={pages:i,pageParams:s},E=k(n,T);a=await m(T,E,v)}else{const v=e??i.length;do{const k=l===0?s[0]??n.initialPageParam:vp(n,a);if(l>0&&k==null)break;a=await m(a,k),l++}while(l<v)}return a};t.options.persister?t.fetchFn=()=>{var b,S;return(S=(b=t.options).persister)==null?void 0:S.call(b,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function vp(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function L_(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ut,Cn,An,Zi,eo,Tn,to,ro,fm,B_=(fm=class{constructor(e={}){Ne(this,ut);Ne(this,Cn);Ne(this,An);Ne(this,Zi);Ne(this,eo);Ne(this,Tn);Ne(this,to);Ne(this,ro);xe(this,ut,e.queryCache||new N_),xe(this,Cn,e.mutationCache||new M_),xe(this,An,e.defaultOptions||{}),xe(this,Zi,new Map),xe(this,eo,new Map),xe(this,Tn,0)}mount(){Kn(this,Tn)._++,x(this,Tn)===1&&(xe(this,to,Fy.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,ut).onFocus())})),xe(this,ro,Wa.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,ut).onOnline())})))}unmount(){var e,t;Kn(this,Tn)._--,x(this,Tn)===0&&((e=x(this,to))==null||e.call(this),xe(this,to,void 0),(t=x(this,ro))==null||t.call(this),xe(this,ro,void 0))}isFetching(e){return x(this,ut).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,Cn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=x(this,ut).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=x(this,ut).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(fp(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return x(this,ut).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=x(this,ut).get(n.queryHash),i=o==null?void 0:o.state.data,s=g_(t,i);if(s!==void 0)return x(this,ut).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Mt.batch(()=>x(this,ut).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=x(this,ut).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=x(this,ut);Mt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=x(this,ut),n={type:"active",...e};return Mt.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Mt.batch(()=>x(this,ut).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(yr).catch(yr)}invalidateQueries(e={},t={}){return Mt.batch(()=>{if(x(this,ut).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Mt.batch(()=>x(this,ut).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let i=o.fetch(void 0,r);return r.throwOnError||(i=i.catch(yr)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=x(this,ut).build(this,t);return r.isStaleByTime(fp(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yr).catch(yr)}fetchInfiniteQuery(e){return e.behavior=yp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yr).catch(yr)}ensureInfiniteQueryData(e){return e.behavior=yp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wa.isOnline()?x(this,Cn).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,ut)}getMutationCache(){return x(this,Cn)}getDefaultOptions(){return x(this,An)}setDefaultOptions(e){xe(this,An,e)}setQueryDefaults(e,t){x(this,Zi).set(ps(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,Zi).values()];let r={};return t.forEach(n=>{ms(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){x(this,eo).set(ps(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,eo).values()];let r={};return t.forEach(n=>{ms(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,An).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Nf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,An).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,ut).clear(),x(this,Cn).clear()}},ut=new WeakMap,Cn=new WeakMap,An=new WeakMap,Zi=new WeakMap,eo=new WeakMap,Tn=new WeakMap,to=new WeakMap,ro=new WeakMap,fm),U_=te.createContext(void 0),D_=({client:e,children:t})=>(te.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),I.jsx(U_.Provider,{value:e,children:t}));async function F_(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const $_=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await F_(r),await r.json())},W_=new B_({defaultOptions:{queries:{queryFn:$_({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),z_=1,V_=1e6;let Zl=0;function H_(){return Zl=(Zl+1)%Number.MAX_SAFE_INTEGER,Zl.toString()}const eu=new Map,wp=e=>{if(eu.has(e))return;const t=setTimeout(()=>{eu.delete(e),Ko({type:"REMOVE_TOAST",toastId:e})},V_);eu.set(e,t)},q_=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,z_)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?wp(r):e.toasts.forEach(n=>{wp(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},la=[];let ua={toasts:[]};function Ko(e){ua=q_(ua,e),la.forEach(t=>{t(ua)})}function Q_({...e}){const t=H_(),r=o=>Ko({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>Ko({type:"DISMISS_TOAST",toastId:t});return Ko({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function K_(){const[e,t]=te.useState(ua);return te.useEffect(()=>(la.push(t),()=>{const r=la.indexOf(t);r>-1&&la.splice(r,1)}),[e]),{...e,toast:Q_,dismiss:r=>Ko({type:"DISMISS_TOAST",toastId:r})}}function Jt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function G_(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Hy(...e){return t=>e.forEach(r=>G_(r,t))}function bi(...e){return te.useCallback(Hy(...e),e)}function Y_(e,t=[]){let r=[];function n(i,s){const a=te.createContext(s),l=r.length;r=[...r,s];function u(d){const{scope:f,children:p,...y}=d,b=(f==null?void 0:f[e][l])||a,S=te.useMemo(()=>y,Object.values(y));return I.jsx(b.Provider,{value:S,children:p})}function c(d,f){const p=(f==null?void 0:f[e][l])||a,y=te.useContext(p);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const o=()=>{const i=r.map(s=>te.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return te.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[n,X_(o,...t)]}function X_(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=n.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return te.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var za=te.forwardRef((e,t)=>{const{children:r,...n}=e,o=te.Children.toArray(r),i=o.find(Z_);if(i){const s=i.props.children,a=o.map(l=>l===i?te.Children.count(s)>1?te.Children.only(null):te.isValidElement(s)?s.props.children:null:l);return I.jsx(ac,{...n,ref:t,children:te.isValidElement(s)?te.cloneElement(s,void 0,a):null})}return I.jsx(ac,{...n,ref:t,children:r})});za.displayName="Slot";var ac=te.forwardRef((e,t)=>{const{children:r,...n}=e;if(te.isValidElement(r)){const o=tS(r);return te.cloneElement(r,{...eS(n,r.props),ref:t?Hy(t,o):o})}return te.Children.count(r)>1?te.Children.only(null):null});ac.displayName="SlotClone";var J_=({children:e})=>I.jsx(I.Fragment,{children:e});function Z_(e){return te.isValidElement(e)&&e.type===J_}function eS(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...a)=>{i(...a),o(...a)}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function tS(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function rS(e){const t=e+"CollectionProvider",[r,n]=Y_(t),[o,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:y,children:b}=p,S=hn.useRef(null),_=hn.useRef(new Map).current;return I.jsx(o,{scope:y,itemMap:_,collectionRef:S,children:b})};s.displayName=t;const a=e+"CollectionSlot",l=hn.forwardRef((p,y)=>{const{scope:b,children:S}=p,_=i(a,b),m=bi(y,_.collectionRef);return I.jsx(za,{ref:m,children:S})});l.displayName=a;const u=e+"CollectionItemSlot",c="data-radix-collection-item",d=hn.forwardRef((p,y)=>{const{scope:b,children:S,..._}=p,m=hn.useRef(null),v=bi(y,m),k=i(u,b);return hn.useEffect(()=>(k.itemMap.set(m,{ref:m,..._}),()=>void k.itemMap.delete(m))),I.jsx(za,{[c]:"",ref:v,children:S})});d.displayName=u;function f(p){const y=i(e+"CollectionConsumer",p);return hn.useCallback(()=>{const S=y.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${c}]`));return Array.from(y.itemMap.values()).sort((k,T)=>_.indexOf(k.ref.current)-_.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},f,n]}function nS(e,t=[]){let r=[];function n(i,s){const a=te.createContext(s),l=r.length;r=[...r,s];const u=d=>{var _;const{scope:f,children:p,...y}=d,b=((_=f==null?void 0:f[e])==null?void 0:_[l])||a,S=te.useMemo(()=>y,Object.values(y));return I.jsx(b.Provider,{value:S,children:p})};u.displayName=i+"Provider";function c(d,f){var b;const p=((b=f==null?void 0:f[e])==null?void 0:b[l])||a,y=te.useContext(p);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,c]}const o=()=>{const i=r.map(s=>te.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return te.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[n,iS(o,...t)]}function iS(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=n.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return te.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var oS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Lr=oS.reduce((e,t)=>{const r=te.forwardRef((n,o)=>{const{asChild:i,...s}=n,a=i?za:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(a,{...s,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function qy(e,t){e&&cl.flushSync(()=>e.dispatchEvent(t))}function tn(e){const t=te.useRef(e);return te.useEffect(()=>{t.current=e}),te.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function sS(e,t=globalThis==null?void 0:globalThis.document){const r=tn(e);te.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var aS="DismissableLayer",lc="dismissableLayer.update",lS="dismissableLayer.pointerDownOutside",uS="dismissableLayer.focusOutside",bp,Qy=te.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ky=te.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,u=te.useContext(Qy),[c,d]=te.useState(null),f=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=te.useState({}),y=bi(t,C=>d(C)),b=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=b.indexOf(S),m=c?b.indexOf(c):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,k=m>=_,T=dS(C=>{const P=C.target,V=[...u.branches].some(Q=>Q.contains(P));!k||V||(o==null||o(C),s==null||s(C),C.defaultPrevented||a==null||a())},f),E=fS(C=>{const P=C.target;[...u.branches].some(Q=>Q.contains(P))||(i==null||i(C),s==null||s(C),C.defaultPrevented||a==null||a())},f);return sS(C=>{m===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),te.useEffect(()=>{if(c)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(bp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),_p(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=bp)}},[c,f,r,u]),te.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),_p())},[c,u]),te.useEffect(()=>{const C=()=>p({});return document.addEventListener(lc,C),()=>document.removeEventListener(lc,C)},[]),I.jsx(Lr.div,{...l,ref:y,style:{pointerEvents:v?k?"auto":"none":void 0,...e.style},onFocusCapture:Jt(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Jt(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Jt(e.onPointerDownCapture,T.onPointerDownCapture)})});Ky.displayName=aS;var cS="DismissableLayerBranch",Gy=te.forwardRef((e,t)=>{const r=te.useContext(Qy),n=te.useRef(null),o=bi(t,n);return te.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),I.jsx(Lr.div,{...e,ref:o})});Gy.displayName=cS;function dS(e,t=globalThis==null?void 0:globalThis.document){const r=tn(e),n=te.useRef(!1),o=te.useRef(()=>{});return te.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){Yy(lS,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function fS(e,t=globalThis==null?void 0:globalThis.document){const r=tn(e),n=te.useRef(!1);return te.useEffect(()=>{const o=i=>{i.target&&!n.current&&Yy(uS,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _p(){const e=new CustomEvent(lc);document.dispatchEvent(e)}function Yy(e,t,r,{discrete:n}){const o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?qy(o,i):o.dispatchEvent(i)}var hS=Ky,pS=Gy,Va=globalThis!=null&&globalThis.document?te.useLayoutEffect:()=>{},mS="Portal",Xy=te.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[o,i]=te.useState(!1);Va(()=>i(!0),[]);const s=r||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?D1.createPortal(I.jsx(Lr.div,{...n,ref:t}),s):null});Xy.displayName=mS;function gS(e,t){return te.useReducer((r,n)=>t[r][n]??r,e)}var Jy=e=>{const{present:t,children:r}=e,n=yS(t),o=typeof r=="function"?r({present:n.isPresent}):te.Children.only(r),i=bi(n.ref,vS(o));return typeof r=="function"||n.isPresent?te.cloneElement(o,{ref:i}):null};Jy.displayName="Presence";function yS(e){const[t,r]=te.useState(),n=te.useRef({}),o=te.useRef(e),i=te.useRef("none"),s=e?"mounted":"unmounted",[a,l]=gS(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return te.useEffect(()=>{const u=zs(n.current);i.current=a==="mounted"?u:"none"},[a]),Va(()=>{const u=n.current,c=o.current;if(c!==e){const f=i.current,p=zs(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&f!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Va(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,d=p=>{const b=zs(n.current).includes(p.animationName);if(p.target===t&&b&&(l("ANIMATION_END"),!o.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},f=p=>{p.target===t&&(i.current=zs(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:te.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function zs(e){return(e==null?void 0:e.animationName)||"none"}function vS(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function wS({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,o]=bS({defaultProp:t,onChange:r}),i=e!==void 0,s=i?e:n,a=tn(r),l=te.useCallback(u=>{if(i){const d=typeof u=="function"?u(e):u;d!==e&&a(d)}else o(u)},[i,e,o,a]);return[s,l]}function bS({defaultProp:e,onChange:t}){const r=te.useState(e),[n]=r,o=te.useRef(n),i=tn(t);return te.useEffect(()=>{o.current!==n&&(i(n),o.current=n)},[n,o,i]),r}var _S="VisuallyHidden",Of=te.forwardRef((e,t)=>I.jsx(Lr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Of.displayName=_S;var jf="ToastProvider",[Mf,SS,ES]=rS("Toast"),[Zy,pk]=nS("Toast",[ES]),[xS,pl]=Zy(jf),e0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:s}=e,[a,l]=te.useState(null),[u,c]=te.useState(0),d=te.useRef(!1),f=te.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${jf}\`. Expected non-empty \`string\`.`),I.jsx(Mf.Provider,{scope:t,children:I.jsx(xS,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:te.useCallback(()=>c(p=>p+1),[]),onToastRemove:te.useCallback(()=>c(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:s})})};e0.displayName=jf;var t0="ToastViewport",kS=["F8"],uc="toast.viewportPause",cc="toast.viewportResume",r0=te.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=kS,label:o="Notifications ({hotkey})",...i}=e,s=pl(t0,r),a=SS(r),l=te.useRef(null),u=te.useRef(null),c=te.useRef(null),d=te.useRef(null),f=bi(t,d,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=s.toastCount>0;te.useEffect(()=>{const S=_=>{var v;n.length!==0&&n.every(k=>_[k]||_.code===k)&&((v=d.current)==null||v.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),te.useEffect(()=>{const S=l.current,_=d.current;if(y&&S&&_){const m=()=>{if(!s.isClosePausedRef.current){const E=new CustomEvent(uc);_.dispatchEvent(E),s.isClosePausedRef.current=!0}},v=()=>{if(s.isClosePausedRef.current){const E=new CustomEvent(cc);_.dispatchEvent(E),s.isClosePausedRef.current=!1}},k=E=>{!S.contains(E.relatedTarget)&&v()},T=()=>{S.contains(document.activeElement)||v()};return S.addEventListener("focusin",m),S.addEventListener("focusout",k),S.addEventListener("pointermove",m),S.addEventListener("pointerleave",T),window.addEventListener("blur",m),window.addEventListener("focus",v),()=>{S.removeEventListener("focusin",m),S.removeEventListener("focusout",k),S.removeEventListener("pointermove",m),S.removeEventListener("pointerleave",T),window.removeEventListener("blur",m),window.removeEventListener("focus",v)}}},[y,s.isClosePausedRef]);const b=te.useCallback(({tabbingDirection:S})=>{const m=a().map(v=>{const k=v.ref.current,T=[k,...US(k)];return S==="forwards"?T:T.reverse()});return(S==="forwards"?m.reverse():m).flat()},[a]);return te.useEffect(()=>{const S=d.current;if(S){const _=m=>{var T,E,C;const v=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!v){const P=document.activeElement,V=m.shiftKey;if(m.target===S&&V){(T=u.current)==null||T.focus();return}const R=b({tabbingDirection:V?"backwards":"forwards"}),ee=R.findIndex(q=>q===P);tu(R.slice(ee+1))?m.preventDefault():V?(E=u.current)==null||E.focus():(C=c.current)==null||C.focus()}};return S.addEventListener("keydown",_),()=>S.removeEventListener("keydown",_)}},[a,b]),I.jsxs(pS,{ref:l,role:"region","aria-label":o.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&I.jsx(dc,{ref:u,onFocusFromOutsideViewport:()=>{const S=b({tabbingDirection:"forwards"});tu(S)}}),I.jsx(Mf.Slot,{scope:r,children:I.jsx(Lr.ol,{tabIndex:-1,...i,ref:f})}),y&&I.jsx(dc,{ref:c,onFocusFromOutsideViewport:()=>{const S=b({tabbingDirection:"backwards"});tu(S)}})]})});r0.displayName=t0;var n0="ToastFocusProxy",dc=te.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,i=pl(n0,r);return I.jsx(Of,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const a=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});dc.displayName=n0;var ml="Toast",CS="toast.swipeStart",AS="toast.swipeMove",TS="toast.swipeCancel",PS="toast.swipeEnd",i0=te.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:i,...s}=e,[a=!0,l]=wS({prop:n,defaultProp:o,onChange:i});return I.jsx(Jy,{present:r||a,children:I.jsx(NS,{open:a,...s,ref:t,onClose:()=>l(!1),onPause:tn(e.onPause),onResume:tn(e.onResume),onSwipeStart:Jt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Jt(e.onSwipeMove,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Jt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Jt(e.onSwipeEnd,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});i0.displayName=ml;var[IS,RS]=Zy(ml,{onClose(){}}),NS=te.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:i,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...y}=e,b=pl(ml,r),[S,_]=te.useState(null),m=bi(t,q=>_(q)),v=te.useRef(null),k=te.useRef(null),T=o||b.duration,E=te.useRef(0),C=te.useRef(T),P=te.useRef(0),{onToastAdd:V,onToastRemove:Q}=b,oe=tn(()=>{var $;(S==null?void 0:S.contains(document.activeElement))&&(($=b.viewport)==null||$.focus()),s()}),R=te.useCallback(q=>{!q||q===1/0||(window.clearTimeout(P.current),E.current=new Date().getTime(),P.current=window.setTimeout(oe,q))},[oe]);te.useEffect(()=>{const q=b.viewport;if(q){const $=()=>{R(C.current),u==null||u()},he=()=>{const pe=new Date().getTime()-E.current;C.current=C.current-pe,window.clearTimeout(P.current),l==null||l()};return q.addEventListener(uc,he),q.addEventListener(cc,$),()=>{q.removeEventListener(uc,he),q.removeEventListener(cc,$)}}},[b.viewport,T,l,u,R]),te.useEffect(()=>{i&&!b.isClosePausedRef.current&&R(T)},[i,T,b.isClosePausedRef,R]),te.useEffect(()=>(V(),()=>Q()),[V,Q]);const ee=te.useMemo(()=>S?d0(S):null,[S]);return b.viewport?I.jsxs(I.Fragment,{children:[ee&&I.jsx(OS,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),I.jsx(IS,{scope:r,onClose:oe,children:cl.createPortal(I.jsx(Mf.ItemSlot,{scope:r,children:I.jsx(hS,{asChild:!0,onEscapeKeyDown:Jt(a,()=>{b.isFocusedToastEscapeKeyDownRef.current||oe(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:I.jsx(Lr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...y,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Jt(e.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,oe()))}),onPointerDown:Jt(e.onPointerDown,q=>{q.button===0&&(v.current={x:q.clientX,y:q.clientY})}),onPointerMove:Jt(e.onPointerMove,q=>{if(!v.current)return;const $=q.clientX-v.current.x,he=q.clientY-v.current.y,pe=!!k.current,H=["left","right"].includes(b.swipeDirection),fe=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,D=H?fe(0,$):0,se=H?0:fe(0,he),O=q.pointerType==="touch"?10:2,ce={x:D,y:se},we={originalEvent:q,delta:ce};pe?(k.current=ce,Vs(AS,d,we,{discrete:!1})):Sp(ce,b.swipeDirection,O)?(k.current=ce,Vs(CS,c,we,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs($)>O||Math.abs(he)>O)&&(v.current=null)}),onPointerUp:Jt(e.onPointerUp,q=>{const $=k.current,he=q.target;if(he.hasPointerCapture(q.pointerId)&&he.releasePointerCapture(q.pointerId),k.current=null,v.current=null,$){const pe=q.currentTarget,H={originalEvent:q,delta:$};Sp($,b.swipeDirection,b.swipeThreshold)?Vs(PS,p,H,{discrete:!0}):Vs(TS,f,H,{discrete:!0}),pe.addEventListener("click",fe=>fe.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),OS=e=>{const{__scopeToast:t,children:r,...n}=e,o=pl(ml,t),[i,s]=te.useState(!1),[a,l]=te.useState(!1);return LS(()=>s(!0)),te.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:I.jsx(Xy,{asChild:!0,children:I.jsx(Of,{...n,children:i&&I.jsxs(I.Fragment,{children:[o.label," ",r]})})})},jS="ToastTitle",o0=te.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return I.jsx(Lr.div,{...n,ref:t})});o0.displayName=jS;var MS="ToastDescription",s0=te.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return I.jsx(Lr.div,{...n,ref:t})});s0.displayName=MS;var a0="ToastAction",l0=te.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?I.jsx(c0,{altText:r,asChild:!0,children:I.jsx(Lf,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${a0}\`. Expected non-empty \`string\`.`),null)});l0.displayName=a0;var u0="ToastClose",Lf=te.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=RS(u0,r);return I.jsx(c0,{asChild:!0,children:I.jsx(Lr.button,{type:"button",...n,ref:t,onClick:Jt(e.onClick,o.onClose)})})});Lf.displayName=u0;var c0=te.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return I.jsx(Lr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function d0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),BS(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...d0(n))}}),t}function Vs(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?qy(o,i):o.dispatchEvent(i)}var Sp=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),i=n>o;return t==="left"||t==="right"?i&&n>r:!i&&o>r};function LS(e=()=>{}){const t=tn(e);Va(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function BS(e){return e.nodeType===e.ELEMENT_NODE}function US(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var DS=e0,f0=r0,h0=i0,p0=o0,m0=s0,g0=l0,y0=Lf;function v0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=v0(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function FS(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=v0(e))&&(n&&(n+=" "),n+=t);return n}const Ep=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,xp=FS,$S=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return xp(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:i}=t,s=Object.keys(o).map(u=>{const c=r==null?void 0:r[u],d=i==null?void 0:i[u];if(c===null)return null;const f=Ep(c)||Ep(d);return o[u][f]}),a=r&&Object.entries(r).reduce((u,c)=>{let[d,f]=c;return f===void 0||(u[d]=f),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,c)=>{let{class:d,className:f,...p}=c;return Object.entries(p).every(y=>{let[b,S]=y;return Array.isArray(S)?S.includes({...i,...a}[b]):{...i,...a}[b]===S})?[...u,d,f]:u},[]);return xp(e,s,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w0=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=te.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:s,...a},l)=>te.createElement("svg",{ref:l,...zS,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:w0("lucide",o),...a},[...s.map(([u,c])=>te.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=(e,t)=>{const r=te.forwardRef(({className:n,...o},i)=>te.createElement(VS,{ref:i,iconNode:t,className:w0(`lucide-${WS(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=HS("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function b0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=b0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function QS(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=b0(e))&&(n&&(n+=" "),n+=t);return n}const Bf="-",KS=e=>{const t=YS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const a=s.split(Bf);return a[0]===""&&a.length!==1&&a.shift(),_0(a,t)||GS(s)},getConflictingClassGroupIds:(s,a)=>{const l=r[s]||[];return a&&n[s]?[...l,...n[s]]:l}}},_0=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?_0(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(Bf);return(s=t.validators.find(({validator:a})=>a(i)))==null?void 0:s.classGroupId},kp=/^\[(.+)\]$/,GS=e=>{if(kp.test(e)){const t=kp.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},YS=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return JS(Object.entries(e.classGroups),r).forEach(([i,s])=>{fc(s,n,i,t)}),n},fc=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:Cp(t,o);i.classGroupId=r;return}if(typeof o=="function"){if(XS(o)){fc(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([i,s])=>{fc(s,Cp(t,i),r,n)})})},Cp=(e,t)=>{let r=e;return t.split(Bf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},XS=e=>e.isThemeGetter,JS=(e,t)=>t?e.map(([r,n])=>{const o=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,a])=>[t+s,a])):i);return[r,o]}):e,ZS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return o(i,s),s},set(i,s){r.has(i)?r.set(i,s):o(i,s)}}},S0="!",eE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],i=t.length,s=a=>{const l=[];let u=0,c=0,d;for(let S=0;S<a.length;S++){let _=a[S];if(u===0){if(_===o&&(n||a.slice(S,S+i)===t)){l.push(a.slice(c,S)),c=S+i;continue}if(_==="/"){d=S;continue}}_==="["?u++:_==="]"&&u--}const f=l.length===0?a:a.substring(c),p=f.startsWith(S0),y=p?f.substring(1):f,b=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:b}};return r?a=>r({className:a,parseClassName:s}):s},tE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},rE=e=>({cache:ZS(e.cacheSize),parseClassName:eE(e),...KS(e)}),nE=/\s+/,iE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(nE);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:c,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let y=!!p,b=n(y?f.substring(0,p):f);if(!b){if(!y){a=u+(a.length>0?" "+a:a);continue}if(b=n(f),!b){a=u+(a.length>0?" "+a:a);continue}y=!1}const S=tE(c).join(":"),_=d?S+S0:S,m=_+b;if(i.includes(m))continue;i.push(m);const v=o(b,y);for(let k=0;k<v.length;++k){const T=v[k];i.push(_+T)}a=u+(a.length>0?" "+a:a)}return a};function oE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=E0(t))&&(n&&(n+=" "),n+=r);return n}const E0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=E0(e[n]))&&(r&&(r+=" "),r+=t);return r};function sE(e,...t){let r,n,o,i=s;function s(l){const u=t.reduce((c,d)=>d(c),e());return r=rE(u),n=r.cache.get,o=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const c=iE(l,r);return o(l,c),c}return function(){return i(oE.apply(null,arguments))}}const Ke=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},x0=/^\[(?:([a-z-]+):)?(.+)\]$/i,aE=/^\d+\/\d+$/,lE=new Set(["px","full","screen"]),uE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=e=>Qi(e)||lE.has(e)||aE.test(e),dn=e=>mo(e,"length",_E),Qi=e=>!!e&&!Number.isNaN(Number(e)),ru=e=>mo(e,"number",Qi),Po=e=>!!e&&Number.isInteger(Number(e)),pE=e=>e.endsWith("%")&&Qi(e.slice(0,-1)),Ue=e=>x0.test(e),fn=e=>uE.test(e),mE=new Set(["length","size","percentage"]),gE=e=>mo(e,mE,k0),yE=e=>mo(e,"position",k0),vE=new Set(["image","url"]),wE=e=>mo(e,vE,EE),bE=e=>mo(e,"",SE),Io=()=>!0,mo=(e,t,r)=>{const n=x0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},_E=e=>cE.test(e)&&!dE.test(e),k0=()=>!1,SE=e=>fE.test(e),EE=e=>hE.test(e),xE=()=>{const e=Ke("colors"),t=Ke("spacing"),r=Ke("blur"),n=Ke("brightness"),o=Ke("borderColor"),i=Ke("borderRadius"),s=Ke("borderSpacing"),a=Ke("borderWidth"),l=Ke("contrast"),u=Ke("grayscale"),c=Ke("hueRotate"),d=Ke("invert"),f=Ke("gap"),p=Ke("gradientColorStops"),y=Ke("gradientColorStopPositions"),b=Ke("inset"),S=Ke("margin"),_=Ke("opacity"),m=Ke("padding"),v=Ke("saturate"),k=Ke("scale"),T=Ke("sepia"),E=Ke("skew"),C=Ke("space"),P=Ke("translate"),V=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto",Ue,t],R=()=>[Ue,t],ee=()=>["",Ur,dn],q=()=>["auto",Qi,Ue],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],he=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],fe=()=>["","0",Ue],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Qi,Ue];return{cacheSize:500,separator:":",theme:{colors:[Io],spacing:[Ur,dn],blur:["none","",fn,Ue],brightness:se(),borderColor:[e],borderRadius:["none","","full",fn,Ue],borderSpacing:R(),borderWidth:ee(),contrast:se(),grayscale:fe(),hueRotate:se(),invert:fe(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[pE,dn],inset:oe(),margin:oe(),opacity:se(),padding:R(),saturate:se(),scale:se(),sepia:fe(),skew:se(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[fn]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ue]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Po,Ue]}],basis:[{basis:oe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:fe()}],shrink:[{shrink:fe()}],order:[{order:["first","last","none",Po,Ue]}],"grid-cols":[{"grid-cols":[Io]}],"col-start-end":[{col:["auto",{span:["full",Po,Ue]},Ue]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Io]}],"row-start-end":[{row:["auto",{span:[Po,Ue]},Ue]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,t]}],"min-w":[{"min-w":[Ue,t,"min","max","fit"]}],"max-w":[{"max-w":[Ue,t,"none","full","min","max","fit","prose",{screen:[fn]},fn]}],h:[{h:[Ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fn,dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ru]}],"font-family":[{font:[Io]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",Qi,ru]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,dn]}],"underline-offset":[{"underline-offset":["auto",Ur,Ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),yE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...he(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:he()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...he()]}],"outline-offset":[{"outline-offset":[Ur,Ue]}],"outline-w":[{outline:[Ur,dn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ur,dn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fn,bE]}],"shadow-color":[{shadow:[Io]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fn,Ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Po,Ue]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ur,dn,ru]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kE=sE(xE);function go(...e){return kE(QS(e))}const CE=DS,C0=te.forwardRef(({className:e,...t},r)=>I.jsx(f0,{ref:r,className:go("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));C0.displayName=f0.displayName;const AE=$S("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),A0=te.forwardRef(({className:e,variant:t,...r},n)=>I.jsx(h0,{ref:n,className:go(AE({variant:t}),e),...r}));A0.displayName=h0.displayName;const TE=te.forwardRef(({className:e,...t},r)=>I.jsx(g0,{ref:r,className:go("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));TE.displayName=g0.displayName;const T0=te.forwardRef(({className:e,...t},r)=>I.jsx(y0,{ref:r,className:go("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:I.jsx(qS,{className:"h-4 w-4"})}));T0.displayName=y0.displayName;const P0=te.forwardRef(({className:e,...t},r)=>I.jsx(p0,{ref:r,className:go("text-sm font-semibold",e),...t}));P0.displayName=p0.displayName;const I0=te.forwardRef(({className:e,...t},r)=>I.jsx(m0,{ref:r,className:go("text-sm opacity-90",e),...t}));I0.displayName=m0.displayName;function PE(){const{toasts:e}=K_();return I.jsxs(CE,{children:[e.map(function({id:t,title:r,description:n,action:o,...i}){return I.jsxs(A0,{...i,children:[I.jsxs("div",{className:"grid gap-1",children:[r&&I.jsx(P0,{children:r}),n&&I.jsx(I0,{children:n})]}),o,I.jsx(T0,{})]},t)}),I.jsx(C0,{})]})}const IE=({messages:e})=>{const t=r=>{switch(r){case"SENT":return"text-purple-400";case"RECEIVED":return"text-yellow-400";case"CONNECT":return"text-green-400";case"DISCONNECT":return"text-red-400";case"SUBSCRIBE":return"text-blue-400";case"ERROR":return"text-red-500";default:return"text-white"}};return I.jsx("div",{className:"terminal-container bg-gray-900 text-green-400 h-64 overflow-y-auto p-4 font-mono text-sm",children:e.length===0?I.jsx("div",{className:"text-gray-500 italic",children:"No messages yet. Connect to MQTT broker to see messages."}):e.map(r=>I.jsxs("div",{className:"mb-1 animate-fadeIn",children:[I.jsxs("span",{className:"text-gray-500",children:["[",r.time,"]"]}),I.jsxs("span",{className:t(r.type),children:["<",r.type,">"]}),r.topic&&I.jsxs("span",{children:[" Topic: ",r.topic," | "]}),I.jsxs("span",{children:["Message: ",r.payload]})]},r.id))})},RE=({settings:e,isConnected:t,onUpdateSettings:r,onConnect:n,onDisconnect:o})=>{const[i,s]=te.useState(e),[a,l]=te.useState(!1),u=f=>{const{name:p,value:y}=f.target;if(p.startsWith("options.")){const b=p.split(".")[1];s({...i,options:{...i.options,[b]:y}})}else s(p==="port"?{...i,[p]:parseInt(y,10)}:p==="qos"?{...i,[p]:parseInt(y,10)}:{...i,[p]:y});l(!0)},c=()=>{r(i),l(!1)},d=()=>{s(e),l(!1)};return I.jsxs("div",{className:"border-b p-4 bg-gray-50",children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Protocol"}),I.jsxs("select",{name:"protocol",value:i.protocol,onChange:u,className:"w-full p-2 border border-gray-300 rounded",children:[I.jsx("option",{value:"ws",children:"WebSocket (ws)"}),I.jsx("option",{value:"wss",children:"Secure WebSocket (wss)"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Host"}),I.jsx("input",{type:"text",name:"host",value:i.host,onChange:u,className:"border border-gray-300 p-2 w-full rounded"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Port"}),I.jsx("input",{type:"number",name:"port",value:i.port,onChange:u,className:"border border-gray-300 p-2 w-full rounded"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Request Topic"}),I.jsx("input",{type:"text",name:"requestTopic",value:i.requestTopic,onChange:u,className:"border border-gray-300 p-2 w-full rounded"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Response Topic"}),I.jsx("input",{type:"text",name:"responseTopic",value:i.responseTopic,onChange:u,className:"border border-gray-300 p-2 w-full rounded"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"QoS"}),I.jsxs("select",{name:"qos",value:i.qos,onChange:u,className:"w-full p-2 border border-gray-300 rounded",children:[I.jsx("option",{value:0,children:"0 - At most once"}),I.jsx("option",{value:1,children:"1 - At least once"}),I.jsx("option",{value:2,children:"2 - Exactly once"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Username"}),I.jsx("input",{type:"text",name:"options.username",value:i.options.username||"",onChange:u,placeholder:"Optional",className:"border border-gray-300 p-2 w-full rounded"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Password"}),I.jsx("input",{type:"password",name:"options.password",value:i.options.password||"",onChange:u,placeholder:"Optional",className:"border border-gray-300 p-2 w-full rounded"})]}),I.jsx("div",{className:"flex items-end space-x-2",children:t?I.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded w-full",onClick:o,children:"Disconnect"}):I.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded w-full",onClick:n,disabled:a,children:"Connect"})})]}),a&&I.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[I.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-1 px-3 rounded",onClick:d,children:"Cancel"}),I.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded",onClick:c,children:"Save Changes"})]})]})},NE=({systemState:e,batterySOC:t,powerFlow:r,powerValue:n,gridConnection:o,faultCode:i})=>{const s=()=>{switch(e){case"standby":return{text:"Standby",icon:"fas fa-pause-circle",color:"bg-yellow-100 text-yellow-800"};case"operational":return{text:"Operational",icon:"fas fa-check-circle",color:"bg-green-100 text-green-800"};case"fault":return{text:"Fault",icon:"fas fa-exclamation-triangle",color:"bg-red-100 text-red-800 animate-pulse"};case"maintenance":return{text:"Maintenance",icon:"fas fa-tools",color:"bg-blue-100 text-blue-800"}}},a=()=>{switch(r){case"charging":return{text:`Charging ${(n/1e3).toFixed(1)} kW`,icon:"fas fa-battery-half",color:"bg-blue-100 text-blue-800"};case"discharging":return{text:`Discharging ${(n/1e3).toFixed(1)} kW`,icon:"fas fa-bolt",color:"bg-orange-100 text-orange-800"};case"idle":return{text:"Idle",icon:"fas fa-battery-full",color:"bg-gray-100 text-gray-800"}}},l=()=>({text:o==="connected"?"Connected":"Disconnected",icon:o==="connected"?"fas fa-plug":"fas fa-plug-circle-xmark",color:o==="connected"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}),u=()=>{switch(i){case"none":return{text:"None",icon:"fas fa-circle-check",color:"bg-gray-100 text-gray-800"};case"overtemperature":return{text:"Over Temperature",icon:"fas fa-temperature-high",color:"bg-red-100 text-red-800 animate-pulse"};case"grid_failure":return{text:"Grid Failure",icon:"fas fa-bolt-lightning",color:"bg-red-100 text-red-800 animate-pulse"};case"inverter_fault":return{text:"Inverter Fault",icon:"fas fa-triangle-exclamation",color:"bg-red-100 text-red-800 animate-pulse"};case"communication_error":return{text:"Communication Error",icon:"fas fa-wifi-slash",color:"bg-red-100 text-red-800 animate-pulse"}}},c=s(),d=a(),f=l(),p=u();return I.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[I.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"BESS Status"}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("span",{className:"text-gray-700",children:"System State:"}),I.jsxs("span",{className:`font-medium px-3 py-1 rounded-full ${c.color} flex items-center`,children:[I.jsx("i",{className:`${c.icon} mr-2`}),c.text]})]}),I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("span",{className:"text-gray-700",children:"Battery State of Charge:"}),I.jsxs("div",{className:"flex items-center",children:[I.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-4 overflow-hidden mr-2",children:I.jsx("div",{className:`${t>60?"bg-green-500":t>30?"bg-yellow-500":"bg-red-500"} h-full rounded-full`,style:{width:`${t}%`}})}),I.jsxs("span",{className:"font-medium",children:[t,"%"]})]})]}),I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("span",{className:"text-gray-700",children:"Power Flow:"}),I.jsxs("span",{className:`font-medium px-3 py-1 rounded-full ${d.color} flex items-center ${r!=="idle"?"oscillating-value":""}`,children:[I.jsx("i",{className:`${d.icon} mr-2`}),d.text]})]}),I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("span",{className:"text-gray-700",children:"Grid Connection:"}),I.jsxs("span",{className:`font-medium px-3 py-1 rounded-full ${f.color} flex items-center`,children:[I.jsx("i",{className:`${f.icon} mr-2`}),f.text]})]}),I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("span",{className:"text-gray-700",children:"Fault:"}),I.jsxs("span",{className:`font-medium px-3 py-1 rounded-full ${p.color} flex items-center`,children:[I.jsx("i",{className:`${p.icon} mr-2`}),p.text]})]})]})]})},OE=({operationMode:e,changeOperationMode:t,simulateAnomaly:r,resetSystem:n,simulateAlarmRegister:o})=>{const i=a=>{t(a.target.value)},s=a=>{if(!o)return;const l=Math.floor(Math.random()*65535);o(a,l)};return I.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[I.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Quick Actions"}),I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{className:"block text-gray-700 mb-2",children:"Operation Mode"}),I.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded",value:e,onChange:i,children:[I.jsx("option",{value:"auto",children:"Automatic"}),I.jsx("option",{value:"charge",children:"Charging Only"}),I.jsx("option",{value:"discharge",children:"Discharging Only"}),I.jsx("option",{value:"standby",children:"Standby Mode"})]})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Simulate Anomalies"}),I.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[I.jsxs("button",{className:"bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded flex items-center justify-center transition",onClick:()=>r("overtemperature"),children:[I.jsx("i",{className:"fas fa-temperature-high mr-1"}),"Over Temperature"]}),I.jsxs("button",{className:"bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded flex items-center justify-center transition",onClick:()=>r("grid_failure"),children:[I.jsx("i",{className:"fas fa-bolt-lightning mr-1"}),"Grid Failure"]}),I.jsxs("button",{className:"bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded flex items-center justify-center transition",onClick:()=>r("inverter_fault"),children:[I.jsx("i",{className:"fas fa-exclamation-triangle mr-1"}),"Inverter Fault"]}),I.jsxs("button",{className:"bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded flex items-center justify-center transition",onClick:()=>r("communication_error"),children:[I.jsx("i",{className:"fas fa-wifi-slash mr-1"}),"Comm Error"]})]})]}),o&&I.jsxs("div",{className:"mb-4",children:[I.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Simulate Alarm Registers"}),I.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[I.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-3 rounded flex items-center justify-center transition",onClick:()=>s("0406"),children:[I.jsx("i",{className:"fas fa-microchip mr-1"}),"PCS Alarms"]}),I.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-3 rounded flex items-center justify-center transition",onClick:()=>s("0407"),children:[I.jsx("i",{className:"fas fa-bolt mr-1"}),"Grid Alarms"]}),I.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-3 rounded flex items-center justify-center transition",onClick:()=>s("0409"),children:[I.jsx("i",{className:"fas fa-toggle-on mr-1"}),"Switch Status"]}),I.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-3 rounded flex items-center justify-center transition",onClick:()=>s("040B"),children:[I.jsx("i",{className:"fas fa-house-fire mr-1"}),"Environment"]})]})]}),I.jsx("div",{children:I.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded w-full flex items-center justify-center transition",onClick:n,children:[I.jsx("i",{className:"fas fa-rotate mr-2"}),"Reset System"]})})]})},jE=({simulationActive:e,simulationConfig:t,startSimulation:r,stopSimulation:n})=>{const[o,i]=te.useState(t),[s,a]=te.useState(!1),l=p=>{i({...o,type:p.target.value})},u=p=>{i({...o,updateInterval:parseInt(p.target.value,10)})},c=p=>{i({...o,variationRange:parseInt(p.target.value,10)})},d=p=>{i({...o,targetRegister:p.target.value})},f=()=>{e?n():r(o)};return I.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[I.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Register Simulation"}),I.jsx("button",{className:"text-blue-500 hover:text-blue-700 focus:outline-none",onClick:()=>a(!s),type:"button",children:I.jsx("i",{className:`fas fa-${s?"times":"info-circle"}`})})]}),s&&I.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border-l-4 border-blue-500 text-sm rounded",children:[I.jsx("h3",{className:"font-medium mb-1",children:"Modalità Simulazione"}),I.jsxs("ul",{className:"list-disc list-inside space-y-1 pl-2",children:[I.jsxs("li",{children:[I.jsx("span",{className:"font-medium",children:"Auto (Inherit):"})," I registri con questa impostazione usano il tipo di simulazione definito qui"]}),I.jsxs("li",{children:[I.jsx("span",{className:"font-medium",children:"None:"})," Nessuna simulazione applicata al registro"]}),I.jsxs("li",{children:[I.jsx("span",{className:"font-medium",children:"Static:"})," I valori rimangono costanti"]}),I.jsxs("li",{children:[I.jsx("span",{className:"font-medium",children:"Random:"})," I valori variano casualmente entro il range specificato"]}),I.jsxs("li",{children:[I.jsx("span",{className:"font-medium",children:"Increment:"})," I valori aumentano gradualmente e si resettano al massimo"]}),I.jsxs("li",{children:[I.jsx("span",{className:"font-medium",children:"Sine Wave:"})," I valori oscillano seguendo un andamento sinusoidale"]})]}),I.jsx("p",{className:"mt-2 italic",children:'Imposta "auto" nei singoli registri per applicare automaticamente questa configurazione.'})]}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-700 mb-2",children:"Value Simulation"}),I.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[I.jsxs("div",{className:"flex items-center",children:[I.jsx("input",{type:"radio",id:"static",name:"simulationType",value:"static",checked:o.type==="static",onChange:l,className:"mr-2"}),I.jsx("label",{htmlFor:"static",children:"Static Values"})]}),I.jsxs("div",{className:"flex items-center",children:[I.jsx("input",{type:"radio",id:"random",name:"simulationType",value:"random",checked:o.type==="random",onChange:l,className:"mr-2"}),I.jsx("label",{htmlFor:"random",children:"Random Oscillation"})]}),I.jsxs("div",{className:"flex items-center",children:[I.jsx("input",{type:"radio",id:"increment",name:"simulationType",value:"increment",checked:o.type==="increment",onChange:l,className:"mr-2"}),I.jsx("label",{htmlFor:"increment",children:"Incremental"})]}),I.jsxs("div",{className:"flex items-center",children:[I.jsx("input",{type:"radio",id:"sine",name:"simulationType",value:"sine",checked:o.type==="sine",onChange:l,className:"mr-2"}),I.jsx("label",{htmlFor:"sine",children:"Sine Wave"})]})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Update Interval (s)"}),I.jsx("input",{type:"number",value:o.updateInterval,onChange:u,min:"1",max:"60",className:"border border-gray-300 p-2 w-full rounded"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Variation Range (%)"}),I.jsx("input",{type:"number",value:o.variationRange,onChange:c,min:"1",max:"50",className:"border border-gray-300 p-2 w-full rounded"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-700 mb-2",children:"Apply To Register"}),I.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded",value:o.targetRegister,onChange:d,children:[I.jsx("option",{value:"all",children:"All Registers"}),I.jsx("option",{value:"0003",children:"State of Charge"}),I.jsx("option",{value:"0004",children:"Battery Voltage"}),I.jsx("option",{value:"0005",children:"Battery Current"}),I.jsx("option",{value:"0006",children:"Power Output"}),I.jsx("option",{value:"0007",children:"Energy Imported"}),I.jsx("option",{value:"0008",children:"Energy Exported"}),I.jsx("option",{value:"0009",children:"Cell Temperature"})]})]}),I.jsxs("button",{className:`${e?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white py-2 px-4 rounded w-full flex items-center justify-center transition`,onClick:f,children:[I.jsx("i",{className:`${e?"fas fa-stop":"fas fa-play"} mr-2`}),e?"Stop Simulation":"Apply Simulation"]})]})]})},ME=({register:e,onBitChange:t})=>{if(!e.isBitField||!e.bitDescription)return null;const r=typeof e.value=="number"?e.value:parseInt(e.value.toString(),10)||0,n=(s,a)=>(s>>a&1)===1,o=(s,a)=>{s.stopPropagation(),e.readWrite==="R"&&console.log(`Changing bit ${a} in register ${e.registerAddress}`);const l=r^1<<a;console.log(`Toggling bit ${a} in register ${e.registerAddress} from ${r} to ${l}`),t(e.registerAddress,l)},i=s=>{const a=s.target.value.replace(/[^0-9A-Fa-f]/g,"");if(a){const l=parseInt(a,16);t(e.registerAddress,l)}};return I.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-4",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[I.jsxs("span",{className:"mr-2",children:[e.parameter," (Register: ",e.registerAddress,")"]}),I.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.isUpdated?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:e.isUpdated?"Updated":"Static"})]}),I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx("span",{className:"text-xs text-gray-500",children:"Set Hex Value:"}),I.jsx("input",{type:"text",className:"w-20 px-2 py-1 border border-gray-300 rounded text-center font-mono",value:r.toString(16).toUpperCase().padStart(4,"0"),onChange:i,onClick:s=>s.stopPropagation()}),I.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-gray-200",children:["Dec: ",r]})]})]}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:e.bitDescription.map(s=>{const a=n(r,s.bit);return I.jsxs("div",{className:`border rounded-md p-3 cursor-pointer transition-all ${a?"border-red-300 bg-red-50 hover:bg-red-100":"border-green-300 bg-green-50 hover:bg-green-100"}`,onClick:l=>o(l,s.bit),children:[I.jsxs("div",{className:"flex justify-between",children:[I.jsxs("span",{className:"font-medium",children:["Bit ",s.bit]}),I.jsx("span",{className:`text-xs px-2 py-1 rounded ${a?"bg-red-200 text-red-800":"bg-green-200 text-green-800"}`,children:a?s.abnormalState:s.normalState})]}),I.jsx("p",{className:"mt-1 text-sm",children:s.description})]},`${e.registerAddress}-bit-${s.bit}`)})})]})},LE=({registers:e,onUpdate:t,simulationActive:r})=>{const[n,o]=te.useState({}),i=(d,f)=>{const p=[...e];p[d]={...p[d],value:f,isUpdated:!0},t(p)},s=(d,f)=>{const p=[...e];if(f==="none"){const{simulation:y,...b}=p[d];p[d]={...b,isUpdated:!0}}else p[d]={...p[d],simulation:{type:f,params:{}},isUpdated:!0};t(p)},a=(d,f)=>{const p=[...e],y=p.findIndex(b=>b.registerAddress===d);y>=0&&(p[y]={...p[y],value:f,isUpdated:!0},t(p))},l=d=>{o(f=>({...f,[d]:!f[d]}))},u=e.filter(d=>!d.isBitField),c=e.filter(d=>d.isBitField);return I.jsxs("div",{children:[c.length>0&&I.jsxs("div",{className:"mb-8",children:[I.jsx("h2",{className:"text-xl font-bold mb-4",children:"Alarm Registers (Bitfields)"}),c.map(d=>I.jsxs("div",{className:"mb-4",children:[I.jsx("div",{className:"bg-white shadow rounded-lg p-4 cursor-pointer hover:bg-gray-50 transition",onClick:()=>l(d.registerAddress),children:I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsxs("div",{children:[I.jsxs("h3",{className:"text-lg font-medium",children:[d.parameter," (Register: ",d.registerAddress,")"]}),I.jsxs("div",{className:"text-sm text-gray-500",children:["Value: ",d.value," (0x",typeof d.value=="number"?d.value.toString(16).toUpperCase().padStart(4,"0"):"0000",")"]})]}),I.jsx("div",{className:"text-blue-500",children:n[d.registerAddress]?I.jsx("span",{children:"▼ Hide Details"}):I.jsx("span",{children:"► Show Details"})})]})}),n[d.registerAddress]&&I.jsx(ME,{register:d,onBitChange:a})]},d.registerAddress))]}),I.jsx("h2",{className:"text-xl font-bold mb-4",children:"Standard Registers"}),I.jsx("div",{className:"overflow-x-auto",children:I.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-lg shadow",children:[I.jsx("thead",{className:"bg-gray-50",children:I.jsxs("tr",{children:[I.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parameter"}),I.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),I.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Simulation"}),I.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Register Address"}),I.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Register ID"}),I.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access"})]})}),I.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((d,f)=>{var y,b,S;const p=e.findIndex(_=>_.registerAddress===d.registerAddress);return I.jsxs("tr",{className:`hover:bg-gray-50 ${d.isUpdated?"updated-animation":""}`,children:[I.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.parameter}),I.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:d.options?I.jsx("select",{className:"border border-gray-300 p-1 rounded w-full",value:d.value,onChange:_=>i(p,_.target.value),disabled:r&&((y=d.simulation)==null?void 0:y.type)!=="static",children:d.options.map(_=>I.jsx("option",{value:_.value,children:_.text},_.value.toString()))}):I.jsx("input",{type:"number",className:"border border-gray-300 p-1 w-24 rounded text-center",value:d.value,onChange:_=>i(p,_.target.value),disabled:r&&((b=d.simulation)==null?void 0:b.type)!=="static"})}),I.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:I.jsxs("select",{className:"border border-gray-300 p-1 rounded w-32",value:((S=d.simulation)==null?void 0:S.type)||"none",onChange:_=>s(p,_.target.value),disabled:r,children:[I.jsx("option",{value:"none",children:"None"}),I.jsx("option",{value:"auto",children:"Auto (Inherit)"}),I.jsx("option",{value:"random",children:"Random"}),I.jsx("option",{value:"increment",children:"Increment"}),I.jsx("option",{value:"sine",children:"Sine Wave"})]})}),I.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-500",children:d.registerAddress}),I.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-500",children:parseInt(d.registerAddress,16)+1}),I.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.readWrite})]},d.registerAddress)})})]})})]})};var Uf=Object.defineProperty,BE=Object.getOwnPropertyDescriptor,UE=Object.getOwnPropertyNames,DE=Object.prototype.hasOwnProperty,Dt=(e,t)=>()=>(e&&(t=e(e=0)),t),be=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),yo=(e,t)=>{for(var r in t)Uf(e,r,{get:t[r],enumerable:!0})},FE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UE(t))!DE.call(e,o)&&o!==r&&Uf(e,o,{get:()=>t[o],enumerable:!(n=BE(t,o))||n.enumerable});return e},He=e=>FE(Uf({},"__esModule",{value:!0}),e),ge=Dt(()=>{}),$e={};yo($e,{_debugEnd:()=>Hc,_debugProcess:()=>Vc,_events:()=>sd,_eventsCount:()=>ad,_exiting:()=>Ic,_fatalExceptions:()=>$c,_getActiveHandles:()=>B0,_getActiveRequests:()=>L0,_kill:()=>Oc,_linkedBinding:()=>j0,_maxListeners:()=>od,_preload_modules:()=>nd,_rawDebug:()=>Ac,_startProfilerIdleNotifier:()=>qc,_stopProfilerIdleNotifier:()=>Qc,_tickCallback:()=>zc,abort:()=>Xc,addListener:()=>ld,allowedNodeEnvironmentFlags:()=>Dc,arch:()=>pc,argv:()=>yc,argv0:()=>rd,assert:()=>U0,binding:()=>Sc,chdir:()=>kc,config:()=>Rc,cpuUsage:()=>Lo,cwd:()=>xc,debugPort:()=>td,default:()=>Ff,dlopen:()=>M0,domain:()=>Pc,emit:()=>hd,emitWarning:()=>_c,env:()=>gc,execArgv:()=>vc,execPath:()=>ed,exit:()=>Bc,features:()=>Fc,hasUncaughtExceptionCaptureCallback:()=>D0,hrtime:()=>ca,kill:()=>Lc,listeners:()=>$0,memoryUsage:()=>Mc,moduleLoadList:()=>Tc,nextTick:()=>N0,off:()=>cd,on:()=>$r,once:()=>ud,openStdin:()=>Uc,pid:()=>Jc,platform:()=>mc,ppid:()=>Zc,prependListener:()=>pd,prependOnceListener:()=>md,reallyExit:()=>Nc,release:()=>Cc,removeAllListeners:()=>fd,removeListener:()=>dd,resourceUsage:()=>jc,setSourceMapsEnabled:()=>id,setUncaughtExceptionCaptureCallback:()=>Wc,stderr:()=>Gc,stdin:()=>Yc,stdout:()=>Kc,title:()=>hc,umask:()=>Ec,uptime:()=>F0,version:()=>wc,versions:()=>bc});function Df(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function $E(){!fi||!ii||(fi=!1,ii.length?Nr=ii.concat(Nr):Go=-1,Nr.length&&R0())}function R0(){if(!fi){var e=setTimeout($E,0);fi=!0;for(var t=Nr.length;t;){for(ii=Nr,Nr=[];++Go<t;)ii&&ii[Go].run();Go=-1,t=Nr.length}ii=null,fi=!1,clearTimeout(e)}}function N0(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Nr.push(new O0(e,t)),Nr.length===1&&!fi&&setTimeout(R0,0)}function O0(e,t){this.fun=e,this.array=t}function Tt(){}function j0(e){Df("_linkedBinding")}function M0(e){Df("dlopen")}function L0(){return[]}function B0(){return[]}function U0(e,t){if(!e)throw new Error(t||"assertion error")}function D0(){return!1}function F0(){return Qr.now()/1e3}function ca(e){var t=Math.floor((Date.now()-Qr.now())*.001),r=Qr.now()*.001,n=Math.floor(r)+t,o=Math.floor(r%1*1e9);return e&&(n=n-e[0],o=o-e[1],o<0&&(n--,o+=da)),[n,o]}function $r(){return Ff}function $0(e){return[]}var Nr,fi,ii,Go,hc,pc,mc,gc,yc,vc,wc,bc,_c,Sc,Ec,xc,kc,Cc,Ac,Tc,Pc,Ic,Rc,Nc,Oc,Lo,jc,Mc,Lc,Bc,Uc,Dc,Fc,$c,Wc,zc,Vc,Hc,qc,Qc,Kc,Gc,Yc,Xc,Jc,Zc,ed,td,rd,nd,id,Qr,nu,da,od,sd,ad,ld,ud,cd,dd,fd,hd,pd,md,Ff,WE=Dt(()=>{ge(),ve(),ye(),Nr=[],fi=!1,Go=-1,O0.prototype.run=function(){this.fun.apply(null,this.array)},hc="browser",pc="x64",mc="browser",gc={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},yc=["/usr/bin/node"],vc=[],wc="v16.8.0",bc={},_c=function(e,t){console.warn((t?t+": ":"")+e)},Sc=function(e){Df("binding")},Ec=function(e){return 0},xc=function(){return"/"},kc=function(e){},Cc={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Ac=Tt,Tc=[],Pc={},Ic=!1,Rc={},Nc=Tt,Oc=Tt,Lo=function(){return{}},jc=Lo,Mc=Lo,Lc=Tt,Bc=Tt,Uc=Tt,Dc={},Fc={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},$c=Tt,Wc=Tt,zc=Tt,Vc=Tt,Hc=Tt,qc=Tt,Qc=Tt,Kc=void 0,Gc=void 0,Yc=void 0,Xc=Tt,Jc=2,Zc=1,ed="/bin/usr/node",td=9229,rd="node",nd=[],id=Tt,Qr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Qr.now===void 0&&(nu=Date.now(),Qr.timing&&Qr.timing.navigationStart&&(nu=Qr.timing.navigationStart),Qr.now=()=>Date.now()-nu),da=1e9,ca.bigint=function(e){var t=ca(e);return typeof BigInt>"u"?t[0]*da+t[1]:BigInt(t[0]*da)+BigInt(t[1])},od=10,sd={},ad=0,ld=$r,ud=$r,cd=$r,dd=$r,fd=$r,hd=Tt,pd=$r,md=$r,Ff={version:wc,versions:bc,arch:pc,platform:mc,release:Cc,_rawDebug:Ac,moduleLoadList:Tc,binding:Sc,_linkedBinding:j0,_events:sd,_eventsCount:ad,_maxListeners:od,on:$r,addListener:ld,once:ud,off:cd,removeListener:dd,removeAllListeners:fd,emit:hd,prependListener:pd,prependOnceListener:md,listeners:$0,domain:Pc,_exiting:Ic,config:Rc,dlopen:M0,uptime:F0,_getActiveRequests:L0,_getActiveHandles:B0,reallyExit:Nc,_kill:Oc,cpuUsage:Lo,resourceUsage:jc,memoryUsage:Mc,kill:Lc,exit:Bc,openStdin:Uc,allowedNodeEnvironmentFlags:Dc,assert:U0,features:Fc,_fatalExceptions:$c,setUncaughtExceptionCaptureCallback:Wc,hasUncaughtExceptionCaptureCallback:D0,emitWarning:_c,nextTick:N0,_tickCallback:zc,_debugProcess:Vc,_debugEnd:Hc,_startProfilerIdleNotifier:qc,_stopProfilerIdleNotifier:Qc,stdout:Kc,stdin:Yc,stderr:Gc,abort:Xc,umask:Ec,chdir:kc,cwd:xc,env:gc,title:hc,argv:yc,execArgv:vc,pid:Jc,ppid:Zc,execPath:ed,debugPort:td,hrtime:ca,argv0:rd,_preload_modules:nd,setSourceMapsEnabled:id}}),ye=Dt(()=>{WE()}),wt={};yo(wt,{Buffer:()=>Ha,INSPECT_MAX_BYTES:()=>W0,default:()=>Wr,kMaxLength:()=>z0});function zE(){if(gd)return Ti;gd=!0,Ti.byteLength=a,Ti.toByteArray=u,Ti.fromByteArray=f;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=n.length;o<i;++o)e[o]=n[o],t[n.charCodeAt(o)]=o;t[45]=62,t[95]=63;function s(p){var y=p.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=p.indexOf("=");b===-1&&(b=y);var S=b===y?0:4-b%4;return[b,S]}function a(p){var y=s(p),b=y[0],S=y[1];return(b+S)*3/4-S}function l(p,y,b){return(y+b)*3/4-b}function u(p){var y,b=s(p),S=b[0],_=b[1],m=new r(l(p,S,_)),v=0,k=_>0?S-4:S,T;for(T=0;T<k;T+=4)y=t[p.charCodeAt(T)]<<18|t[p.charCodeAt(T+1)]<<12|t[p.charCodeAt(T+2)]<<6|t[p.charCodeAt(T+3)],m[v++]=y>>16&255,m[v++]=y>>8&255,m[v++]=y&255;return _===2&&(y=t[p.charCodeAt(T)]<<2|t[p.charCodeAt(T+1)]>>4,m[v++]=y&255),_===1&&(y=t[p.charCodeAt(T)]<<10|t[p.charCodeAt(T+1)]<<4|t[p.charCodeAt(T+2)]>>2,m[v++]=y>>8&255,m[v++]=y&255),m}function c(p){return e[p>>18&63]+e[p>>12&63]+e[p>>6&63]+e[p&63]}function d(p,y,b){for(var S,_=[],m=y;m<b;m+=3)S=(p[m]<<16&16711680)+(p[m+1]<<8&65280)+(p[m+2]&255),_.push(c(S));return _.join("")}function f(p){for(var y,b=p.length,S=b%3,_=[],m=16383,v=0,k=b-S;v<k;v+=m)_.push(d(p,v,v+m>k?k:v+m));return S===1?(y=p[b-1],_.push(e[y>>2]+e[y<<4&63]+"==")):S===2&&(y=(p[b-2]<<8)+p[b-1],_.push(e[y>>10]+e[y>>4&63]+e[y<<2&63]+"=")),_.join("")}return Ti}function VE(){return yd?Bo:(yd=!0,Bo.read=function(e,t,r,n,o){var i,s,a=o*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,d=r?o-1:0,f=r?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=a;c>0;i=i*256+e[t+d],d+=f,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=s*256+e[t+d],d+=f,c-=8);if(i===0)i=1-u;else{if(i===l)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-u}return(p?-1:1)*s*Math.pow(2,i-n)},Bo.write=function(e,t,r,n,o,i){var s,a,l,u=i*8-o-1,c=(1<<u)-1,d=c>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,y=n?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,o),s=s+d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[r+p]=a&255,p+=y,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[r+p]=s&255,p+=y,s/=256,u-=8);e[r+p-y]|=b*128},Bo)}function HE(){if(vd)return mn;vd=!0;let e=zE(),t=VE(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;mn.Buffer=s,mn.SlowBuffer=_,mn.INSPECT_MAX_BYTES=50;let n=2147483647;mn.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let h=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(h,g),h.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function i(h){if(h>n)throw new RangeError('The value "'+h+'" is invalid for option "size"');let g=new Uint8Array(h);return Object.setPrototypeOf(g,s.prototype),g}function s(h,g,w){if(typeof h=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(h)}return a(h,g,w)}s.poolSize=8192;function a(h,g,w){if(typeof h=="string")return d(h,g);if(ArrayBuffer.isView(h))return p(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(z(h,ArrayBuffer)||h&&z(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(z(h,SharedArrayBuffer)||h&&z(h.buffer,SharedArrayBuffer)))return y(h,g,w);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let A=h.valueOf&&h.valueOf();if(A!=null&&A!==h)return s.from(A,g,w);let M=b(h);if(M)return M;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return s.from(h[Symbol.toPrimitive]("string"),g,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}s.from=function(h,g,w){return a(h,g,w)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function u(h,g,w){return l(h),h<=0?i(h):g!==void 0?typeof w=="string"?i(h).fill(g,w):i(h).fill(g):i(h)}s.alloc=function(h,g,w){return u(h,g,w)};function c(h){return l(h),i(h<0?0:S(h)|0)}s.allocUnsafe=function(h){return c(h)},s.allocUnsafeSlow=function(h){return c(h)};function d(h,g){if((typeof g!="string"||g==="")&&(g="utf8"),!s.isEncoding(g))throw new TypeError("Unknown encoding: "+g);let w=m(h,g)|0,A=i(w),M=A.write(h,g);return M!==w&&(A=A.slice(0,M)),A}function f(h){let g=h.length<0?0:S(h.length)|0,w=i(g);for(let A=0;A<g;A+=1)w[A]=h[A]&255;return w}function p(h){if(z(h,Uint8Array)){let g=new Uint8Array(h);return y(g.buffer,g.byteOffset,g.byteLength)}return f(h)}function y(h,g,w){if(g<0||h.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<g+(w||0))throw new RangeError('"length" is outside of buffer bounds');let A;return g===void 0&&w===void 0?A=new Uint8Array(h):w===void 0?A=new Uint8Array(h,g):A=new Uint8Array(h,g,w),Object.setPrototypeOf(A,s.prototype),A}function b(h){if(s.isBuffer(h)){let g=S(h.length)|0,w=i(g);return w.length===0||h.copy(w,0,0,g),w}if(h.length!==void 0)return typeof h.length!="number"||me(h.length)?i(0):f(h);if(h.type==="Buffer"&&Array.isArray(h.data))return f(h.data)}function S(h){if(h>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return h|0}function _(h){return+h!=h&&(h=0),s.alloc(+h)}s.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==s.prototype},s.compare=function(h,g){if(z(h,Uint8Array)&&(h=s.from(h,h.offset,h.byteLength)),z(g,Uint8Array)&&(g=s.from(g,g.offset,g.byteLength)),!s.isBuffer(h)||!s.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===g)return 0;let w=h.length,A=g.length;for(let M=0,F=Math.min(w,A);M<F;++M)if(h[M]!==g[M]){w=h[M],A=g[M];break}return w<A?-1:A<w?1:0},s.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(h,g){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return s.alloc(0);let w;if(g===void 0)for(g=0,w=0;w<h.length;++w)g+=h[w].length;let A=s.allocUnsafe(g),M=0;for(w=0;w<h.length;++w){let F=h[w];if(z(F,Uint8Array))M+F.length>A.length?(s.isBuffer(F)||(F=s.from(F)),F.copy(A,M)):Uint8Array.prototype.set.call(A,F,M);else if(s.isBuffer(F))F.copy(A,M);else throw new TypeError('"list" argument must be an Array of Buffers');M+=F.length}return A};function m(h,g){if(s.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||z(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);let w=h.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&w===0)return 0;let M=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return B(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return ue(h).length;default:if(M)return A?-1:B(h).length;g=(""+g).toLowerCase(),M=!0}}s.byteLength=m;function v(h,g,w){let A=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,g>>>=0,w<=g))return"";for(h||(h="utf8");;)switch(h){case"hex":return H(this,g,w);case"utf8":case"utf-8":return ee(this,g,w);case"ascii":return he(this,g,w);case"latin1":case"binary":return pe(this,g,w);case"base64":return R(this,g,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,g,w);default:if(A)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),A=!0}}s.prototype._isBuffer=!0;function k(h,g,w){let A=h[g];h[g]=h[w],h[w]=A}s.prototype.swap16=function(){let h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<h;g+=2)k(this,g,g+1);return this},s.prototype.swap32=function(){let h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<h;g+=4)k(this,g,g+3),k(this,g+1,g+2);return this},s.prototype.swap64=function(){let h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<h;g+=8)k(this,g,g+7),k(this,g+1,g+6),k(this,g+2,g+5),k(this,g+3,g+4);return this},s.prototype.toString=function(){let h=this.length;return h===0?"":arguments.length===0?ee(this,0,h):v.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(h){if(!s.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:s.compare(this,h)===0},s.prototype.inspect=function(){let h="",g=mn.INSPECT_MAX_BYTES;return h=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(h+=" ... "),"<Buffer "+h+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(h,g,w,A,M){if(z(h,Uint8Array)&&(h=s.from(h,h.offset,h.byteLength)),!s.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(g===void 0&&(g=0),w===void 0&&(w=h?h.length:0),A===void 0&&(A=0),M===void 0&&(M=this.length),g<0||w>h.length||A<0||M>this.length)throw new RangeError("out of range index");if(A>=M&&g>=w)return 0;if(A>=M)return-1;if(g>=w)return 1;if(g>>>=0,w>>>=0,A>>>=0,M>>>=0,this===h)return 0;let F=M-A,re=w-g,ke=Math.min(F,re),Ce=this.slice(A,M),Oe=h.slice(g,w);for(let Be=0;Be<ke;++Be)if(Ce[Be]!==Oe[Be]){F=Ce[Be],re=Oe[Be];break}return F<re?-1:re<F?1:0};function T(h,g,w,A,M){if(h.length===0)return-1;if(typeof w=="string"?(A=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,me(w)&&(w=M?0:h.length-1),w<0&&(w=h.length+w),w>=h.length){if(M)return-1;w=h.length-1}else if(w<0)if(M)w=0;else return-1;if(typeof g=="string"&&(g=s.from(g,A)),s.isBuffer(g))return g.length===0?-1:E(h,g,w,A,M);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?M?Uint8Array.prototype.indexOf.call(h,g,w):Uint8Array.prototype.lastIndexOf.call(h,g,w):E(h,[g],w,A,M);throw new TypeError("val must be string, number or Buffer")}function E(h,g,w,A,M){let F=1,re=h.length,ke=g.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(h.length<2||g.length<2)return-1;F=2,re/=2,ke/=2,w/=2}function Ce(Be,Me){return F===1?Be[Me]:Be.readUInt16BE(Me*F)}let Oe;if(M){let Be=-1;for(Oe=w;Oe<re;Oe++)if(Ce(h,Oe)===Ce(g,Be===-1?0:Oe-Be)){if(Be===-1&&(Be=Oe),Oe-Be+1===ke)return Be*F}else Be!==-1&&(Oe-=Oe-Be),Be=-1}else for(w+ke>re&&(w=re-ke),Oe=w;Oe>=0;Oe--){let Be=!0;for(let Me=0;Me<ke;Me++)if(Ce(h,Oe+Me)!==Ce(g,Me)){Be=!1;break}if(Be)return Oe}return-1}s.prototype.includes=function(h,g,w){return this.indexOf(h,g,w)!==-1},s.prototype.indexOf=function(h,g,w){return T(this,h,g,w,!0)},s.prototype.lastIndexOf=function(h,g,w){return T(this,h,g,w,!1)};function C(h,g,w,A){w=Number(w)||0;let M=h.length-w;A?(A=Number(A),A>M&&(A=M)):A=M;let F=g.length;A>F/2&&(A=F/2);let re;for(re=0;re<A;++re){let ke=parseInt(g.substr(re*2,2),16);if(me(ke))return re;h[w+re]=ke}return re}function P(h,g,w,A){return ie(B(g,h.length-w),h,w,A)}function V(h,g,w,A){return ie(J(g),h,w,A)}function Q(h,g,w,A){return ie(ue(g),h,w,A)}function oe(h,g,w,A){return ie(ae(g,h.length-w),h,w,A)}s.prototype.write=function(h,g,w,A){if(g===void 0)A="utf8",w=this.length,g=0;else if(w===void 0&&typeof g=="string")A=g,w=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(w)?(w=w>>>0,A===void 0&&(A="utf8")):(A=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let M=this.length-g;if((w===void 0||w>M)&&(w=M),h.length>0&&(w<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let F=!1;for(;;)switch(A){case"hex":return C(this,h,g,w);case"utf8":case"utf-8":return P(this,h,g,w);case"ascii":case"latin1":case"binary":return V(this,h,g,w);case"base64":return Q(this,h,g,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,h,g,w);default:if(F)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),F=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(h,g,w){return g===0&&w===h.length?e.fromByteArray(h):e.fromByteArray(h.slice(g,w))}function ee(h,g,w){w=Math.min(h.length,w);let A=[],M=g;for(;M<w;){let F=h[M],re=null,ke=F>239?4:F>223?3:F>191?2:1;if(M+ke<=w){let Ce,Oe,Be,Me;switch(ke){case 1:F<128&&(re=F);break;case 2:Ce=h[M+1],(Ce&192)===128&&(Me=(F&31)<<6|Ce&63,Me>127&&(re=Me));break;case 3:Ce=h[M+1],Oe=h[M+2],(Ce&192)===128&&(Oe&192)===128&&(Me=(F&15)<<12|(Ce&63)<<6|Oe&63,Me>2047&&(Me<55296||Me>57343)&&(re=Me));break;case 4:Ce=h[M+1],Oe=h[M+2],Be=h[M+3],(Ce&192)===128&&(Oe&192)===128&&(Be&192)===128&&(Me=(F&15)<<18|(Ce&63)<<12|(Oe&63)<<6|Be&63,Me>65535&&Me<1114112&&(re=Me))}}re===null?(re=65533,ke=1):re>65535&&(re-=65536,A.push(re>>>10&1023|55296),re=56320|re&1023),A.push(re),M+=ke}return $(A)}let q=4096;function $(h){let g=h.length;if(g<=q)return String.fromCharCode.apply(String,h);let w="",A=0;for(;A<g;)w+=String.fromCharCode.apply(String,h.slice(A,A+=q));return w}function he(h,g,w){let A="";w=Math.min(h.length,w);for(let M=g;M<w;++M)A+=String.fromCharCode(h[M]&127);return A}function pe(h,g,w){let A="";w=Math.min(h.length,w);for(let M=g;M<w;++M)A+=String.fromCharCode(h[M]);return A}function H(h,g,w){let A=h.length;(!g||g<0)&&(g=0),(!w||w<0||w>A)&&(w=A);let M="";for(let F=g;F<w;++F)M+=_e[h[F]];return M}function fe(h,g,w){let A=h.slice(g,w),M="";for(let F=0;F<A.length-1;F+=2)M+=String.fromCharCode(A[F]+A[F+1]*256);return M}s.prototype.slice=function(h,g){let w=this.length;h=~~h,g=g===void 0?w:~~g,h<0?(h+=w,h<0&&(h=0)):h>w&&(h=w),g<0?(g+=w,g<0&&(g=0)):g>w&&(g=w),g<h&&(g=h);let A=this.subarray(h,g);return Object.setPrototypeOf(A,s.prototype),A};function D(h,g,w){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+g>w)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(h,g,w){h=h>>>0,g=g>>>0,w||D(h,g,this.length);let A=this[h],M=1,F=0;for(;++F<g&&(M*=256);)A+=this[h+F]*M;return A},s.prototype.readUintBE=s.prototype.readUIntBE=function(h,g,w){h=h>>>0,g=g>>>0,w||D(h,g,this.length);let A=this[h+--g],M=1;for(;g>0&&(M*=256);)A+=this[h+--g]*M;return A},s.prototype.readUint8=s.prototype.readUInt8=function(h,g){return h=h>>>0,g||D(h,1,this.length),this[h]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(h,g){return h=h>>>0,g||D(h,2,this.length),this[h]|this[h+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(h,g){return h=h>>>0,g||D(h,2,this.length),this[h]<<8|this[h+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(h,g){return h=h>>>0,g||D(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(h,g){return h=h>>>0,g||D(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},s.prototype.readBigUInt64LE=de(function(h){h=h>>>0,Y(h,"offset");let g=this[h],w=this[h+7];(g===void 0||w===void 0)&&Z(h,this.length-8);let A=g+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,M=this[++h]+this[++h]*2**8+this[++h]*2**16+w*2**24;return BigInt(A)+(BigInt(M)<<BigInt(32))}),s.prototype.readBigUInt64BE=de(function(h){h=h>>>0,Y(h,"offset");let g=this[h],w=this[h+7];(g===void 0||w===void 0)&&Z(h,this.length-8);let A=g*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],M=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+w;return(BigInt(A)<<BigInt(32))+BigInt(M)}),s.prototype.readIntLE=function(h,g,w){h=h>>>0,g=g>>>0,w||D(h,g,this.length);let A=this[h],M=1,F=0;for(;++F<g&&(M*=256);)A+=this[h+F]*M;return M*=128,A>=M&&(A-=Math.pow(2,8*g)),A},s.prototype.readIntBE=function(h,g,w){h=h>>>0,g=g>>>0,w||D(h,g,this.length);let A=g,M=1,F=this[h+--A];for(;A>0&&(M*=256);)F+=this[h+--A]*M;return M*=128,F>=M&&(F-=Math.pow(2,8*g)),F},s.prototype.readInt8=function(h,g){return h=h>>>0,g||D(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},s.prototype.readInt16LE=function(h,g){h=h>>>0,g||D(h,2,this.length);let w=this[h]|this[h+1]<<8;return w&32768?w|4294901760:w},s.prototype.readInt16BE=function(h,g){h=h>>>0,g||D(h,2,this.length);let w=this[h+1]|this[h]<<8;return w&32768?w|4294901760:w},s.prototype.readInt32LE=function(h,g){return h=h>>>0,g||D(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},s.prototype.readInt32BE=function(h,g){return h=h>>>0,g||D(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},s.prototype.readBigInt64LE=de(function(h){h=h>>>0,Y(h,"offset");let g=this[h],w=this[h+7];(g===void 0||w===void 0)&&Z(h,this.length-8);let A=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(w<<24);return(BigInt(A)<<BigInt(32))+BigInt(g+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),s.prototype.readBigInt64BE=de(function(h){h=h>>>0,Y(h,"offset");let g=this[h],w=this[h+7];(g===void 0||w===void 0)&&Z(h,this.length-8);let A=(g<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(A)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+w)}),s.prototype.readFloatLE=function(h,g){return h=h>>>0,g||D(h,4,this.length),t.read(this,h,!0,23,4)},s.prototype.readFloatBE=function(h,g){return h=h>>>0,g||D(h,4,this.length),t.read(this,h,!1,23,4)},s.prototype.readDoubleLE=function(h,g){return h=h>>>0,g||D(h,8,this.length),t.read(this,h,!0,52,8)},s.prototype.readDoubleBE=function(h,g){return h=h>>>0,g||D(h,8,this.length),t.read(this,h,!1,52,8)};function se(h,g,w,A,M,F){if(!s.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>M||g<F)throw new RangeError('"value" argument is out of bounds');if(w+A>h.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(h,g,w,A){if(h=+h,g=g>>>0,w=w>>>0,!A){let re=Math.pow(2,8*w)-1;se(this,h,g,w,re,0)}let M=1,F=0;for(this[g]=h&255;++F<w&&(M*=256);)this[g+F]=h/M&255;return g+w},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(h,g,w,A){if(h=+h,g=g>>>0,w=w>>>0,!A){let re=Math.pow(2,8*w)-1;se(this,h,g,w,re,0)}let M=w-1,F=1;for(this[g+M]=h&255;--M>=0&&(F*=256);)this[g+M]=h/F&255;return g+w},s.prototype.writeUint8=s.prototype.writeUInt8=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,1,255,0),this[g]=h&255,g+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,2,65535,0),this[g]=h&255,this[g+1]=h>>>8,g+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,2,65535,0),this[g]=h>>>8,this[g+1]=h&255,g+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,4,4294967295,0),this[g+3]=h>>>24,this[g+2]=h>>>16,this[g+1]=h>>>8,this[g]=h&255,g+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,4,4294967295,0),this[g]=h>>>24,this[g+1]=h>>>16,this[g+2]=h>>>8,this[g+3]=h&255,g+4};function O(h,g,w,A,M){G(g,A,M,h,w,7);let F=Number(g&BigInt(4294967295));h[w++]=F,F=F>>8,h[w++]=F,F=F>>8,h[w++]=F,F=F>>8,h[w++]=F;let re=Number(g>>BigInt(32)&BigInt(4294967295));return h[w++]=re,re=re>>8,h[w++]=re,re=re>>8,h[w++]=re,re=re>>8,h[w++]=re,w}function ce(h,g,w,A,M){G(g,A,M,h,w,7);let F=Number(g&BigInt(4294967295));h[w+7]=F,F=F>>8,h[w+6]=F,F=F>>8,h[w+5]=F,F=F>>8,h[w+4]=F;let re=Number(g>>BigInt(32)&BigInt(4294967295));return h[w+3]=re,re=re>>8,h[w+2]=re,re=re>>8,h[w+1]=re,re=re>>8,h[w]=re,w+8}s.prototype.writeBigUInt64LE=de(function(h,g=0){return O(this,h,g,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=de(function(h,g=0){return ce(this,h,g,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(h,g,w,A){if(h=+h,g=g>>>0,!A){let ke=Math.pow(2,8*w-1);se(this,h,g,w,ke-1,-ke)}let M=0,F=1,re=0;for(this[g]=h&255;++M<w&&(F*=256);)h<0&&re===0&&this[g+M-1]!==0&&(re=1),this[g+M]=(h/F>>0)-re&255;return g+w},s.prototype.writeIntBE=function(h,g,w,A){if(h=+h,g=g>>>0,!A){let ke=Math.pow(2,8*w-1);se(this,h,g,w,ke-1,-ke)}let M=w-1,F=1,re=0;for(this[g+M]=h&255;--M>=0&&(F*=256);)h<0&&re===0&&this[g+M+1]!==0&&(re=1),this[g+M]=(h/F>>0)-re&255;return g+w},s.prototype.writeInt8=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,1,127,-128),h<0&&(h=255+h+1),this[g]=h&255,g+1},s.prototype.writeInt16LE=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,2,32767,-32768),this[g]=h&255,this[g+1]=h>>>8,g+2},s.prototype.writeInt16BE=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,2,32767,-32768),this[g]=h>>>8,this[g+1]=h&255,g+2},s.prototype.writeInt32LE=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,4,2147483647,-2147483648),this[g]=h&255,this[g+1]=h>>>8,this[g+2]=h>>>16,this[g+3]=h>>>24,g+4},s.prototype.writeInt32BE=function(h,g,w){return h=+h,g=g>>>0,w||se(this,h,g,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[g]=h>>>24,this[g+1]=h>>>16,this[g+2]=h>>>8,this[g+3]=h&255,g+4},s.prototype.writeBigInt64LE=de(function(h,g=0){return O(this,h,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=de(function(h,g=0){return ce(this,h,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(h,g,w,A,M,F){if(w+A>h.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function W(h,g,w,A,M){return g=+g,w=w>>>0,M||we(h,g,w,4),t.write(h,g,w,A,23,4),w+4}s.prototype.writeFloatLE=function(h,g,w){return W(this,h,g,!0,w)},s.prototype.writeFloatBE=function(h,g,w){return W(this,h,g,!1,w)};function Te(h,g,w,A,M){return g=+g,w=w>>>0,M||we(h,g,w,8),t.write(h,g,w,A,52,8),w+8}s.prototype.writeDoubleLE=function(h,g,w){return Te(this,h,g,!0,w)},s.prototype.writeDoubleBE=function(h,g,w){return Te(this,h,g,!1,w)},s.prototype.copy=function(h,g,w,A){if(!s.isBuffer(h))throw new TypeError("argument should be a Buffer");if(w||(w=0),!A&&A!==0&&(A=this.length),g>=h.length&&(g=h.length),g||(g=0),A>0&&A<w&&(A=w),A===w||h.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),h.length-g<A-w&&(A=h.length-g+w);let M=A-w;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,w,A):Uint8Array.prototype.set.call(h,this.subarray(w,A),g),M},s.prototype.fill=function(h,g,w,A){if(typeof h=="string"){if(typeof g=="string"?(A=g,g=0,w=this.length):typeof w=="string"&&(A=w,w=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!s.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(h.length===1){let F=h.charCodeAt(0);(A==="utf8"&&F<128||A==="latin1")&&(h=F)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(g<0||this.length<g||this.length<w)throw new RangeError("Out of range index");if(w<=g)return this;g=g>>>0,w=w===void 0?this.length:w>>>0,h||(h=0);let M;if(typeof h=="number")for(M=g;M<w;++M)this[M]=h;else{let F=s.isBuffer(h)?h:s.from(h,A),re=F.length;if(re===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(M=0;M<w-g;++M)this[M+g]=F[M%re]}return this};let X={};function U(h,g,w){X[h]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}U("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(h,g){return`The "${h}" argument must be of type number. Received type ${typeof g}`},TypeError),U("ERR_OUT_OF_RANGE",function(h,g,w){let A=`The value of "${h}" is out of range.`,M=w;return Number.isInteger(w)&&Math.abs(w)>2**32?M=le(String(w)):typeof w=="bigint"&&(M=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(M=le(M)),M+="n"),A+=` It must be ${g}. Received ${M}`,A},RangeError);function le(h){let g="",w=h.length,A=h[0]==="-"?1:0;for(;w>=A+4;w-=3)g=`_${h.slice(w-3,w)}${g}`;return`${h.slice(0,w)}${g}`}function K(h,g,w){Y(g,"offset"),(h[g]===void 0||h[g+w]===void 0)&&Z(g,h.length-(w+1))}function G(h,g,w,A,M,F){if(h>w||h<g){let re=typeof g=="bigint"?"n":"",ke;throw g===0||g===BigInt(0)?ke=`>= 0${re} and < 2${re} ** ${(F+1)*8}${re}`:ke=`>= -(2${re} ** ${(F+1)*8-1}${re}) and < 2 ** ${(F+1)*8-1}${re}`,new X.ERR_OUT_OF_RANGE("value",ke,h)}K(A,M,F)}function Y(h,g){if(typeof h!="number")throw new X.ERR_INVALID_ARG_TYPE(g,"number",h)}function Z(h,g,w){throw Math.floor(h)!==h?(Y(h,w),new X.ERR_OUT_OF_RANGE("offset","an integer",h)):g<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${g}`,h)}let ne=/[^+/0-9A-Za-z-_]/g;function j(h){if(h=h.split("=")[0],h=h.trim().replace(ne,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function B(h,g){g=g||1/0;let w,A=h.length,M=null,F=[];for(let re=0;re<A;++re){if(w=h.charCodeAt(re),w>55295&&w<57344){if(!M){if(w>56319){(g-=3)>-1&&F.push(239,191,189);continue}else if(re+1===A){(g-=3)>-1&&F.push(239,191,189);continue}M=w;continue}if(w<56320){(g-=3)>-1&&F.push(239,191,189),M=w;continue}w=(M-55296<<10|w-56320)+65536}else M&&(g-=3)>-1&&F.push(239,191,189);if(M=null,w<128){if((g-=1)<0)break;F.push(w)}else if(w<2048){if((g-=2)<0)break;F.push(w>>6|192,w&63|128)}else if(w<65536){if((g-=3)<0)break;F.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((g-=4)<0)break;F.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return F}function J(h){let g=[];for(let w=0;w<h.length;++w)g.push(h.charCodeAt(w)&255);return g}function ae(h,g){let w,A,M,F=[];for(let re=0;re<h.length&&!((g-=2)<0);++re)w=h.charCodeAt(re),A=w>>8,M=w%256,F.push(M),F.push(A);return F}function ue(h){return e.toByteArray(j(h))}function ie(h,g,w,A){let M;for(M=0;M<A&&!(M+w>=g.length||M>=h.length);++M)g[M+w]=h[M];return M}function z(h,g){return h instanceof g||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===g.name}function me(h){return h!==h}let _e=function(){let h="0123456789abcdef",g=new Array(256);for(let w=0;w<16;++w){let A=w*16;for(let M=0;M<16;++M)g[A+M]=h[w]+h[M]}return g}();function de(h){return typeof BigInt>"u"?je:h}function je(){throw new Error("BigInt not supported")}return mn}var Ti,gd,Bo,yd,mn,vd,Wr,Ha,W0,z0,bt=Dt(()=>{ge(),ve(),ye(),Ti={},gd=!1,Bo={},yd=!1,mn={},vd=!1,Wr=HE(),Wr.Buffer,Wr.SlowBuffer,Wr.INSPECT_MAX_BYTES,Wr.kMaxLength,Ha=Wr.Buffer,W0=Wr.INSPECT_MAX_BYTES,z0=Wr.kMaxLength}),ve=Dt(()=>{bt()}),qE=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.aliasToTopic={},this.max=r}put(r,n){return n===0||n>this.max?!1:(this.aliasToTopic[n]=r,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(r){return this.aliasToTopic[r]}clear(){this.aliasToTopic={}}};e.default=t}),st=be((e,t)=>{ge(),ve(),ye();var r=class extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let o="";for(let i=0;i<n.length;i++)o+=`    ${n[i].stack}
`;super(o),this.name="AggregateError",this.errors=n}};t.exports={AggregateError:r,ArrayIsArray(n){return Array.isArray(n)},ArrayPrototypeIncludes(n,o){return n.includes(o)},ArrayPrototypeIndexOf(n,o){return n.indexOf(o)},ArrayPrototypeJoin(n,o){return n.join(o)},ArrayPrototypeMap(n,o){return n.map(o)},ArrayPrototypePop(n,o){return n.pop(o)},ArrayPrototypePush(n,o){return n.push(o)},ArrayPrototypeSlice(n,o,i){return n.slice(o,i)},Error,FunctionPrototypeCall(n,o,...i){return n.call(o,...i)},FunctionPrototypeSymbolHasInstance(n,o){return Function.prototype[Symbol.hasInstance].call(n,o)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(n,o){return Object.defineProperties(n,o)},ObjectDefineProperty(n,o,i){return Object.defineProperty(n,o,i)},ObjectGetOwnPropertyDescriptor(n,o){return Object.getOwnPropertyDescriptor(n,o)},ObjectKeys(n){return Object.keys(n)},ObjectSetPrototypeOf(n,o){return Object.setPrototypeOf(n,o)},Promise,PromisePrototypeCatch(n,o){return n.catch(o)},PromisePrototypeThen(n,o,i){return n.then(o,i)},PromiseReject(n){return Promise.reject(n)},PromiseResolve(n){return Promise.resolve(n)},ReflectApply:Reflect.apply,RegExpPrototypeTest(n,o){return n.test(o)},SafeSet:Set,String,StringPrototypeSlice(n,o,i){return n.slice(o,i)},StringPrototypeToLowerCase(n){return n.toLowerCase()},StringPrototypeToUpperCase(n){return n.toUpperCase()},StringPrototypeTrim(n){return n.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(n,o,i){return n.set(o,i)},Boolean,Uint8Array}}),V0=be((e,t)=>{ge(),ve(),ye(),t.exports={format(r,...n){return r.replace(/%([sdifj])/g,function(...[o,i]){let s=n.shift();return i==="f"?s.toFixed(6):i==="j"?JSON.stringify(s):i==="s"&&typeof s=="object"?`${s.constructor!==Object?s.constructor.name:""} {}`.trim():s.toString()})},inspect(r){switch(typeof r){case"string":if(r.includes("'"))if(r.includes('"')){if(!r.includes("`")&&!r.includes("${"))return`\`${r}\``}else return`"${r}"`;return`'${r}'`;case"number":return isNaN(r)?"NaN":Object.is(r,-0)?String(r):r;case"bigint":return`${String(r)}n`;case"boolean":case"undefined":return String(r);case"object":return"{}"}}}}),Ft=be((e,t)=>{ge(),ve(),ye();var{format:r,inspect:n}=V0(),{AggregateError:o}=st(),i=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",c={};function d(m,v){if(!m)throw new c.ERR_INTERNAL_ASSERTION(v)}function f(m){let v="",k=m.length,T=m[0]==="-"?1:0;for(;k>=T+4;k-=3)v=`_${m.slice(k-3,k)}${v}`;return`${m.slice(0,k)}${v}`}function p(m,v,k){if(typeof v=="function")return d(v.length<=k.length,`Code: ${m}; The provided arguments length (${k.length}) does not match the required ones (${v.length}).`),v(...k);let T=(v.match(/%[dfijoOs]/g)||[]).length;return d(T===k.length,`Code: ${m}; The provided arguments length (${k.length}) does not match the required ones (${T}).`),k.length===0?v:r(v,...k)}function y(m,v,k){k||(k=Error);class T extends k{constructor(...C){super(p(m,v,C))}toString(){return`${this.name} [${m}]: ${this.message}`}}Object.defineProperties(T.prototype,{name:{value:k.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${m}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),T.prototype.code=m,T.prototype[s]=!0,c[m]=T}function b(m){let v=u+m.name;return Object.defineProperty(m,"name",{value:v}),m}function S(m,v){if(m&&v&&m!==v){if(Array.isArray(v.errors))return v.errors.push(m),v;let k=new i([v,m],v.message);return k.code=v.code,k}return m||v}var _=class extends Error{constructor(m="The operation was aborted",v=void 0){if(v!==void 0&&typeof v!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",v);super(m,v),this.code="ABORT_ERR",this.name="AbortError"}};y("ERR_ASSERTION","%s",Error),y("ERR_INVALID_ARG_TYPE",(m,v,k)=>{d(typeof m=="string","'name' must be a string"),Array.isArray(v)||(v=[v]);let T="The ";m.endsWith(" argument")?T+=`${m} `:T+=`"${m}" ${m.includes(".")?"property":"argument"} `,T+="must be ";let E=[],C=[],P=[];for(let Q of v)d(typeof Q=="string","All expected entries have to be of type string"),a.includes(Q)?E.push(Q.toLowerCase()):l.test(Q)?C.push(Q):(d(Q!=="object",'The value "object" should be written as "Object"'),P.push(Q));if(C.length>0){let Q=E.indexOf("object");Q!==-1&&(E.splice(E,Q,1),C.push("Object"))}if(E.length>0){switch(E.length){case 1:T+=`of type ${E[0]}`;break;case 2:T+=`one of type ${E[0]} or ${E[1]}`;break;default:{let Q=E.pop();T+=`one of type ${E.join(", ")}, or ${Q}`}}(C.length>0||P.length>0)&&(T+=" or ")}if(C.length>0){switch(C.length){case 1:T+=`an instance of ${C[0]}`;break;case 2:T+=`an instance of ${C[0]} or ${C[1]}`;break;default:{let Q=C.pop();T+=`an instance of ${C.join(", ")}, or ${Q}`}}P.length>0&&(T+=" or ")}switch(P.length){case 0:break;case 1:P[0].toLowerCase()!==P[0]&&(T+="an "),T+=`${P[0]}`;break;case 2:T+=`one of ${P[0]} or ${P[1]}`;break;default:{let Q=P.pop();T+=`one of ${P.join(", ")}, or ${Q}`}}if(k==null)T+=`. Received ${k}`;else if(typeof k=="function"&&k.name)T+=`. Received function ${k.name}`;else if(typeof k=="object"){var V;if((V=k.constructor)!==null&&V!==void 0&&V.name)T+=`. Received an instance of ${k.constructor.name}`;else{let Q=n(k,{depth:-1});T+=`. Received ${Q}`}}else{let Q=n(k,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),T+=`. Received type ${typeof k} (${Q})`}return T},TypeError),y("ERR_INVALID_ARG_VALUE",(m,v,k="is invalid")=>{let T=n(v);return T.length>128&&(T=T.slice(0,128)+"..."),`The ${m.includes(".")?"property":"argument"} '${m}' ${k}. Received ${T}`},TypeError),y("ERR_INVALID_RETURN_VALUE",(m,v,k)=>{var T;let E=k!=null&&(T=k.constructor)!==null&&T!==void 0&&T.name?`instance of ${k.constructor.name}`:`type ${typeof k}`;return`Expected ${m} to be returned from the "${v}" function but got ${E}.`},TypeError),y("ERR_MISSING_ARGS",(...m)=>{d(m.length>0,"At least one arg needs to be specified");let v,k=m.length;switch(m=(Array.isArray(m)?m:[m]).map(T=>`"${T}"`).join(" or "),k){case 1:v+=`The ${m[0]} argument`;break;case 2:v+=`The ${m[0]} and ${m[1]} arguments`;break;default:{let T=m.pop();v+=`The ${m.join(", ")}, and ${T} arguments`}break}return`${v} must be specified`},TypeError),y("ERR_OUT_OF_RANGE",(m,v,k)=>{d(v,'Missing "range" argument');let T;if(Number.isInteger(k)&&Math.abs(k)>2**32)T=f(String(k));else if(typeof k=="bigint"){T=String(k);let E=BigInt(2)**BigInt(32);(k>E||k<-E)&&(T=f(T)),T+="n"}else T=n(k);return`The value of "${m}" is out of range. It must be ${v}. Received ${T}`},RangeError),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),y("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),y("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),y("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),y("ERR_STREAM_WRITE_AFTER_END","write after end",Error),y("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:_,aggregateTwoErrors:b(S),hideStackFrames:b,codes:c}}),gs=be((e,t)=>{ge(),ve(),ye();var{AbortController:r,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=r,t.exports.AbortSignal=n,t.exports.default=r});function Ve(){Ve.init.call(this)}function fa(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function H0(e){return e._maxListeners===void 0?Ve.defaultMaxListeners:e._maxListeners}function Ap(e,t,r,n){var o,i,s,a;if(fa(r),(i=e._events)===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),s===void 0)s=i[t]=r,++e._eventsCount;else if(typeof s=="function"?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=H0(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function QE(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Tp(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=QE.bind(n);return o.listener=r,n.wrapFn=o,o}function Pp(e,t,r){var n=e._events;if(n===void 0)return[];var o=n[t];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?function(i){for(var s=new Array(i.length),a=0;a<s.length;++a)s[a]=i[a].listener||i[a];return s}(o):q0(o,o.length)}function Ip(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function q0(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var Rp,Np,Gn,iu,ou,su,Yt,Op=Dt(()=>{ge(),ve(),ye(),Gn=typeof Reflect=="object"?Reflect:null,iu=Gn&&typeof Gn.apply=="function"?Gn.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Np=Gn&&typeof Gn.ownKeys=="function"?Gn.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},ou=Number.isNaN||function(e){return e!=e},Rp=Ve,Ve.EventEmitter=Ve,Ve.prototype._events=void 0,Ve.prototype._eventsCount=0,Ve.prototype._maxListeners=void 0,su=10,Object.defineProperty(Ve,"defaultMaxListeners",{enumerable:!0,get:function(){return su},set:function(e){if(typeof e!="number"||e<0||ou(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");su=e}}),Ve.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ve.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ou(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Ve.prototype.getMaxListeners=function(){return H0(this)},Ve.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var a=o[e];if(a===void 0)return!1;if(typeof a=="function")iu(a,this,t);else{var l=a.length,u=q0(a,l);for(r=0;r<l;++r)iu(u[r],this,t)}return!0},Ve.prototype.addListener=function(e,t){return Ap(this,e,t,!1)},Ve.prototype.on=Ve.prototype.addListener,Ve.prototype.prependListener=function(e,t){return Ap(this,e,t,!0)},Ve.prototype.once=function(e,t){return fa(t),this.on(e,Tp(this,e,t)),this},Ve.prototype.prependOnceListener=function(e,t){return fa(t),this.prependListener(e,Tp(this,e,t)),this},Ve.prototype.removeListener=function(e,t){var r,n,o,i,s;if(fa(t),(n=this._events)===void 0)return this;if((r=n[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;o===0?r.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(r,o),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},Ve.prototype.off=Ve.prototype.removeListener,Ve.prototype.removeAllListeners=function(e){var t,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o,i=Object.keys(r);for(n=0;n<i.length;++n)(o=i[n])!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},Ve.prototype.listeners=function(e){return Pp(this,e,!0)},Ve.prototype.rawListeners=function(e){return Pp(this,e,!1)},Ve.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Ip.call(e,t)},Ve.prototype.listenerCount=Ip,Ve.prototype.eventNames=function(){return this._eventsCount>0?Np(this._events):[]},Yt=Rp,Yt.EventEmitter,Yt.defaultMaxListeners,Yt.init,Yt.listenerCount,Yt.EventEmitter,Yt.defaultMaxListeners,Yt.init,Yt.listenerCount}),Vn={};yo(Vn,{EventEmitter:()=>Q0,default:()=>Yt,defaultMaxListeners:()=>K0,init:()=>G0,listenerCount:()=>Y0,on:()=>X0,once:()=>J0});var Q0,K0,G0,Y0,X0,J0,Ei=Dt(()=>{ge(),ve(),ye(),Op(),Op(),Yt.once=function(e,t){return new Promise((r,n)=>{function o(...s){i!==void 0&&e.removeListener("error",i),r(s)}let i;t!=="error"&&(i=s=>{e.removeListener(name,o),n(s)},e.once("error",i)),e.once(t,o)})},Yt.on=function(e,t){let r=[],n=[],o=null,i=!1,s={async next(){let u=r.shift();if(u)return createIterResult(u,!1);if(o){let c=Promise.reject(o);return o=null,c}return i?createIterResult(void 0,!0):new Promise((c,d)=>n.push({resolve:c,reject:d}))},async return(){e.removeListener(t,a),e.removeListener("error",l),i=!0;for(let u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){o=u,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...u){let c=n.shift();c?c.resolve(createIterResult(u,!1)):r.push(u)}function l(u){i=!0;let c=n.shift();c?c.reject(u):o=u,s.return()}},{EventEmitter:Q0,defaultMaxListeners:K0,init:G0,listenerCount:Y0,on:X0,once:J0}=Yt}),Qt=be((e,t)=>{ge(),ve(),ye();var r=(bt(),He(wt)),{format:n,inspect:o}=V0(),{codes:{ERR_INVALID_ARG_TYPE:i}}=Ft(),{kResistStopPropagation:s,AggregateError:a,SymbolDispose:l}=st(),u=globalThis.AbortSignal||gs().AbortSignal,c=globalThis.AbortController||gs().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||r.Blob,p=typeof f<"u"?function(S){return S instanceof f}:function(S){return!1},y=(S,_)=>{if(S!==void 0&&(S===null||typeof S!="object"||!("aborted"in S)))throw new i(_,"AbortSignal",S)},b=(S,_)=>{if(typeof S!="function")throw new i(_,"Function",S)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(S){let _=!1;return function(...m){_||(_=!0,S.apply(this,m))}},createDeferredPromise:function(){let S,_;return{promise:new Promise((m,v)=>{S=m,_=v}),resolve:S,reject:_}},promisify(S){return new Promise((_,m)=>{S((v,...k)=>v?m(v):_(...k))})},debuglog(){return function(){}},format:n,inspect:o,types:{isAsyncFunction(S){return S instanceof d},isArrayBufferView(S){return ArrayBuffer.isView(S)}},isBlob:p,deprecate(S,_){return S},addAbortListener:(Ei(),He(Vn)).addAbortListener||function(S,_){if(S===void 0)throw new i("signal","AbortSignal",S);y(S,"signal"),b(_,"listener");let m;return S.aborted?queueMicrotask(()=>_()):(S.addEventListener("abort",_,{__proto__:null,once:!0,[s]:!0}),m=()=>{S.removeEventListener("abort",_)}),{__proto__:null,[l](){var v;(v=m)===null||v===void 0||v()}}},AbortSignalAny:u.any||function(S){if(S.length===1)return S[0];let _=new c,m=()=>_.abort();return S.forEach(v=>{y(v,"signals"),v.addEventListener("abort",m,{once:!0})}),_.signal.addEventListener("abort",()=>{S.forEach(v=>v.removeEventListener("abort",m))},{once:!0}),_.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),xs=be((e,t)=>{ge(),ve(),ye();var{ArrayIsArray:r,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:o,ArrayPrototypeMap:i,NumberIsInteger:s,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:c,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:y,StringPrototypeTrim:b}=st(),{hideStackFrames:S,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:k,ERR_UNKNOWN_SIGNAL:T}}=Ft(),{normalizeEncoding:E}=Qt(),{isAsyncFunction:C,isArrayBufferView:P}=Qt().types,V={};function Q(z){return z===(z|0)}function oe(z){return z===z>>>0}var R=/^[0-7]+$/,ee="must be a 32-bit unsigned integer or an octal string";function q(z,me,_e){if(typeof z>"u"&&(z=_e),typeof z=="string"){if(f(R,z)===null)throw new v(me,z,ee);z=c(z,8)}return pe(z,me),z}var $=S((z,me,_e=u,de=l)=>{if(typeof z!="number")throw new m(me,"number",z);if(!s(z))throw new k(me,"an integer",z);if(z<_e||z>de)throw new k(me,`>= ${_e} && <= ${de}`,z)}),he=S((z,me,_e=-2147483648,de=2147483647)=>{if(typeof z!="number")throw new m(me,"number",z);if(!s(z))throw new k(me,"an integer",z);if(z<_e||z>de)throw new k(me,`>= ${_e} && <= ${de}`,z)}),pe=S((z,me,_e=!1)=>{if(typeof z!="number")throw new m(me,"number",z);if(!s(z))throw new k(me,"an integer",z);let de=_e?1:0,je=4294967295;if(z<de||z>je)throw new k(me,`>= ${de} && <= ${je}`,z)});function H(z,me){if(typeof z!="string")throw new m(me,"string",z)}function fe(z,me,_e=void 0,de){if(typeof z!="number")throw new m(me,"number",z);if(_e!=null&&z<_e||de!=null&&z>de||(_e!=null||de!=null)&&a(z))throw new k(me,`${_e!=null?`>= ${_e}`:""}${_e!=null&&de!=null?" && ":""}${de!=null?`<= ${de}`:""}`,z)}var D=S((z,me,_e)=>{if(!n(_e,z)){let de="must be one of: "+o(i(_e,je=>typeof je=="string"?`'${je}'`:p(je)),", ");throw new v(me,z,de)}});function se(z,me){if(typeof z!="boolean")throw new m(me,"boolean",z)}function O(z,me,_e){return z==null||!d(z,me)?_e:z[me]}var ce=S((z,me,_e=null)=>{let de=O(_e,"allowArray",!1),je=O(_e,"allowFunction",!1);if(!O(_e,"nullable",!1)&&z===null||!de&&r(z)||typeof z!="object"&&(!je||typeof z!="function"))throw new m(me,"Object",z)}),we=S((z,me)=>{if(z!=null&&typeof z!="object"&&typeof z!="function")throw new m(me,"a dictionary",z)}),W=S((z,me,_e=0)=>{if(!r(z))throw new m(me,"Array",z);if(z.length<_e){let de=`must be longer than ${_e}`;throw new v(me,z,de)}});function Te(z,me){W(z,me);for(let _e=0;_e<z.length;_e++)H(z[_e],`${me}[${_e}]`)}function X(z,me){W(z,me);for(let _e=0;_e<z.length;_e++)se(z[_e],`${me}[${_e}]`)}function U(z,me){W(z,me);for(let _e=0;_e<z.length;_e++){let de=z[_e],je=`${me}[${_e}]`;if(de==null)throw new m(je,"AbortSignal",de);Z(de,je)}}function le(z,me="signal"){if(H(z,me),V[z]===void 0)throw V[y(z)]!==void 0?new T(z+" (signals must use all capital letters)"):new T(z)}var K=S((z,me="buffer")=>{if(!P(z))throw new m(me,["Buffer","TypedArray","DataView"],z)});function G(z,me){let _e=E(me),de=z.length;if(_e==="hex"&&de%2!==0)throw new v("encoding",me,`is invalid for data of length ${de}`)}function Y(z,me="Port",_e=!0){if(typeof z!="number"&&typeof z!="string"||typeof z=="string"&&b(z).length===0||+z!==+z>>>0||z>65535||z===0&&!_e)throw new _(me,z,_e);return z|0}var Z=S((z,me)=>{if(z!==void 0&&(z===null||typeof z!="object"||!("aborted"in z)))throw new m(me,"AbortSignal",z)}),ne=S((z,me)=>{if(typeof z!="function")throw new m(me,"Function",z)}),j=S((z,me)=>{if(typeof z!="function"||C(z))throw new m(me,"Function",z)}),B=S((z,me)=>{if(z!==void 0)throw new m(me,"undefined",z)});function J(z,me,_e){if(!n(_e,z))throw new m(me,`('${o(_e,"|")}')`,z)}var ae=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ue(z,me){if(typeof z>"u"||!f(ae,z))throw new v(me,z,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ie(z){if(typeof z=="string")return ue(z,"hints"),z;if(r(z)){let me=z.length,_e="";if(me===0)return _e;for(let de=0;de<me;de++){let je=z[de];ue(je,"hints"),_e+=je,de!==me-1&&(_e+=", ")}return _e}throw new v("hints",z,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:Q,isUint32:oe,parseFileMode:q,validateArray:W,validateStringArray:Te,validateBooleanArray:X,validateAbortSignalArray:U,validateBoolean:se,validateBuffer:K,validateDictionary:we,validateEncoding:G,validateFunction:ne,validateInt32:he,validateInteger:$,validateNumber:fe,validateObject:ce,validateOneOf:D,validatePlainFunction:j,validatePort:Y,validateSignalName:le,validateString:H,validateUint32:pe,validateUndefined:B,validateUnion:J,validateAbortSignal:Z,validateLinkHeaderValue:ie}}),xi=be((e,t)=>{ge(),ve(),ye();var r=t.exports={},n,o;function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?o=clearTimeout:o=s}catch{o=s}})();function a(_){if(n===setTimeout)return setTimeout(_,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(_,0);try{return n(_,0)}catch{try{return n.call(null,_,0)}catch{return n.call(this,_,0)}}}function l(_){if(o===clearTimeout)return clearTimeout(_);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(_);try{return o(_)}catch{try{return o.call(null,_)}catch{return o.call(this,_)}}}var u=[],c=!1,d,f=-1;function p(){!c||!d||(c=!1,d.length?u=d.concat(u):f=-1,u.length&&y())}function y(){if(!c){var _=a(p);c=!0;for(var m=u.length;m;){for(d=u,u=[];++f<m;)d&&d[f].run();f=-1,m=u.length}d=null,c=!1,l(_)}}r.nextTick=function(_){var m=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)m[v-1]=arguments[v];u.push(new b(_,m)),u.length===1&&!c&&a(y)};function b(_,m){this.fun=_,this.array=m}b.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function S(){}r.on=S,r.addListener=S,r.once=S,r.off=S,r.removeListener=S,r.removeAllListeners=S,r.emit=S,r.prependListener=S,r.prependOnceListener=S,r.listeners=function(_){return[]},r.binding=function(_){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(_){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),sn=be((e,t)=>{ge(),ve(),ye();var{SymbolAsyncIterator:r,SymbolIterator:n,SymbolFor:o}=st(),i=o("nodejs.stream.destroyed"),s=o("nodejs.stream.errored"),a=o("nodejs.stream.readable"),l=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),c=o("nodejs.webstream.isClosedPromise"),d=o("nodejs.webstream.controllerErrorFunction");function f(O,ce=!1){var we;return!!(O&&typeof O.pipe=="function"&&typeof O.on=="function"&&(!ce||typeof O.pause=="function"&&typeof O.resume=="function")&&(!O._writableState||((we=O._readableState)===null||we===void 0?void 0:we.readable)!==!1)&&(!O._writableState||O._readableState))}function p(O){var ce;return!!(O&&typeof O.write=="function"&&typeof O.on=="function"&&(!O._readableState||((ce=O._writableState)===null||ce===void 0?void 0:ce.writable)!==!1))}function y(O){return!!(O&&typeof O.pipe=="function"&&O._readableState&&typeof O.on=="function"&&typeof O.write=="function")}function b(O){return O&&(O._readableState||O._writableState||typeof O.write=="function"&&typeof O.on=="function"||typeof O.pipe=="function"&&typeof O.on=="function")}function S(O){return!!(O&&!b(O)&&typeof O.pipeThrough=="function"&&typeof O.getReader=="function"&&typeof O.cancel=="function")}function _(O){return!!(O&&!b(O)&&typeof O.getWriter=="function"&&typeof O.abort=="function")}function m(O){return!!(O&&!b(O)&&typeof O.readable=="object"&&typeof O.writable=="object")}function v(O){return S(O)||_(O)||m(O)}function k(O,ce){return O==null?!1:ce===!0?typeof O[r]=="function":ce===!1?typeof O[n]=="function":typeof O[r]=="function"||typeof O[n]=="function"}function T(O){if(!b(O))return null;let ce=O._writableState,we=O._readableState,W=ce||we;return!!(O.destroyed||O[i]||W!=null&&W.destroyed)}function E(O){if(!p(O))return null;if(O.writableEnded===!0)return!0;let ce=O._writableState;return ce!=null&&ce.errored?!1:typeof(ce==null?void 0:ce.ended)!="boolean"?null:ce.ended}function C(O,ce){if(!p(O))return null;if(O.writableFinished===!0)return!0;let we=O._writableState;return we!=null&&we.errored?!1:typeof(we==null?void 0:we.finished)!="boolean"?null:!!(we.finished||ce===!1&&we.ended===!0&&we.length===0)}function P(O){if(!f(O))return null;if(O.readableEnded===!0)return!0;let ce=O._readableState;return!ce||ce.errored?!1:typeof(ce==null?void 0:ce.ended)!="boolean"?null:ce.ended}function V(O,ce){if(!f(O))return null;let we=O._readableState;return we!=null&&we.errored?!1:typeof(we==null?void 0:we.endEmitted)!="boolean"?null:!!(we.endEmitted||ce===!1&&we.ended===!0&&we.length===0)}function Q(O){return O&&O[a]!=null?O[a]:typeof(O==null?void 0:O.readable)!="boolean"?null:T(O)?!1:f(O)&&O.readable&&!V(O)}function oe(O){return O&&O[l]!=null?O[l]:typeof(O==null?void 0:O.writable)!="boolean"?null:T(O)?!1:p(O)&&O.writable&&!E(O)}function R(O,ce){return b(O)?T(O)?!0:!((ce==null?void 0:ce.readable)!==!1&&Q(O)||(ce==null?void 0:ce.writable)!==!1&&oe(O)):null}function ee(O){var ce,we;return b(O)?O.writableErrored?O.writableErrored:(ce=(we=O._writableState)===null||we===void 0?void 0:we.errored)!==null&&ce!==void 0?ce:null:null}function q(O){var ce,we;return b(O)?O.readableErrored?O.readableErrored:(ce=(we=O._readableState)===null||we===void 0?void 0:we.errored)!==null&&ce!==void 0?ce:null:null}function $(O){if(!b(O))return null;if(typeof O.closed=="boolean")return O.closed;let ce=O._writableState,we=O._readableState;return typeof(ce==null?void 0:ce.closed)=="boolean"||typeof(we==null?void 0:we.closed)=="boolean"?(ce==null?void 0:ce.closed)||(we==null?void 0:we.closed):typeof O._closed=="boolean"&&he(O)?O._closed:null}function he(O){return typeof O._closed=="boolean"&&typeof O._defaultKeepAlive=="boolean"&&typeof O._removedConnection=="boolean"&&typeof O._removedContLen=="boolean"}function pe(O){return typeof O._sent100=="boolean"&&he(O)}function H(O){var ce;return typeof O._consuming=="boolean"&&typeof O._dumped=="boolean"&&((ce=O.req)===null||ce===void 0?void 0:ce.upgradeOrConnect)===void 0}function fe(O){if(!b(O))return null;let ce=O._writableState,we=O._readableState,W=ce||we;return!W&&pe(O)||!!(W&&W.autoDestroy&&W.emitClose&&W.closed===!1)}function D(O){var ce;return!!(O&&((ce=O[u])!==null&&ce!==void 0?ce:O.readableDidRead||O.readableAborted))}function se(O){var ce,we,W,Te,X,U,le,K,G,Y;return!!(O&&((ce=(we=(W=(Te=(X=(U=O[s])!==null&&U!==void 0?U:O.readableErrored)!==null&&X!==void 0?X:O.writableErrored)!==null&&Te!==void 0?Te:(le=O._readableState)===null||le===void 0?void 0:le.errorEmitted)!==null&&W!==void 0?W:(K=O._writableState)===null||K===void 0?void 0:K.errorEmitted)!==null&&we!==void 0?we:(G=O._readableState)===null||G===void 0?void 0:G.errored)!==null&&ce!==void 0?ce:!((Y=O._writableState)===null||Y===void 0)&&Y.errored))}t.exports={isDestroyed:T,kIsDestroyed:i,isDisturbed:D,kIsDisturbed:u,isErrored:se,kIsErrored:s,isReadable:Q,kIsReadable:a,kIsClosedPromise:c,kControllerErrorFunction:d,kIsWritable:l,isClosed:$,isDuplexNodeStream:y,isFinished:R,isIterable:k,isReadableNodeStream:f,isReadableStream:S,isReadableEnded:P,isReadableFinished:V,isReadableErrored:q,isNodeStream:b,isWebStream:v,isWritable:oe,isWritableNodeStream:p,isWritableStream:_,isWritableEnded:E,isWritableFinished:C,isWritableErrored:ee,isServerRequest:H,isServerResponse:pe,willEmitClose:fe,isTransformStream:m}}),Hn=be((e,t)=>{ge(),ve(),ye();var r=xi(),{AbortError:n,codes:o}=Ft(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:a,once:l}=Qt(),{validateAbortSignal:u,validateFunction:c,validateObject:d,validateBoolean:f}=xs(),{Promise:p,PromisePrototypeThen:y,SymbolDispose:b}=st(),{isClosed:S,isReadable:_,isReadableNodeStream:m,isReadableStream:v,isReadableFinished:k,isReadableErrored:T,isWritable:E,isWritableNodeStream:C,isWritableStream:P,isWritableFinished:V,isWritableErrored:Q,isNodeStream:oe,willEmitClose:R,kIsClosedPromise:ee}=sn(),q;function $(D){return D.setHeader&&typeof D.abort=="function"}var he=()=>{};function pe(D,se,O){var ce,we;if(arguments.length===2?(O=se,se=a):se==null?se=a:d(se,"options"),c(O,"callback"),u(se.signal,"options.signal"),O=l(O),v(D)||P(D))return H(D,se,O);if(!oe(D))throw new i("stream",["ReadableStream","WritableStream","Stream"],D);let W=(ce=se.readable)!==null&&ce!==void 0?ce:m(D),Te=(we=se.writable)!==null&&we!==void 0?we:C(D),X=D._writableState,U=D._readableState,le=()=>{D.writable||Y()},K=R(D)&&m(D)===W&&C(D)===Te,G=V(D,!1),Y=()=>{G=!0,D.destroyed&&(K=!1),!(K&&(!D.readable||W))&&(!W||Z)&&O.call(D)},Z=k(D,!1),ne=()=>{Z=!0,D.destroyed&&(K=!1),!(K&&(!D.writable||Te))&&(!Te||G)&&O.call(D)},j=z=>{O.call(D,z)},B=S(D),J=()=>{B=!0;let z=Q(D)||T(D);if(z&&typeof z!="boolean")return O.call(D,z);if(W&&!Z&&m(D,!0)&&!k(D,!1))return O.call(D,new s);if(Te&&!G&&!V(D,!1))return O.call(D,new s);O.call(D)},ae=()=>{B=!0;let z=Q(D)||T(D);if(z&&typeof z!="boolean")return O.call(D,z);O.call(D)},ue=()=>{D.req.on("finish",Y)};$(D)?(D.on("complete",Y),K||D.on("abort",J),D.req?ue():D.on("request",ue)):Te&&!X&&(D.on("end",le),D.on("close",le)),!K&&typeof D.aborted=="boolean"&&D.on("aborted",J),D.on("end",ne),D.on("finish",Y),se.error!==!1&&D.on("error",j),D.on("close",J),B?r.nextTick(J):X!=null&&X.errorEmitted||U!=null&&U.errorEmitted?K||r.nextTick(ae):(!W&&(!K||_(D))&&(G||E(D)===!1)||!Te&&(!K||E(D))&&(Z||_(D)===!1)||U&&D.req&&D.aborted)&&r.nextTick(ae);let ie=()=>{O=he,D.removeListener("aborted",J),D.removeListener("complete",Y),D.removeListener("abort",J),D.removeListener("request",ue),D.req&&D.req.removeListener("finish",Y),D.removeListener("end",le),D.removeListener("close",le),D.removeListener("finish",Y),D.removeListener("end",ne),D.removeListener("error",j),D.removeListener("close",J)};if(se.signal&&!B){let z=()=>{let me=O;ie(),me.call(D,new n(void 0,{cause:se.signal.reason}))};if(se.signal.aborted)r.nextTick(z);else{q=q||Qt().addAbortListener;let me=q(se.signal,z),_e=O;O=l((...de)=>{me[b](),_e.apply(D,de)})}}return ie}function H(D,se,O){let ce=!1,we=he;if(se.signal)if(we=()=>{ce=!0,O.call(D,new n(void 0,{cause:se.signal.reason}))},se.signal.aborted)r.nextTick(we);else{q=q||Qt().addAbortListener;let Te=q(se.signal,we),X=O;O=l((...U)=>{Te[b](),X.apply(D,U)})}let W=(...Te)=>{ce||r.nextTick(()=>O.apply(D,Te))};return y(D[ee].promise,W,W),he}function fe(D,se){var O;let ce=!1;return se===null&&(se=a),(O=se)!==null&&O!==void 0&&O.cleanup&&(f(se.cleanup,"cleanup"),ce=se.cleanup),new p((we,W)=>{let Te=pe(D,se,X=>{ce&&Te(),X?W(X):we()})})}t.exports=pe,t.exports.finished=fe}),vo=be((e,t)=>{ge(),ve(),ye();var r=xi(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:i}=Ft(),{Symbol:s}=st(),{kIsDestroyed:a,isDestroyed:l,isFinished:u,isServerRequest:c}=sn(),d=s("kDestroy"),f=s("kConstruct");function p(R,ee,q){R&&(R.stack,ee&&!ee.errored&&(ee.errored=R),q&&!q.errored&&(q.errored=R))}function y(R,ee){let q=this._readableState,$=this._writableState,he=$||q;return $!=null&&$.destroyed||q!=null&&q.destroyed?(typeof ee=="function"&&ee(),this):(p(R,$,q),$&&($.destroyed=!0),q&&(q.destroyed=!0),he.constructed?b(this,R,ee):this.once(d,function(pe){b(this,n(pe,R),ee)}),this)}function b(R,ee,q){let $=!1;function he(pe){if($)return;$=!0;let H=R._readableState,fe=R._writableState;p(pe,fe,H),fe&&(fe.closed=!0),H&&(H.closed=!0),typeof q=="function"&&q(pe),pe?r.nextTick(S,R,pe):r.nextTick(_,R)}try{R._destroy(ee||null,he)}catch(pe){he(pe)}}function S(R,ee){m(R,ee),_(R)}function _(R){let ee=R._readableState,q=R._writableState;q&&(q.closeEmitted=!0),ee&&(ee.closeEmitted=!0),(q!=null&&q.emitClose||ee!=null&&ee.emitClose)&&R.emit("close")}function m(R,ee){let q=R._readableState,$=R._writableState;$!=null&&$.errorEmitted||q!=null&&q.errorEmitted||($&&($.errorEmitted=!0),q&&(q.errorEmitted=!0),R.emit("error",ee))}function v(){let R=this._readableState,ee=this._writableState;R&&(R.constructed=!0,R.closed=!1,R.closeEmitted=!1,R.destroyed=!1,R.errored=null,R.errorEmitted=!1,R.reading=!1,R.ended=R.readable===!1,R.endEmitted=R.readable===!1),ee&&(ee.constructed=!0,ee.destroyed=!1,ee.closed=!1,ee.closeEmitted=!1,ee.errored=null,ee.errorEmitted=!1,ee.finalCalled=!1,ee.prefinished=!1,ee.ended=ee.writable===!1,ee.ending=ee.writable===!1,ee.finished=ee.writable===!1)}function k(R,ee,q){let $=R._readableState,he=R._writableState;if(he!=null&&he.destroyed||$!=null&&$.destroyed)return this;$!=null&&$.autoDestroy||he!=null&&he.autoDestroy?R.destroy(ee):ee&&(ee.stack,he&&!he.errored&&(he.errored=ee),$&&!$.errored&&($.errored=ee),q?r.nextTick(m,R,ee):m(R,ee))}function T(R,ee){if(typeof R._construct!="function")return;let q=R._readableState,$=R._writableState;q&&(q.constructed=!1),$&&($.constructed=!1),R.once(f,ee),!(R.listenerCount(f)>1)&&r.nextTick(E,R)}function E(R){let ee=!1;function q($){if(ee){k(R,$??new o);return}ee=!0;let he=R._readableState,pe=R._writableState,H=pe||he;he&&(he.constructed=!0),pe&&(pe.constructed=!0),H.destroyed?R.emit(d,$):$?k(R,$,!0):r.nextTick(C,R)}try{R._construct($=>{r.nextTick(q,$)})}catch($){r.nextTick(q,$)}}function C(R){R.emit(f)}function P(R){return(R==null?void 0:R.setHeader)&&typeof R.abort=="function"}function V(R){R.emit("close")}function Q(R,ee){R.emit("error",ee),r.nextTick(V,R)}function oe(R,ee){!R||l(R)||(!ee&&!u(R)&&(ee=new i),c(R)?(R.socket=null,R.destroy(ee)):P(R)?R.abort():P(R.req)?R.req.abort():typeof R.destroy=="function"?R.destroy(ee):typeof R.close=="function"?R.close():ee?r.nextTick(Q,R,ee):r.nextTick(V,R),R.destroyed||(R[a]=!0))}t.exports={construct:T,destroyer:oe,destroy:y,undestroy:v,errorOrDestroy:k}}),$f=be((e,t)=>{ge(),ve(),ye();var{ArrayIsArray:r,ObjectSetPrototypeOf:n}=st(),{EventEmitter:o}=(Ei(),He(Vn));function i(a){o.call(this,a)}n(i.prototype,o.prototype),n(i,o),i.prototype.pipe=function(a,l){let u=this;function c(_){a.writable&&a.write(_)===!1&&u.pause&&u.pause()}u.on("data",c);function d(){u.readable&&u.resume&&u.resume()}a.on("drain",d),!a._isStdio&&(!l||l.end!==!1)&&(u.on("end",p),u.on("close",y));let f=!1;function p(){f||(f=!0,a.end())}function y(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function b(_){S(),o.listenerCount(this,"error")===0&&this.emit("error",_)}s(u,"error",b),s(a,"error",b);function S(){u.removeListener("data",c),a.removeListener("drain",d),u.removeListener("end",p),u.removeListener("close",y),u.removeListener("error",b),a.removeListener("error",b),u.removeListener("end",S),u.removeListener("close",S),a.removeListener("close",S)}return u.on("end",S),u.on("close",S),a.on("close",S),a.emit("pipe",u),a};function s(a,l,u){if(typeof a.prependListener=="function")return a.prependListener(l,u);!a._events||!a._events[l]?a.on(l,u):r(a._events[l])?a._events[l].unshift(u):a._events[l]=[u,a._events[l]]}t.exports={Stream:i,prependListener:s}}),gl=be((e,t)=>{ge(),ve(),ye();var{SymbolDispose:r}=st(),{AbortError:n,codes:o}=Ft(),{isNodeStream:i,isWebStream:s,kControllerErrorFunction:a}=sn(),l=Hn(),{ERR_INVALID_ARG_TYPE:u}=o,c,d=(f,p)=>{if(typeof f!="object"||!("aborted"in f))throw new u(p,"AbortSignal",f)};t.exports.addAbortSignal=function(f,p){if(d(f,"signal"),!i(p)&&!s(p))throw new u("stream",["ReadableStream","WritableStream","Stream"],p);return t.exports.addAbortSignalNoValidate(f,p)},t.exports.addAbortSignalNoValidate=function(f,p){if(typeof f!="object"||!("aborted"in f))return p;let y=i(p)?()=>{p.destroy(new n(void 0,{cause:f.reason}))}:()=>{p[a](new n(void 0,{cause:f.reason}))};if(f.aborted)y();else{c=c||Qt().addAbortListener;let b=c(f,y);l(p,b[r])}return p}}),KE=be((e,t)=>{ge(),ve(),ye();var{StringPrototypeSlice:r,SymbolIterator:n,TypedArrayPrototypeSet:o,Uint8Array:i}=st(),{Buffer:s}=(bt(),He(wt)),{inspect:a}=Qt();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(l){let u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let u=this.head,c=""+u.data;for(;(u=u.next)!==null;)c+=l+u.data;return c}concat(l){if(this.length===0)return s.alloc(0);let u=s.allocUnsafe(l>>>0),c=this.head,d=0;for(;c;)o(u,c.data,d),d+=c.data.length,c=c.next;return u}consume(l,u){let c=this.head.data;if(l<c.length){let d=c.slice(0,l);return this.head.data=c.slice(l),d}return l===c.length?this.shift():u?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[n](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let u="",c=this.head,d=0;do{let f=c.data;if(l>f.length)u+=f,l-=f.length;else{l===f.length?(u+=f,++d,c.next?this.head=c.next:this.head=this.tail=null):(u+=r(f,0,l),this.head=c,c.data=r(f,l));break}++d}while((c=c.next)!==null);return this.length-=d,u}_getBuffer(l){let u=s.allocUnsafe(l),c=l,d=this.head,f=0;do{let p=d.data;if(l>p.length)o(u,p,c-l),l-=p.length;else{l===p.length?(o(u,p,c-l),++f,d.next?this.head=d.next:this.head=this.tail=null):(o(u,new i(p.buffer,p.byteOffset,l),c-l),this.head=d,d.data=p.slice(l));break}++f}while((d=d.next)!==null);return this.length-=f,u}[Symbol.for("nodejs.util.inspect.custom")](l,u){return a(this,{...u,depth:0,customInspect:!1})}}}),yl=be((e,t)=>{ge(),ve(),ye();var{MathFloor:r,NumberIsInteger:n}=st(),{validateInteger:o}=xs(),{ERR_INVALID_ARG_VALUE:i}=Ft().codes,s=16*1024,a=16;function l(f,p,y){return f.highWaterMark!=null?f.highWaterMark:p?f[y]:null}function u(f){return f?a:s}function c(f,p){o(p,"value",0),f?a=p:s=p}function d(f,p,y,b){let S=l(p,b,y);if(S!=null){if(!n(S)||S<0){let _=b?`options.${y}`:"options.highWaterMark";throw new i(_,S)}return r(S)}return u(f.objectMode)}t.exports={getHighWaterMark:d,getDefaultHighWaterMark:u,setDefaultHighWaterMark:c}}),GE=be((e,t)=>{ge(),ve(),ye();var r=(bt(),He(wt)),n=r.Buffer;function o(s,a){for(var l in s)a[l]=s[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=i);function i(s,a,l){return n(s,a,l)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,l)},i.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=n(s);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}),YE=be(e=>{ge(),ve(),ye();var t=GE().Buffer,r=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(m){if(!m)return"utf8";for(var v;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(v)return;m=(""+m).toLowerCase(),v=!0}}function o(m){var v=n(m);if(typeof v!="string"&&(t.isEncoding===r||!r(m)))throw new Error("Unknown encoding: "+m);return v||m}e.StringDecoder=i;function i(m){this.encoding=o(m);var v;switch(this.encoding){case"utf16le":this.text=f,this.end=p,v=4;break;case"utf8":this.fillLast=u,v=4;break;case"base64":this.text=y,this.end=b,v=3;break;default:this.write=S,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(m){if(m.length===0)return"";var v,k;if(this.lastNeed){if(v=this.fillLast(m),v===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<m.length?v?v+this.text(m,k):this.text(m,k):v||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function s(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function a(m,v,k){var T=v.length-1;if(T<k)return 0;var E=s(v[T]);return E>=0?(E>0&&(m.lastNeed=E-1),E):--T<k||E===-2?0:(E=s(v[T]),E>=0?(E>0&&(m.lastNeed=E-2),E):--T<k||E===-2?0:(E=s(v[T]),E>=0?(E>0&&(E===2?E=0:m.lastNeed=E-3),E):0))}function l(m,v,k){if((v[0]&192)!==128)return m.lastNeed=0,"�";if(m.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return m.lastNeed=1,"�";if(m.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return m.lastNeed=2,"�"}}function u(m){var v=this.lastTotal-this.lastNeed,k=l(this,m);if(k!==void 0)return k;if(this.lastNeed<=m.length)return m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,v,0,m.length),this.lastNeed-=m.length}function c(m,v){var k=a(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=k;var T=m.length-(k-this.lastNeed);return m.copy(this.lastChar,0,T),m.toString("utf8",v,T)}function d(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"�":v}function f(m,v){if((m.length-v)%2===0){var k=m.toString("utf16le",v);if(k){var T=k.charCodeAt(k.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function p(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,k)}return v}function y(m,v){var k=(m.length-v)%3;return k===0?m.toString("base64",v):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-k))}function b(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function S(m){return m.toString(this.encoding)}function _(m){return m&&m.length?this.write(m):""}}),Z0=be((e,t)=>{ge(),ve(),ye();var r=xi(),{PromisePrototypeThen:n,SymbolAsyncIterator:o,SymbolIterator:i}=st(),{Buffer:s}=(bt(),He(wt)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=Ft().codes;function u(c,d,f){let p;if(typeof d=="string"||d instanceof s)return new c({objectMode:!0,...f,read(){this.push(d),this.push(null)}});let y;if(d&&d[o])y=!0,p=d[o]();else if(d&&d[i])y=!1,p=d[i]();else throw new a("iterable",["Iterable"],d);let b=new c({objectMode:!0,highWaterMark:1,...f}),S=!1;b._read=function(){S||(S=!0,m())},b._destroy=function(v,k){n(_(v),()=>r.nextTick(k,v),T=>r.nextTick(k,T||v))};async function _(v){let k=v!=null,T=typeof p.throw=="function";if(k&&T){let{value:E,done:C}=await p.throw(v);if(await E,C)return}if(typeof p.return=="function"){let{value:E}=await p.return();await E}}async function m(){for(;;){try{let{value:v,done:k}=y?await p.next():p.next();if(k)b.push(null);else{let T=v&&typeof v.then=="function"?await v:v;if(T===null)throw S=!1,new l;if(b.push(T))continue;S=!1}}catch(v){b.destroy(v)}break}}return b}t.exports=u}),vl=be((e,t)=>{ge(),ve(),ye();var r=xi(),{ArrayPrototypeIndexOf:n,NumberIsInteger:o,NumberIsNaN:i,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:c,SafeSet:d,SymbolAsyncDispose:f,SymbolAsyncIterator:p,Symbol:y}=st();t.exports=de,de.ReadableState=_e;var{EventEmitter:b}=(Ei(),He(Vn)),{Stream:S,prependListener:_}=$f(),{Buffer:m}=(bt(),He(wt)),{addAbortSignal:v}=gl(),k=Hn(),T=Qt().debuglog("stream",N=>{T=N}),E=KE(),C=vo(),{getHighWaterMark:P,getDefaultHighWaterMark:V}=yl(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:oe,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:ee,ERR_STREAM_PUSH_AFTER_EOF:q,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:$},AbortError:he}=Ft(),{validateObject:pe}=xs(),H=y("kPaused"),{StringDecoder:fe}=YE(),D=Z0();u(de.prototype,S.prototype),u(de,S);var se=()=>{},{errorOrDestroy:O}=C,ce=1,we=2,W=4,Te=8,X=16,U=32,le=64,K=128,G=256,Y=512,Z=1024,ne=2048,j=4096,B=8192,J=16384,ae=32768,ue=65536,ie=1<<17,z=1<<18;function me(N){return{enumerable:!1,get(){return(this.state&N)!==0},set(L){L?this.state|=N:this.state&=~N}}}a(_e.prototype,{objectMode:me(ce),ended:me(we),endEmitted:me(W),reading:me(Te),constructed:me(X),sync:me(U),needReadable:me(le),emittedReadable:me(K),readableListening:me(G),resumeScheduled:me(Y),errorEmitted:me(Z),emitClose:me(ne),autoDestroy:me(j),destroyed:me(B),closed:me(J),closeEmitted:me(ae),multiAwaitDrain:me(ue),readingMore:me(ie),dataEmitted:me(z)});function _e(N,L,Ee){typeof Ee!="boolean"&&(Ee=L instanceof rn()),this.state=ne|j|X|U,N&&N.objectMode&&(this.state|=ce),Ee&&N&&N.readableObjectMode&&(this.state|=ce),this.highWaterMark=N?P(this,N,"readableHighWaterMark",Ee):V(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,N&&N.emitClose===!1&&(this.state&=~ne),N&&N.autoDestroy===!1&&(this.state&=~j),this.errored=null,this.defaultEncoding=N&&N.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,N&&N.encoding&&(this.decoder=new fe(N.encoding),this.encoding=N.encoding)}function de(N){if(!(this instanceof de))return new de(N);let L=this instanceof rn();this._readableState=new _e(N,this,L),N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.construct=="function"&&(this._construct=N.construct),N.signal&&!L&&v(N.signal,this)),S.call(this,N),C.construct(this,()=>{this._readableState.needReadable&&ke(this,this._readableState)})}de.prototype.destroy=C.destroy,de.prototype._undestroy=C.undestroy,de.prototype._destroy=function(N,L){L(N)},de.prototype[b.captureRejectionSymbol]=function(N){this.destroy(N)},de.prototype[f]=function(){let N;return this.destroyed||(N=this.readableEnded?null:new he,this.destroy(N)),new c((L,Ee)=>k(this,Pe=>Pe&&Pe!==N?Ee(Pe):L(null)))},de.prototype.push=function(N,L){return je(this,N,L,!1)},de.prototype.unshift=function(N,L){return je(this,N,L,!0)};function je(N,L,Ee,Pe){T("readableAddChunk",L);let Re=N._readableState,kt;if(Re.state&ce||(typeof L=="string"?(Ee=Ee||Re.defaultEncoding,Re.encoding!==Ee&&(Pe&&Re.encoding?L=m.from(L,Ee).toString(Re.encoding):(L=m.from(L,Ee),Ee=""))):L instanceof m?Ee="":S._isUint8Array(L)?(L=S._uint8ArrayToBuffer(L),Ee=""):L!=null&&(kt=new oe("chunk",["string","Buffer","Uint8Array"],L))),kt)O(N,kt);else if(L===null)Re.state&=~Te,M(N,Re);else if(Re.state&ce||L&&L.length>0)if(Pe)if(Re.state&W)O(N,new $);else{if(Re.destroyed||Re.errored)return!1;h(N,Re,L,!0)}else if(Re.ended)O(N,new q);else{if(Re.destroyed||Re.errored)return!1;Re.state&=~Te,Re.decoder&&!Ee?(L=Re.decoder.write(L),Re.objectMode||L.length!==0?h(N,Re,L,!1):ke(N,Re)):h(N,Re,L,!1)}else Pe||(Re.state&=~Te,ke(N,Re));return!Re.ended&&(Re.length<Re.highWaterMark||Re.length===0)}function h(N,L,Ee,Pe){L.flowing&&L.length===0&&!L.sync&&N.listenerCount("data")>0?(L.state&ue?L.awaitDrainWriters.clear():L.awaitDrainWriters=null,L.dataEmitted=!0,N.emit("data",Ee)):(L.length+=L.objectMode?1:Ee.length,Pe?L.buffer.unshift(Ee):L.buffer.push(Ee),L.state&le&&F(N)),ke(N,L)}de.prototype.isPaused=function(){let N=this._readableState;return N[H]===!0||N.flowing===!1},de.prototype.setEncoding=function(N){let L=new fe(N);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;let Ee=this._readableState.buffer,Pe="";for(let Re of Ee)Pe+=L.write(Re);return Ee.clear(),Pe!==""&&Ee.push(Pe),this._readableState.length=Pe.length,this};var g=1073741824;function w(N){if(N>g)throw new ee("size","<= 1GiB",N);return N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++,N}function A(N,L){return N<=0||L.length===0&&L.ended?0:L.state&ce?1:i(N)?L.flowing&&L.length?L.buffer.first().length:L.length:N<=L.length?N:L.ended?L.length:0}de.prototype.read=function(N){T("read",N),N===void 0?N=NaN:o(N)||(N=s(N,10));let L=this._readableState,Ee=N;if(N>L.highWaterMark&&(L.highWaterMark=w(N)),N!==0&&(L.state&=~K),N===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return T("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?qe(this):F(this),null;if(N=A(N,L),N===0&&L.ended)return L.length===0&&qe(this),null;let Pe=(L.state&le)!==0;if(T("need readable",Pe),(L.length===0||L.length-N<L.highWaterMark)&&(Pe=!0,T("length less than watermark",Pe)),L.ended||L.reading||L.destroyed||L.errored||!L.constructed)Pe=!1,T("reading, ended or constructing",Pe);else if(Pe){T("do read"),L.state|=Te|U,L.length===0&&(L.state|=le);try{this._read(L.highWaterMark)}catch(kt){O(this,kt)}L.state&=~U,L.reading||(N=A(Ee,L))}let Re;return N>0?Re=Le(N,L):Re=null,Re===null?(L.needReadable=L.length<=L.highWaterMark,N=0):(L.length-=N,L.multiAwaitDrain?L.awaitDrainWriters.clear():L.awaitDrainWriters=null),L.length===0&&(L.ended||(L.needReadable=!0),Ee!==N&&L.ended&&qe(this)),Re!==null&&!L.errorEmitted&&!L.closeEmitted&&(L.dataEmitted=!0,this.emit("data",Re)),Re};function M(N,L){if(T("onEofChunk"),!L.ended){if(L.decoder){let Ee=L.decoder.end();Ee&&Ee.length&&(L.buffer.push(Ee),L.length+=L.objectMode?1:Ee.length)}L.ended=!0,L.sync?F(N):(L.needReadable=!1,L.emittedReadable=!0,re(N))}}function F(N){let L=N._readableState;T("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(T("emitReadable",L.flowing),L.emittedReadable=!0,r.nextTick(re,N))}function re(N){let L=N._readableState;T("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&!L.errored&&(L.length||L.ended)&&(N.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,Kt(N)}function ke(N,L){!L.readingMore&&L.constructed&&(L.readingMore=!0,r.nextTick(Ce,N,L))}function Ce(N,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){let Ee=L.length;if(T("maybeReadMore read 0"),N.read(0),Ee===L.length)break}L.readingMore=!1}de.prototype._read=function(N){throw new R("_read()")},de.prototype.pipe=function(N,L){let Ee=this,Pe=this._readableState;Pe.pipes.length===1&&(Pe.multiAwaitDrain||(Pe.multiAwaitDrain=!0,Pe.awaitDrainWriters=new d(Pe.awaitDrainWriters?[Pe.awaitDrainWriters]:[]))),Pe.pipes.push(N),T("pipe count=%d opts=%j",Pe.pipes.length,L);let Re=(!L||L.end!==!1)&&N!==r.stdout&&N!==r.stderr?ir:bo;Pe.endEmitted?r.nextTick(Re):Ee.once("end",Re),N.on("unpipe",kt);function kt(Qn,Br){T("onunpipe"),Qn===Ee&&Br&&Br.hasUnpiped===!1&&(Br.hasUnpiped=!0,uw())}function ir(){T("onend"),N.end()}let qn,Qf=!1;function uw(){T("cleanup"),N.removeListener("close",Sl),N.removeListener("finish",El),qn&&N.removeListener("drain",qn),N.removeListener("error",_l),N.removeListener("unpipe",kt),Ee.removeListener("end",ir),Ee.removeListener("end",bo),Ee.removeListener("data",Gf),Qf=!0,qn&&Pe.awaitDrainWriters&&(!N._writableState||N._writableState.needDrain)&&qn()}function Kf(){Qf||(Pe.pipes.length===1&&Pe.pipes[0]===N?(T("false write response, pause",0),Pe.awaitDrainWriters=N,Pe.multiAwaitDrain=!1):Pe.pipes.length>1&&Pe.pipes.includes(N)&&(T("false write response, pause",Pe.awaitDrainWriters.size),Pe.awaitDrainWriters.add(N)),Ee.pause()),qn||(qn=Oe(Ee,N),N.on("drain",qn))}Ee.on("data",Gf);function Gf(Qn){T("ondata");let Br=N.write(Qn);T("dest.write",Br),Br===!1&&Kf()}function _l(Qn){if(T("onerror",Qn),bo(),N.removeListener("error",_l),N.listenerCount("error")===0){let Br=N._writableState||N._readableState;Br&&!Br.errorEmitted?O(N,Qn):N.emit("error",Qn)}}_(N,"error",_l);function Sl(){N.removeListener("finish",El),bo()}N.once("close",Sl);function El(){T("onfinish"),N.removeListener("close",Sl),bo()}N.once("finish",El);function bo(){T("unpipe"),Ee.unpipe(N)}return N.emit("pipe",Ee),N.writableNeedDrain===!0?Kf():Pe.flowing||(T("pipe resume"),Ee.resume()),N};function Oe(N,L){return function(){let Ee=N._readableState;Ee.awaitDrainWriters===L?(T("pipeOnDrain",1),Ee.awaitDrainWriters=null):Ee.multiAwaitDrain&&(T("pipeOnDrain",Ee.awaitDrainWriters.size),Ee.awaitDrainWriters.delete(L)),(!Ee.awaitDrainWriters||Ee.awaitDrainWriters.size===0)&&N.listenerCount("data")&&N.resume()}}de.prototype.unpipe=function(N){let L=this._readableState,Ee={hasUnpiped:!1};if(L.pipes.length===0)return this;if(!N){let Re=L.pipes;L.pipes=[],this.pause();for(let kt=0;kt<Re.length;kt++)Re[kt].emit("unpipe",this,{hasUnpiped:!1});return this}let Pe=n(L.pipes,N);return Pe===-1?this:(L.pipes.splice(Pe,1),L.pipes.length===0&&this.pause(),N.emit("unpipe",this,Ee),this)},de.prototype.on=function(N,L){let Ee=S.prototype.on.call(this,N,L),Pe=this._readableState;return N==="data"?(Pe.readableListening=this.listenerCount("readable")>0,Pe.flowing!==!1&&this.resume()):N==="readable"&&!Pe.endEmitted&&!Pe.readableListening&&(Pe.readableListening=Pe.needReadable=!0,Pe.flowing=!1,Pe.emittedReadable=!1,T("on readable",Pe.length,Pe.reading),Pe.length?F(this):Pe.reading||r.nextTick(Me,this)),Ee},de.prototype.addListener=de.prototype.on,de.prototype.removeListener=function(N,L){let Ee=S.prototype.removeListener.call(this,N,L);return N==="readable"&&r.nextTick(Be,this),Ee},de.prototype.off=de.prototype.removeListener,de.prototype.removeAllListeners=function(N){let L=S.prototype.removeAllListeners.apply(this,arguments);return(N==="readable"||N===void 0)&&r.nextTick(Be,this),L};function Be(N){let L=N._readableState;L.readableListening=N.listenerCount("readable")>0,L.resumeScheduled&&L[H]===!1?L.flowing=!0:N.listenerCount("data")>0?N.resume():L.readableListening||(L.flowing=null)}function Me(N){T("readable nexttick read 0"),N.read(0)}de.prototype.resume=function(){let N=this._readableState;return N.flowing||(T("resume"),N.flowing=!N.readableListening,xr(this,N)),N[H]=!1,this};function xr(N,L){L.resumeScheduled||(L.resumeScheduled=!0,r.nextTick($t,N,L))}function $t(N,L){T("resume",L.reading),L.reading||N.read(0),L.resumeScheduled=!1,N.emit("resume"),Kt(N),L.flowing&&!L.reading&&N.read(0)}de.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function Kt(N){let L=N._readableState;for(T("flow",L.flowing);L.flowing&&N.read()!==null;);}de.prototype.wrap=function(N){let L=!1;N.on("data",Pe=>{!this.push(Pe)&&N.pause&&(L=!0,N.pause())}),N.on("end",()=>{this.push(null)}),N.on("error",Pe=>{O(this,Pe)}),N.on("close",()=>{this.destroy()}),N.on("destroy",()=>{this.destroy()}),this._read=()=>{L&&N.resume&&(L=!1,N.resume())};let Ee=l(N);for(let Pe=1;Pe<Ee.length;Pe++){let Re=Ee[Pe];this[Re]===void 0&&typeof N[Re]=="function"&&(this[Re]=N[Re].bind(N))}return this},de.prototype[p]=function(){return Je(this)},de.prototype.iterator=function(N){return N!==void 0&&pe(N,"options"),Je(this,N)};function Je(N,L){typeof N.read!="function"&&(N=de.wrap(N,{objectMode:!0}));let Ee=gt(N,L);return Ee.stream=N,Ee}async function*gt(N,L){let Ee=se;function Pe(ir){this===N?(Ee(),Ee=se):Ee=ir}N.on("readable",Pe);let Re,kt=k(N,{writable:!1},ir=>{Re=ir?Q(Re,ir):null,Ee(),Ee=se});try{for(;;){let ir=N.destroyed?null:N.read();if(ir!==null)yield ir;else{if(Re)throw Re;if(Re===null)return;await new c(Pe)}}}catch(ir){throw Re=Q(Re,ir),Re}finally{(Re||(L==null?void 0:L.destroyOnReturn)!==!1)&&(Re===void 0||N._readableState.autoDestroy)?C.destroyer(N,null):(N.off("readable",Pe),kt())}}a(de.prototype,{readable:{__proto__:null,get(){let N=this._readableState;return!!N&&N.readable!==!1&&!N.destroyed&&!N.errorEmitted&&!N.endEmitted},set(N){this._readableState&&(this._readableState.readable=!!N)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(N){this._readableState&&(this._readableState.destroyed=N)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(_e.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(N){this[H]=!!N}}}),de._fromList=Le;function Le(N,L){if(L.length===0)return null;let Ee;return L.objectMode?Ee=L.buffer.shift():!N||N>=L.length?(L.decoder?Ee=L.buffer.join(""):L.buffer.length===1?Ee=L.buffer.first():Ee=L.buffer.concat(L.length),L.buffer.clear()):Ee=L.buffer.consume(N,L.decoder),Ee}function qe(N){let L=N._readableState;T("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,r.nextTick(xt,L,N))}function xt(N,L){if(T("endReadableNT",N.endEmitted,N.length),!N.errored&&!N.closeEmitted&&!N.endEmitted&&N.length===0){if(N.endEmitted=!0,L.emit("end"),L.writable&&L.allowHalfOpen===!1)r.nextTick(ht,L);else if(N.autoDestroy){let Ee=L._writableState;(!Ee||Ee.autoDestroy&&(Ee.finished||Ee.writable===!1))&&L.destroy()}}}function ht(N){N.writable&&!N.writableEnded&&!N.destroyed&&N.end()}de.from=function(N,L){return D(de,N,L)};var Nt;function un(){return Nt===void 0&&(Nt={}),Nt}de.fromWeb=function(N,L){return un().newStreamReadableFromReadableStream(N,L)},de.toWeb=function(N,L){return un().newReadableStreamFromStreamReadable(N,L)},de.wrap=function(N,L){var Ee,Pe;return new de({objectMode:(Ee=(Pe=N.readableObjectMode)!==null&&Pe!==void 0?Pe:N.objectMode)!==null&&Ee!==void 0?Ee:!0,...L,destroy(Re,kt){C.destroyer(N,Re),kt(Re)}}).wrap(N)}}),Wf=be((e,t)=>{ge(),ve(),ye();var r=xi(),{ArrayPrototypeSlice:n,Error:o,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:c,SymbolHasInstance:d}=st();t.exports=pe,pe.WritableState=$;var{EventEmitter:f}=(Ei(),He(Vn)),p=$f().Stream,{Buffer:y}=(bt(),He(wt)),b=vo(),{addAbortSignal:S}=gl(),{getHighWaterMark:_,getDefaultHighWaterMark:m}=yl(),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:k,ERR_MULTIPLE_CALLBACK:T,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:C,ERR_STREAM_ALREADY_FINISHED:P,ERR_STREAM_NULL_VALUES:V,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:oe}=Ft().codes,{errorOrDestroy:R}=b;l(pe.prototype,p.prototype),l(pe,p);function ee(){}var q=c("kOnFinished");function $(j,B,J){typeof J!="boolean"&&(J=B instanceof rn()),this.objectMode=!!(j&&j.objectMode),J&&(this.objectMode=this.objectMode||!!(j&&j.writableObjectMode)),this.highWaterMark=j?_(this,j,"writableHighWaterMark",J):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ae=!!(j&&j.decodeStrings===!1);this.decodeStrings=!ae,this.defaultEncoding=j&&j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=O.bind(void 0,B),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,he(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!j||j.emitClose!==!1,this.autoDestroy=!j||j.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[q]=[]}function he(j){j.buffered=[],j.bufferedIndex=0,j.allBuffers=!0,j.allNoop=!0}$.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},s($.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pe(j){let B=this instanceof rn();if(!B&&!i(pe,this))return new pe(j);this._writableState=new $(j,this,B),j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final),typeof j.construct=="function"&&(this._construct=j.construct),j.signal&&S(j.signal,this)),p.call(this,j),b.construct(this,()=>{let J=this._writableState;J.writing||Te(this,J),K(this,J)})}s(pe,d,{__proto__:null,value:function(j){return i(this,j)?!0:this!==pe?!1:j&&j._writableState instanceof $}}),pe.prototype.pipe=function(){R(this,new E)};function H(j,B,J,ae){let ue=j._writableState;if(typeof J=="function")ae=J,J=ue.defaultEncoding;else{if(!J)J=ue.defaultEncoding;else if(J!=="buffer"&&!y.isEncoding(J))throw new oe(J);typeof ae!="function"&&(ae=ee)}if(B===null)throw new V;if(!ue.objectMode)if(typeof B=="string")ue.decodeStrings!==!1&&(B=y.from(B,J),J="buffer");else if(B instanceof y)J="buffer";else if(p._isUint8Array(B))B=p._uint8ArrayToBuffer(B),J="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],B);let ie;return ue.ending?ie=new Q:ue.destroyed&&(ie=new C("write")),ie?(r.nextTick(ae,ie),R(j,ie,!0),ie):(ue.pendingcb++,fe(j,ue,B,J,ae))}pe.prototype.write=function(j,B,J){return H(this,j,B,J)===!0},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){let j=this._writableState;j.corked&&(j.corked--,j.writing||Te(this,j))},pe.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=u(j)),!y.isEncoding(j))throw new oe(j);return this._writableState.defaultEncoding=j,this};function fe(j,B,J,ae,ue){let ie=B.objectMode?1:J.length;B.length+=ie;let z=B.length<B.highWaterMark;return z||(B.needDrain=!0),B.writing||B.corked||B.errored||!B.constructed?(B.buffered.push({chunk:J,encoding:ae,callback:ue}),B.allBuffers&&ae!=="buffer"&&(B.allBuffers=!1),B.allNoop&&ue!==ee&&(B.allNoop=!1)):(B.writelen=ie,B.writecb=ue,B.writing=!0,B.sync=!0,j._write(J,ae,B.onwrite),B.sync=!1),z&&!B.errored&&!B.destroyed}function D(j,B,J,ae,ue,ie,z){B.writelen=ae,B.writecb=z,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new C("write")):J?j._writev(ue,B.onwrite):j._write(ue,ie,B.onwrite),B.sync=!1}function se(j,B,J,ae){--B.pendingcb,ae(J),W(B),R(j,J)}function O(j,B){let J=j._writableState,ae=J.sync,ue=J.writecb;if(typeof ue!="function"){R(j,new T);return}J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0,B?(B.stack,J.errored||(J.errored=B),j._readableState&&!j._readableState.errored&&(j._readableState.errored=B),ae?r.nextTick(se,j,J,B,ue):se(j,J,B,ue)):(J.buffered.length>J.bufferedIndex&&Te(j,J),ae?J.afterWriteTickInfo!==null&&J.afterWriteTickInfo.cb===ue?J.afterWriteTickInfo.count++:(J.afterWriteTickInfo={count:1,cb:ue,stream:j,state:J},r.nextTick(ce,J.afterWriteTickInfo)):we(j,J,1,ue))}function ce({stream:j,state:B,count:J,cb:ae}){return B.afterWriteTickInfo=null,we(j,B,J,ae)}function we(j,B,J,ae){for(!B.ending&&!j.destroyed&&B.length===0&&B.needDrain&&(B.needDrain=!1,j.emit("drain"));J-- >0;)B.pendingcb--,ae();B.destroyed&&W(B),K(j,B)}function W(j){if(j.writing)return;for(let ue=j.bufferedIndex;ue<j.buffered.length;++ue){var B;let{chunk:ie,callback:z}=j.buffered[ue],me=j.objectMode?1:ie.length;j.length-=me,z((B=j.errored)!==null&&B!==void 0?B:new C("write"))}let J=j[q].splice(0);for(let ue=0;ue<J.length;ue++){var ae;J[ue]((ae=j.errored)!==null&&ae!==void 0?ae:new C("end"))}he(j)}function Te(j,B){if(B.corked||B.bufferProcessing||B.destroyed||!B.constructed)return;let{buffered:J,bufferedIndex:ae,objectMode:ue}=B,ie=J.length-ae;if(!ie)return;let z=ae;if(B.bufferProcessing=!0,ie>1&&j._writev){B.pendingcb-=ie-1;let me=B.allNoop?ee:de=>{for(let je=z;je<J.length;++je)J[je].callback(de)},_e=B.allNoop&&z===0?J:n(J,z);_e.allBuffers=B.allBuffers,D(j,B,!0,B.length,_e,"",me),he(B)}else{do{let{chunk:me,encoding:_e,callback:de}=J[z];J[z++]=null;let je=ue?1:me.length;D(j,B,!1,je,me,_e,de)}while(z<J.length&&!B.writing);z===J.length?he(B):z>256?(J.splice(0,z),B.bufferedIndex=0):B.bufferedIndex=z}B.bufferProcessing=!1}pe.prototype._write=function(j,B,J){if(this._writev)this._writev([{chunk:j,encoding:B}],J);else throw new k("_write()")},pe.prototype._writev=null,pe.prototype.end=function(j,B,J){let ae=this._writableState;typeof j=="function"?(J=j,j=null,B=null):typeof B=="function"&&(J=B,B=null);let ue;if(j!=null){let ie=H(this,j,B);ie instanceof o&&(ue=ie)}return ae.corked&&(ae.corked=1,this.uncork()),ue||(!ae.errored&&!ae.ending?(ae.ending=!0,K(this,ae,!0),ae.ended=!0):ae.finished?ue=new P("end"):ae.destroyed&&(ue=new C("end"))),typeof J=="function"&&(ue||ae.finished?r.nextTick(J,ue):ae[q].push(J)),this};function X(j){return j.ending&&!j.destroyed&&j.constructed&&j.length===0&&!j.errored&&j.buffered.length===0&&!j.finished&&!j.writing&&!j.errorEmitted&&!j.closeEmitted}function U(j,B){let J=!1;function ae(ue){if(J){R(j,ue??T());return}if(J=!0,B.pendingcb--,ue){let ie=B[q].splice(0);for(let z=0;z<ie.length;z++)ie[z](ue);R(j,ue,B.sync)}else X(B)&&(B.prefinished=!0,j.emit("prefinish"),B.pendingcb++,r.nextTick(G,j,B))}B.sync=!0,B.pendingcb++;try{j._final(ae)}catch(ue){ae(ue)}B.sync=!1}function le(j,B){!B.prefinished&&!B.finalCalled&&(typeof j._final=="function"&&!B.destroyed?(B.finalCalled=!0,U(j,B)):(B.prefinished=!0,j.emit("prefinish")))}function K(j,B,J){X(B)&&(le(j,B),B.pendingcb===0&&(J?(B.pendingcb++,r.nextTick((ae,ue)=>{X(ue)?G(ae,ue):ue.pendingcb--},j,B)):X(B)&&(B.pendingcb++,G(j,B))))}function G(j,B){B.pendingcb--,B.finished=!0;let J=B[q].splice(0);for(let ae=0;ae<J.length;ae++)J[ae]();if(j.emit("finish"),B.autoDestroy){let ae=j._readableState;(!ae||ae.autoDestroy&&(ae.endEmitted||ae.readable===!1))&&j.destroy()}}a(pe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(j){this._writableState&&(this._writableState.destroyed=j)}},writable:{__proto__:null,get(){let j=this._writableState;return!!j&&j.writable!==!1&&!j.destroyed&&!j.errored&&!j.ending&&!j.ended},set(j){this._writableState&&(this._writableState.writable=!!j)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let j=this._writableState;return j?!j.destroyed&&!j.ending&&j.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Y=b.destroy;pe.prototype.destroy=function(j,B){let J=this._writableState;return!J.destroyed&&(J.bufferedIndex<J.buffered.length||J[q].length)&&r.nextTick(W,J),Y.call(this,j,B),this},pe.prototype._undestroy=b.undestroy,pe.prototype._destroy=function(j,B){B(j)},pe.prototype[f.captureRejectionSymbol]=function(j){this.destroy(j)};var Z;function ne(){return Z===void 0&&(Z={}),Z}pe.fromWeb=function(j,B){return ne().newStreamWritableFromWritableStream(j,B)},pe.toWeb=function(j){return ne().newWritableStreamFromStreamWritable(j)}}),XE=be((e,t)=>{ge(),ve(),ye();var r=xi(),n=(bt(),He(wt)),{isReadable:o,isWritable:i,isIterable:s,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:c,isReadableStream:d,isWritableStream:f}=sn(),p=Hn(),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:S}}=Ft(),{destroyer:_}=vo(),m=rn(),v=vl(),k=Wf(),{createDeferredPromise:T}=Qt(),E=Z0(),C=globalThis.Blob||n.Blob,P=typeof C<"u"?function(q){return q instanceof C}:function(q){return!1},V=globalThis.AbortController||gs().AbortController,{FunctionPrototypeCall:Q}=st(),oe=class extends m{constructor(q){super(q),(q==null?void 0:q.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(q==null?void 0:q.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function q($,he){if(c($))return $;if(l($))return ee({readable:$});if(u($))return ee({writable:$});if(a($))return ee({writable:!1,readable:!1});if(d($))return ee({readable:v.fromWeb($)});if(f($))return ee({writable:k.fromWeb($)});if(typeof $=="function"){let{value:H,write:fe,final:D,destroy:se}=R($);if(s(H))return E(oe,H,{objectMode:!0,write:fe,final:D,destroy:se});let O=H==null?void 0:H.then;if(typeof O=="function"){let ce,we=Q(O,H,W=>{if(W!=null)throw new S("nully","body",W)},W=>{_(ce,W)});return ce=new oe({objectMode:!0,readable:!1,write:fe,final(W){D(async()=>{try{await we,r.nextTick(W,null)}catch(Te){r.nextTick(W,Te)}})},destroy:se})}throw new S("Iterable, AsyncIterable or AsyncFunction",he,H)}if(P($))return q($.arrayBuffer());if(s($))return E(oe,$,{objectMode:!0,writable:!1});if(d($==null?void 0:$.readable)&&f($==null?void 0:$.writable))return oe.fromWeb($);if(typeof($==null?void 0:$.writable)=="object"||typeof($==null?void 0:$.readable)=="object"){let H=$!=null&&$.readable?l($==null?void 0:$.readable)?$==null?void 0:$.readable:q($.readable):void 0,fe=$!=null&&$.writable?u($==null?void 0:$.writable)?$==null?void 0:$.writable:q($.writable):void 0;return ee({readable:H,writable:fe})}let pe=$==null?void 0:$.then;if(typeof pe=="function"){let H;return Q(pe,$,fe=>{fe!=null&&H.push(fe),H.push(null)},fe=>{_(H,fe)}),H=new oe({objectMode:!0,writable:!1,read(){}})}throw new b(he,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],$)};function R(q){let{promise:$,resolve:he}=T(),pe=new V,H=pe.signal;return{value:q(async function*(){for(;;){let fe=$;$=null;let{chunk:D,done:se,cb:O}=await fe;if(r.nextTick(O),se)return;if(H.aborted)throw new y(void 0,{cause:H.reason});({promise:$,resolve:he}=T()),yield D}}(),{signal:H}),write(fe,D,se){let O=he;he=null,O({chunk:fe,done:!1,cb:se})},final(fe){let D=he;he=null,D({done:!0,cb:fe})},destroy(fe,D){pe.abort(),D(fe)}}}function ee(q){let $=q.readable&&typeof q.readable.read!="function"?v.wrap(q.readable):q.readable,he=q.writable,pe=!!o($),H=!!i(he),fe,D,se,O,ce;function we(W){let Te=O;O=null,Te?Te(W):W&&ce.destroy(W)}return ce=new oe({readableObjectMode:!!($!=null&&$.readableObjectMode),writableObjectMode:!!(he!=null&&he.writableObjectMode),readable:pe,writable:H}),H&&(p(he,W=>{H=!1,W&&_($,W),we(W)}),ce._write=function(W,Te,X){he.write(W,Te)?X():fe=X},ce._final=function(W){he.end(),D=W},he.on("drain",function(){if(fe){let W=fe;fe=null,W()}}),he.on("finish",function(){if(D){let W=D;D=null,W()}})),pe&&(p($,W=>{pe=!1,W&&_($,W),we(W)}),$.on("readable",function(){if(se){let W=se;se=null,W()}}),$.on("end",function(){ce.push(null)}),ce._read=function(){for(;;){let W=$.read();if(W===null){se=ce._read;return}if(!ce.push(W))return}}),ce._destroy=function(W,Te){!W&&O!==null&&(W=new y),se=null,fe=null,D=null,O===null?Te(W):(O=Te,_(he,W),_($,W))},ce}}),rn=be((e,t)=>{ge(),ve(),ye();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:o,ObjectSetPrototypeOf:i}=st();t.exports=l;var s=vl(),a=Wf();i(l.prototype,s.prototype),i(l,s);{let f=o(a.prototype);for(let p=0;p<f.length;p++){let y=f[p];l.prototype[y]||(l.prototype[y]=a.prototype[y])}}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),a.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(l.prototype,{writable:{__proto__:null,...n(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(a.prototype,"writableLength")},writableFinished:{__proto__:null,...n(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});var u;function c(){return u===void 0&&(u={}),u}l.fromWeb=function(f,p){return c().newStreamDuplexFromReadableWritablePair(f,p)},l.toWeb=function(f){return c().newReadableWritablePairFromDuplex(f)};var d;l.from=function(f){return d||(d=XE()),d(f,"body")}}),ev=be((e,t)=>{ge(),ve(),ye();var{ObjectSetPrototypeOf:r,Symbol:n}=st();t.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:o}=Ft().codes,i=rn(),{getHighWaterMark:s}=yl();r(l.prototype,i.prototype),r(l,i);var a=n("kCallback");function l(d){if(!(this instanceof l))return new l(d);let f=d?s(this,d,"readableHighWaterMark",!0):null;f===0&&(d={...d,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:d.writableHighWaterMark||0}),i.call(this,d),this._readableState.sync=!1,this[a]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function u(d){typeof this._flush=="function"&&!this.destroyed?this._flush((f,p)=>{if(f){d?d(f):this.destroy(f);return}p!=null&&this.push(p),this.push(null),d&&d()}):(this.push(null),d&&d())}function c(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(d,f,p){throw new o("_transform()")},l.prototype._write=function(d,f,p){let y=this._readableState,b=this._writableState,S=y.length;this._transform(d,f,(_,m)=>{if(_){p(_);return}m!=null&&this.push(m),b.ended||S===y.length||y.length<y.highWaterMark?p():this[a]=p})},l.prototype._read=function(){if(this[a]){let d=this[a];this[a]=null,d()}}}),tv=be((e,t)=>{ge(),ve(),ye();var{ObjectSetPrototypeOf:r}=st();t.exports=o;var n=ev();r(o.prototype,n.prototype),r(o,n);function o(i){if(!(this instanceof o))return new o(i);n.call(this,i)}o.prototype._transform=function(i,s,a){a(null,i)}}),zf=be((e,t)=>{ge(),ve(),ye();var r=xi(),{ArrayIsArray:n,Promise:o,SymbolAsyncIterator:i,SymbolDispose:s}=st(),a=Hn(),{once:l}=Qt(),u=vo(),c=rn(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:y,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:S},AbortError:_}=Ft(),{validateFunction:m,validateAbortSignal:v}=xs(),{isIterable:k,isReadable:T,isReadableNodeStream:E,isNodeStream:C,isTransformStream:P,isWebStream:V,isReadableStream:Q,isReadableFinished:oe}=sn(),R=globalThis.AbortController||gs().AbortController,ee,q,$;function he(W,Te,X){let U=!1;W.on("close",()=>{U=!0});let le=a(W,{readable:Te,writable:X},K=>{U=!K});return{destroy:K=>{U||(U=!0,u.destroyer(W,K||new b("pipe")))},cleanup:le}}function pe(W){return m(W[W.length-1],"streams[stream.length - 1]"),W.pop()}function H(W){if(k(W))return W;if(E(W))return fe(W);throw new f("val",["Readable","Iterable","AsyncIterable"],W)}async function*fe(W){q||(q=vl()),yield*q.prototype[i].call(W)}async function D(W,Te,X,{end:U}){let le,K=null,G=ne=>{if(ne&&(le=ne),K){let j=K;K=null,j()}},Y=()=>new o((ne,j)=>{le?j(le):K=()=>{le?j(le):ne()}});Te.on("drain",G);let Z=a(Te,{readable:!1},G);try{Te.writableNeedDrain&&await Y();for await(let ne of W)Te.write(ne)||await Y();U&&(Te.end(),await Y()),X()}catch(ne){X(le!==ne?d(le,ne):ne)}finally{Z(),Te.off("drain",G)}}async function se(W,Te,X,{end:U}){P(Te)&&(Te=Te.writable);let le=Te.getWriter();try{for await(let K of W)await le.ready,le.write(K).catch(()=>{});await le.ready,U&&await le.close(),X()}catch(K){try{await le.abort(K),X(K)}catch(G){X(G)}}}function O(...W){return ce(W,l(pe(W)))}function ce(W,Te,X){if(W.length===1&&n(W[0])&&(W=W[0]),W.length<2)throw new y("streams");let U=new R,le=U.signal,K=X==null?void 0:X.signal,G=[];v(K,"options.signal");function Y(){ue(new _)}$=$||Qt().addAbortListener;let Z;K&&(Z=$(K,Y));let ne,j,B=[],J=0;function ae(_e){ue(_e,--J===0)}function ue(_e,de){var je;if(_e&&(!ne||ne.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ne=_e),!(!ne&&!de)){for(;B.length;)B.shift()(ne);(je=Z)===null||je===void 0||je[s](),U.abort(),de&&(ne||G.forEach(h=>h()),r.nextTick(Te,ne,j))}}let ie;for(let _e=0;_e<W.length;_e++){let de=W[_e],je=_e<W.length-1,h=_e>0,g=je||(X==null?void 0:X.end)!==!1,w=_e===W.length-1;if(C(de)){let A=function(M){M&&M.name!=="AbortError"&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ae(M)};if(g){let{destroy:M,cleanup:F}=he(de,je,h);B.push(M),T(de)&&w&&G.push(F)}de.on("error",A),T(de)&&w&&G.push(()=>{de.removeListener("error",A)})}if(_e===0)if(typeof de=="function"){if(ie=de({signal:le}),!k(ie))throw new p("Iterable, AsyncIterable or Stream","source",ie)}else k(de)||E(de)||P(de)?ie=de:ie=c.from(de);else if(typeof de=="function"){if(P(ie)){var z;ie=H((z=ie)===null||z===void 0?void 0:z.readable)}else ie=H(ie);if(ie=de(ie,{signal:le}),je){if(!k(ie,!0))throw new p("AsyncIterable",`transform[${_e-1}]`,ie)}else{var me;ee||(ee=tv());let A=new ee({objectMode:!0}),M=(me=ie)===null||me===void 0?void 0:me.then;if(typeof M=="function")J++,M.call(ie,ke=>{j=ke,ke!=null&&A.write(ke),g&&A.end(),r.nextTick(ae)},ke=>{A.destroy(ke),r.nextTick(ae,ke)});else if(k(ie,!0))J++,D(ie,A,ae,{end:g});else if(Q(ie)||P(ie)){let ke=ie.readable||ie;J++,D(ke,A,ae,{end:g})}else throw new p("AsyncIterable or Promise","destination",ie);ie=A;let{destroy:F,cleanup:re}=he(ie,!1,!0);B.push(F),w&&G.push(re)}}else if(C(de)){if(E(ie)){J+=2;let A=we(ie,de,ae,{end:g});T(de)&&w&&G.push(A)}else if(P(ie)||Q(ie)){let A=ie.readable||ie;J++,D(A,de,ae,{end:g})}else if(k(ie))J++,D(ie,de,ae,{end:g});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ie);ie=de}else if(V(de)){if(E(ie))J++,se(H(ie),de,ae,{end:g});else if(Q(ie)||k(ie))J++,se(ie,de,ae,{end:g});else if(P(ie))J++,se(ie.readable,de,ae,{end:g});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ie);ie=de}else ie=c.from(de)}return(le!=null&&le.aborted||K!=null&&K.aborted)&&r.nextTick(Y),ie}function we(W,Te,X,{end:U}){let le=!1;if(Te.on("close",()=>{le||X(new S)}),W.pipe(Te,{end:!1}),U){let K=function(){le=!0,Te.end()};oe(W)?r.nextTick(K):W.once("end",K)}else X();return a(W,{readable:!0,writable:!1},K=>{let G=W._readableState;K&&K.code==="ERR_STREAM_PREMATURE_CLOSE"&&G&&G.ended&&!G.errored&&!G.errorEmitted?W.once("end",X).once("error",X):X(K)}),a(Te,{readable:!1,writable:!0},X)}t.exports={pipelineImpl:ce,pipeline:O}}),rv=be((e,t)=>{ge(),ve(),ye();var{pipeline:r}=zf(),n=rn(),{destroyer:o}=vo(),{isNodeStream:i,isReadable:s,isWritable:a,isWebStream:l,isTransformStream:u,isWritableStream:c,isReadableStream:d}=sn(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:y}}=Ft(),b=Hn();t.exports=function(...S){if(S.length===0)throw new y("streams");if(S.length===1)return n.from(S[0]);let _=[...S];if(typeof S[0]=="function"&&(S[0]=n.from(S[0])),typeof S[S.length-1]=="function"){let R=S.length-1;S[R]=n.from(S[R])}for(let R=0;R<S.length;++R)if(!(!i(S[R])&&!l(S[R]))){if(R<S.length-1&&!(s(S[R])||d(S[R])||u(S[R])))throw new p(`streams[${R}]`,_[R],"must be readable");if(R>0&&!(a(S[R])||c(S[R])||u(S[R])))throw new p(`streams[${R}]`,_[R],"must be writable")}let m,v,k,T,E;function C(R){let ee=T;T=null,ee?ee(R):R?E.destroy(R):!oe&&!Q&&E.destroy()}let P=S[0],V=r(S,C),Q=!!(a(P)||c(P)||u(P)),oe=!!(s(V)||d(V)||u(V));if(E=new n({writableObjectMode:!!(P!=null&&P.writableObjectMode),readableObjectMode:!!(V!=null&&V.readableObjectMode),writable:Q,readable:oe}),Q){if(i(P))E._write=function(ee,q,$){P.write(ee,q)?$():m=$},E._final=function(ee){P.end(),v=ee},P.on("drain",function(){if(m){let ee=m;m=null,ee()}});else if(l(P)){let ee=(u(P)?P.writable:P).getWriter();E._write=async function(q,$,he){try{await ee.ready,ee.write(q).catch(()=>{}),he()}catch(pe){he(pe)}},E._final=async function(q){try{await ee.ready,ee.close().catch(()=>{}),v=q}catch($){q($)}}}let R=u(V)?V.readable:V;b(R,()=>{if(v){let ee=v;v=null,ee()}})}if(oe){if(i(V))V.on("readable",function(){if(k){let R=k;k=null,R()}}),V.on("end",function(){E.push(null)}),E._read=function(){for(;;){let R=V.read();if(R===null){k=E._read;return}if(!E.push(R))return}};else if(l(V)){let R=(u(V)?V.readable:V).getReader();E._read=async function(){for(;;)try{let{value:ee,done:q}=await R.read();if(!E.push(ee))return;if(q){E.push(null);return}}catch{return}}}}return E._destroy=function(R,ee){!R&&T!==null&&(R=new f),k=null,m=null,v=null,T===null?ee(R):(T=ee,i(V)&&o(V,R))},E}}),JE=be((e,t)=>{ge(),ve(),ye();var r=globalThis.AbortController||gs().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:s},AbortError:a}=Ft(),{validateAbortSignal:l,validateInteger:u,validateObject:c}=xs(),d=st().Symbol("kWeak"),f=st().Symbol("kResistStopPropagation"),{finished:p}=Hn(),y=rv(),{addAbortSignalNoValidate:b}=gl(),{isWritable:S,isNodeStream:_}=sn(),{deprecate:m}=Qt(),{ArrayPrototypePush:v,Boolean:k,MathFloor:T,Number:E,NumberIsNaN:C,Promise:P,PromiseReject:V,PromiseResolve:Q,PromisePrototypeThen:oe,Symbol:R}=st(),ee=R("kEmpty"),q=R("kEof");function $(K,G){if(G!=null&&c(G,"options"),(G==null?void 0:G.signal)!=null&&l(G.signal,"options.signal"),_(K)&&!S(K))throw new n("stream",K,"must be writable");let Y=y(this,K);return G!=null&&G.signal&&b(G.signal,Y),Y}function he(K,G){if(typeof K!="function")throw new o("fn",["Function","AsyncFunction"],K);G!=null&&c(G,"options"),(G==null?void 0:G.signal)!=null&&l(G.signal,"options.signal");let Y=1;(G==null?void 0:G.concurrency)!=null&&(Y=T(G.concurrency));let Z=Y-1;return(G==null?void 0:G.highWaterMark)!=null&&(Z=T(G.highWaterMark)),u(Y,"options.concurrency",1),u(Z,"options.highWaterMark",0),Z+=Y,(async function*(){let ne=Qt().AbortSignalAny([G==null?void 0:G.signal].filter(k)),j=this,B=[],J={signal:ne},ae,ue,ie=!1,z=0;function me(){ie=!0,_e()}function _e(){z-=1,de()}function de(){ue&&!ie&&z<Y&&B.length<Z&&(ue(),ue=null)}async function je(){try{for await(let h of j){if(ie)return;if(ne.aborted)throw new a;try{if(h=K(h,J),h===ee)continue;h=Q(h)}catch(g){h=V(g)}z+=1,oe(h,_e,me),B.push(h),ae&&(ae(),ae=null),!ie&&(B.length>=Z||z>=Y)&&await new P(g=>{ue=g})}B.push(q)}catch(h){let g=V(h);oe(g,_e,me),B.push(g)}finally{ie=!0,ae&&(ae(),ae=null)}}je();try{for(;;){for(;B.length>0;){let h=await B[0];if(h===q)return;if(ne.aborted)throw new a;h!==ee&&(yield h),B.shift(),de()}await new P(h=>{ae=h})}}finally{ie=!0,ue&&(ue(),ue=null)}}).call(this)}function pe(K=void 0){return K!=null&&c(K,"options"),(K==null?void 0:K.signal)!=null&&l(K.signal,"options.signal"),(async function*(){let G=0;for await(let Z of this){var Y;if(K!=null&&(Y=K.signal)!==null&&Y!==void 0&&Y.aborted)throw new a({cause:K.signal.reason});yield[G++,Z]}}).call(this)}async function H(K,G=void 0){for await(let Y of O.call(this,K,G))return!0;return!1}async function fe(K,G=void 0){if(typeof K!="function")throw new o("fn",["Function","AsyncFunction"],K);return!await H.call(this,async(...Y)=>!await K(...Y),G)}async function D(K,G){for await(let Y of O.call(this,K,G))return Y}async function se(K,G){if(typeof K!="function")throw new o("fn",["Function","AsyncFunction"],K);async function Y(Z,ne){return await K(Z,ne),ee}for await(let Z of he.call(this,Y,G));}function O(K,G){if(typeof K!="function")throw new o("fn",["Function","AsyncFunction"],K);async function Y(Z,ne){return await K(Z,ne)?Z:ee}return he.call(this,Y,G)}var ce=class extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function we(K,G,Y){var Z;if(typeof K!="function")throw new o("reducer",["Function","AsyncFunction"],K);Y!=null&&c(Y,"options"),(Y==null?void 0:Y.signal)!=null&&l(Y.signal,"options.signal");let ne=arguments.length>1;if(Y!=null&&(Z=Y.signal)!==null&&Z!==void 0&&Z.aborted){let ue=new a(void 0,{cause:Y.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(ue)),ue}let j=new r,B=j.signal;if(Y!=null&&Y.signal){let ue={once:!0,[d]:this,[f]:!0};Y.signal.addEventListener("abort",()=>j.abort(),ue)}let J=!1;try{for await(let ue of this){var ae;if(J=!0,Y!=null&&(ae=Y.signal)!==null&&ae!==void 0&&ae.aborted)throw new a;ne?G=await K(G,ue,{signal:B}):(G=ue,ne=!0)}if(!J&&!ne)throw new ce}finally{j.abort()}return G}async function W(K){K!=null&&c(K,"options"),(K==null?void 0:K.signal)!=null&&l(K.signal,"options.signal");let G=[];for await(let Z of this){var Y;if(K!=null&&(Y=K.signal)!==null&&Y!==void 0&&Y.aborted)throw new a(void 0,{cause:K.signal.reason});v(G,Z)}return G}function Te(K,G){let Y=he.call(this,K,G);return(async function*(){for await(let Z of Y)yield*Z}).call(this)}function X(K){if(K=E(K),C(K))return 0;if(K<0)throw new s("number",">= 0",K);return K}function U(K,G=void 0){return G!=null&&c(G,"options"),(G==null?void 0:G.signal)!=null&&l(G.signal,"options.signal"),K=X(K),(async function*(){var Y;if(G!=null&&(Y=G.signal)!==null&&Y!==void 0&&Y.aborted)throw new a;for await(let ne of this){var Z;if(G!=null&&(Z=G.signal)!==null&&Z!==void 0&&Z.aborted)throw new a;K--<=0&&(yield ne)}}).call(this)}function le(K,G=void 0){return G!=null&&c(G,"options"),(G==null?void 0:G.signal)!=null&&l(G.signal,"options.signal"),K=X(K),(async function*(){var Y;if(G!=null&&(Y=G.signal)!==null&&Y!==void 0&&Y.aborted)throw new a;for await(let ne of this){var Z;if(G!=null&&(Z=G.signal)!==null&&Z!==void 0&&Z.aborted)throw new a;if(K-- >0&&(yield ne),K<=0)return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:m(pe,"readable.asIndexedPairs will be removed in a future version."),drop:U,filter:O,flatMap:Te,map:he,take:le,compose:$},t.exports.promiseReturningOperators={every:fe,forEach:se,reduce:we,toArray:W,some:H,find:D}}),nv=be((e,t)=>{ge(),ve(),ye();var{ArrayPrototypePop:r,Promise:n}=st(),{isIterable:o,isNodeStream:i,isWebStream:s}=sn(),{pipelineImpl:a}=zf(),{finished:l}=Hn();iv();function u(...c){return new n((d,f)=>{let p,y,b=c[c.length-1];if(b&&typeof b=="object"&&!i(b)&&!o(b)&&!s(b)){let S=r(c);p=S.signal,y=S.end}a(c,(S,_)=>{S?f(S):d(_)},{signal:p,end:y})})}t.exports={finished:l,pipeline:u}}),iv=be((e,t)=>{ge(),ve(),ye();var{Buffer:r}=(bt(),He(wt)),{ObjectDefineProperty:n,ObjectKeys:o,ReflectApply:i}=st(),{promisify:{custom:s}}=Qt(),{streamReturningOperators:a,promiseReturningOperators:l}=JE(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Ft(),c=rv(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:f}=yl(),{pipeline:p}=zf(),{destroyer:y}=vo(),b=Hn(),S=nv(),_=sn(),m=t.exports=$f().Stream;m.isDestroyed=_.isDestroyed,m.isDisturbed=_.isDisturbed,m.isErrored=_.isErrored,m.isReadable=_.isReadable,m.isWritable=_.isWritable,m.Readable=vl();for(let k of o(a)){let T=function(...C){if(new.target)throw u();return m.Readable.from(i(E,this,C))},E=a[k];n(T,"name",{__proto__:null,value:E.name}),n(T,"length",{__proto__:null,value:E.length}),n(m.Readable.prototype,k,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}for(let k of o(l)){let T=function(...C){if(new.target)throw u();return i(E,this,C)},E=l[k];n(T,"name",{__proto__:null,value:E.name}),n(T,"length",{__proto__:null,value:E.length}),n(m.Readable.prototype,k,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}m.Writable=Wf(),m.Duplex=rn(),m.Transform=ev(),m.PassThrough=tv(),m.pipeline=p;var{addAbortSignal:v}=gl();m.addAbortSignal=v,m.finished=b,m.destroy=y,m.compose=c,m.setDefaultHighWaterMark=d,m.getDefaultHighWaterMark=f,n(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return S}}),n(p,s,{__proto__:null,enumerable:!0,get(){return S.pipeline}}),n(b,s,{__proto__:null,enumerable:!0,get(){return S.finished}}),m.Stream=m,m._isUint8Array=function(k){return k instanceof Uint8Array},m._uint8ArrayToBuffer=function(k){return r.from(k.buffer,k.byteOffset,k.byteLength)}}),ki=be((e,t)=>{ge(),ve(),ye();var r=iv(),n=nv(),o=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=o,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=r.Stream,t.exports.default=t.exports}),ZE=be((e,t)=>{ge(),ve(),ye(),typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r}}}),ex=be((e,t)=>{ge(),ve(),ye();var{Buffer:r}=(bt(),He(wt)),n=Symbol.for("BufferList");function o(i){if(!(this instanceof o))return new o(i);o._init.call(this,i)}o._init=function(i){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,i&&this.append(i)},o.prototype._new=function(i){return new o(i)},o.prototype._offset=function(i){if(i===0)return[0,0];let s=0;for(let a=0;a<this._bufs.length;a++){let l=s+this._bufs[a].length;if(i<l||a===this._bufs.length-1)return[a,i-s];s=l}},o.prototype._reverseOffset=function(i){let s=i[0],a=i[1];for(let l=0;l<s;l++)a+=this._bufs[l].length;return a},o.prototype.get=function(i){if(i>this.length||i<0)return;let s=this._offset(i);return this._bufs[s[0]][s[1]]},o.prototype.slice=function(i,s){return typeof i=="number"&&i<0&&(i+=this.length),typeof s=="number"&&s<0&&(s+=this.length),this.copy(null,0,i,s)},o.prototype.copy=function(i,s,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return i||r.alloc(0);let u=!!i,c=this._offset(a),d=l-a,f=d,p=u&&s||0,y=c[1];if(a===0&&l===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:r.concat(this._bufs,this.length);for(let b=0;b<this._bufs.length;b++)this._bufs[b].copy(i,p),p+=this._bufs[b].length;return i}if(f<=this._bufs[c[0]].length-y)return u?this._bufs[c[0]].copy(i,s,y,y+f):this._bufs[c[0]].slice(y,y+f);u||(i=r.allocUnsafe(d));for(let b=c[0];b<this._bufs.length;b++){let S=this._bufs[b].length-y;if(f>S)this._bufs[b].copy(i,p,y),p+=S;else{this._bufs[b].copy(i,p,y,y+f),p+=S;break}f-=S,y&&(y=0)}return i.length>p?i.slice(0,p):i},o.prototype.shallowSlice=function(i,s){if(i=i||0,s=typeof s!="number"?this.length:s,i<0&&(i+=this.length),s<0&&(s+=this.length),i===s)return this._new();let a=this._offset(i),l=this._offset(s),u=this._bufs.slice(a[0],l[0]+1);return l[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,l[1]),a[1]!==0&&(u[0]=u[0].slice(a[1])),this._new(u)},o.prototype.toString=function(i,s,a){return this.slice(s,a).toString(i)},o.prototype.consume=function(i){if(i=Math.trunc(i),Number.isNaN(i)||i<=0)return this;for(;this._bufs.length;)if(i>=this._bufs[0].length)i-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(i),this.length-=i;break}return this},o.prototype.duplicate=function(){let i=this._new();for(let s=0;s<this._bufs.length;s++)i.append(this._bufs[s]);return i},o.prototype.append=function(i){if(i==null)return this;if(i.buffer)this._appendBuffer(r.from(i.buffer,i.byteOffset,i.byteLength));else if(Array.isArray(i))for(let s=0;s<i.length;s++)this.append(i[s]);else if(this._isBufferList(i))for(let s=0;s<i._bufs.length;s++)this.append(i._bufs[s]);else typeof i=="number"&&(i=i.toString()),this._appendBuffer(r.from(i));return this},o.prototype._appendBuffer=function(i){this._bufs.push(i),this.length+=i.length},o.prototype.indexOf=function(i,s,a){if(a===void 0&&typeof s=="string"&&(a=s,s=void 0),typeof i=="function"||Array.isArray(i))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof i=="number"?i=r.from([i]):typeof i=="string"?i=r.from(i,a):this._isBufferList(i)?i=i.slice():Array.isArray(i.buffer)?i=r.from(i.buffer,i.byteOffset,i.byteLength):r.isBuffer(i)||(i=r.from(i)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),i.length===0)return s>this.length?this.length:s;let l=this._offset(s),u=l[0],c=l[1];for(;u<this._bufs.length;u++){let d=this._bufs[u];for(;c<d.length;)if(d.length-c>=i.length){let f=d.indexOf(i,c);if(f!==-1)return this._reverseOffset([u,f]);c=d.length-i.length+1}else{let f=this._reverseOffset([u,c]);if(this._match(f,i))return f;c++}c=0}return-1},o.prototype._match=function(i,s){if(this.length-i<s.length)return!1;for(let a=0;a<s.length;a++)if(this.get(i+a)!==s[a])return!1;return!0},function(){let i={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let s in i)(function(a){i[a]===null?o.prototype[a]=function(l,u){return this.slice(l,l+u)[a](0,u)}:o.prototype[a]=function(l=0){return this.slice(l,l+i[a])[a](0)}})(s)}(),o.prototype._isBufferList=function(i){return i instanceof o||o.isBufferList(i)},o.isBufferList=function(i){return i!=null&&i[n]},t.exports=o}),tx=be((e,t)=>{ge(),ve(),ye();var r=ki().Duplex,n=ZE(),o=ex();function i(s){if(!(this instanceof i))return new i(s);if(typeof s=="function"){this._callback=s;let a=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),s=null}o._init.call(this,s),r.call(this)}n(i,r),Object.assign(i.prototype,o.prototype),i.prototype._new=function(s){return new i(s)},i.prototype._write=function(s,a,l){this._appendBuffer(s),typeof l=="function"&&l()},i.prototype._read=function(s){if(!this.length)return this.push(null);s=Math.min(s,this.length),this.push(this.slice(0,s)),this.consume(s)},i.prototype.end=function(s){r.prototype.end.call(this,s),this._callback&&(this._callback(null,this.slice()),this._callback=null)},i.prototype._destroy=function(s,a){this._bufs.length=0,this.length=0,a(s)},i.prototype._isBufferList=function(s){return s instanceof i||s instanceof o||i.isBufferList(s)},i.isBufferList=o.isBufferList,t.exports=i,t.exports.BufferListStream=i,t.exports.BufferList=o}),rx=be((e,t)=>{ge(),ve(),ye();var r=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=r}),ov=be((e,t)=>{ge(),ve(),ye();var r=t.exports,{Buffer:n}=(bt(),He(wt));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let i in r.requiredHeaderFlags){let s=r.requiredHeaderFlags[i];r.requiredHeaderFlagsErrors[i]="Invalid header flag bits, must be 0x"+s.toString(16)+" for "+r.types[i]+" packet"}r.codes={};for(let i in r.types){let s=r.types[i];r.codes[s]=i}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=n.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=n.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=n.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let i in r.properties){let s=r.properties[i];r.propertiesCodes[s]=i}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function o(i){return[0,1,2].map(s=>[0,1].map(a=>[0,1].map(l=>{let u=n.alloc(1);return u.writeUInt8(r.codes[i]<<r.CMD_SHIFT|(a?r.DUP_MASK:0)|s<<r.QOS_SHIFT|l,0,!0),u})))}r.PUBLISH_HEADER=o("publish"),r.SUBSCRIBE_HEADER=o("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=o("unsubscribe"),r.ACKS={unsuback:o("unsuback"),puback:o("puback"),pubcomp:o("pubcomp"),pubrel:o("pubrel"),pubrec:o("pubrec")},r.SUBACK_HEADER=n.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=n.from([3]),r.VERSION4=n.from([4]),r.VERSION5=n.from([5]),r.VERSION131=n.from([131]),r.VERSION132=n.from([132]),r.QOS=[0,1,2].map(i=>n.from([i])),r.EMPTY={pingreq:n.from([r.codes.pingreq<<4,0]),pingresp:n.from([r.codes.pingresp<<4,0]),disconnect:n.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),nx=be((e,t)=>{ge(),ve(),ye();var r=1e3,n=r*60,o=n*60,i=o*24,s=i*7,a=i*365.25;t.exports=function(f,p){p=p||{};var y=typeof f;if(y==="string"&&f.length>0)return l(f);if(y==="number"&&isFinite(f))return p.long?c(f):u(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function l(f){if(f=String(f),!(f.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(p){var y=parseFloat(p[1]),b=(p[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return y*a;case"weeks":case"week":case"w":return y*s;case"days":case"day":case"d":return y*i;case"hours":case"hour":case"hrs":case"hr":case"h":return y*o;case"minutes":case"minute":case"mins":case"min":case"m":return y*n;case"seconds":case"second":case"secs":case"sec":case"s":return y*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function u(f){var p=Math.abs(f);return p>=i?Math.round(f/i)+"d":p>=o?Math.round(f/o)+"h":p>=n?Math.round(f/n)+"m":p>=r?Math.round(f/r)+"s":f+"ms"}function c(f){var p=Math.abs(f);return p>=i?d(f,p,i,"day"):p>=o?d(f,p,o,"hour"):p>=n?d(f,p,n,"minute"):p>=r?d(f,p,r,"second"):f+" ms"}function d(f,p,y,b){var S=p>=y*1.5;return Math.round(f/y)+" "+b+(S?"s":"")}}),ix=be((e,t)=>{ge(),ve(),ye();function r(n){i.debug=i,i.default=i,i.coerce=d,i.disable=u,i.enable=a,i.enabled=c,i.humanize=nx(),i.destroy=f,Object.keys(n).forEach(p=>{i[p]=n[p]}),i.names=[],i.skips=[],i.formatters={};function o(p){let y=0;for(let b=0;b<p.length;b++)y=(y<<5)-y+p.charCodeAt(b),y|=0;return i.colors[Math.abs(y)%i.colors.length]}i.selectColor=o;function i(p){let y,b=null,S,_;function m(...v){if(!m.enabled)return;let k=m,T=Number(new Date),E=T-(y||T);k.diff=E,k.prev=y,k.curr=T,y=T,v[0]=i.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let C=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(P,V)=>{if(P==="%%")return"%";C++;let Q=i.formatters[V];if(typeof Q=="function"){let oe=v[C];P=Q.call(k,oe),v.splice(C,1),C--}return P}),i.formatArgs.call(k,v),(k.log||i.log).apply(k,v)}return m.namespace=p,m.useColors=i.useColors(),m.color=i.selectColor(p),m.extend=s,m.destroy=i.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>b!==null?b:(S!==i.namespaces&&(S=i.namespaces,_=i.enabled(p)),_),set:v=>{b=v}}),typeof i.init=="function"&&i.init(m),m}function s(p,y){let b=i(this.namespace+(typeof y>"u"?":":y)+p);return b.log=this.log,b}function a(p){i.save(p),i.namespaces=p,i.names=[],i.skips=[];let y=(typeof p=="string"?p:"").trim().replace(" ",",").split(",").filter(Boolean);for(let b of y)b[0]==="-"?i.skips.push(b.slice(1)):i.names.push(b)}function l(p,y){let b=0,S=0,_=-1,m=0;for(;b<p.length;)if(S<y.length&&(y[S]===p[b]||y[S]==="*"))y[S]==="*"?(_=S,m=b,S++):(b++,S++);else if(_!==-1)S=_+1,m++,b=m;else return!1;for(;S<y.length&&y[S]==="*";)S++;return S===y.length}function u(){let p=[...i.names,...i.skips.map(y=>"-"+y)].join(",");return i.enable(""),p}function c(p){for(let y of i.skips)if(l(p,y))return!1;for(let y of i.names)if(l(p,y))return!0;return!1}function d(p){return p instanceof Error?p.stack||p.message:p}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}t.exports=r}),nn=be((e,t)=>{ge(),ve(),ye(),e.formatArgs=n,e.save=o,e.load=i,e.useColors=r,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,d=0;l[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(c++,f==="%c"&&(d=c))}),l.splice(d,0,u)}e.log=console.debug||console.log||(()=>{});function o(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function i(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof $e<"u"&&"env"in $e&&(l=$e.env.DEBUG),l}function s(){try{return localStorage}catch{}}t.exports=ix()(e);var{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),ox=be((e,t)=>{ge(),ve(),ye();var r=tx(),{EventEmitter:n}=(Ei(),He(Vn)),o=rx(),i=ov(),s=nn()("mqtt-packet:parser"),a=class wd extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof wd?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new wd().parser(u)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=r(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0),c=u>>i.CMD_SHIFT;this.packet.cmd=i.types[c];let d=u&15,f=i.requiredHeaderFlags[c];return f!=null&&d!==f?this._emitError(new Error(i.requiredHeaderFlagsErrors[c])):(this.packet.retain=(u&i.RETAIN_MASK)!==0,this.packet.qos=u>>i.QOS_SHIFT&i.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(u&i.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),s("_parseLength %d",u.value),!!u}_parsePayload(){s("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return s("_parsePayload complete result: %s",u),u}_parseConnect(){s("_parseConnect");let u,c,d,f,p={},y=this.packet,b=this._parseString();if(b===null)return this._emitError(new Error("Cannot parse protocolId"));if(b!=="MQTT"&&b!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(y.protocolId=b,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(y.protocolVersion=this._list.readUInt8(this._pos),y.protocolVersion>=128&&(y.bridgeMode=!0,y.protocolVersion=y.protocolVersion-128),y.protocolVersion!==3&&y.protocolVersion!==4&&y.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));p.username=this._list.readUInt8(this._pos)&i.USERNAME_MASK,p.password=this._list.readUInt8(this._pos)&i.PASSWORD_MASK,p.will=this._list.readUInt8(this._pos)&i.WILL_FLAG_MASK;let S=!!(this._list.readUInt8(this._pos)&i.WILL_RETAIN_MASK),_=(this._list.readUInt8(this._pos)&i.WILL_QOS_MASK)>>i.WILL_QOS_SHIFT;if(p.will)y.will={},y.will.retain=S,y.will.qos=_;else{if(S)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(_)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(y.clean=(this._list.readUInt8(this._pos)&i.CLEAN_SESSION_MASK)!==0,this._pos++,y.keepalive=this._parseNum(),y.keepalive===-1)return this._emitError(new Error("Packet too short"));if(y.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(y.properties=v)}let m=this._parseString();if(m===null)return this._emitError(new Error("Packet too short"));if(y.clientId=m,s("_parseConnect: packet.clientId: %s",y.clientId),p.will){if(y.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(y.will.properties=v)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(y.will.topic=u,s("_parseConnect: packet.will.topic: %s",y.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));y.will.payload=c,s("_parseConnect: packet.will.paylaod: %s",y.will.payload)}if(p.username){if(f=this._parseString(),f===null)return this._emitError(new Error("Cannot parse username"));y.username=f,s("_parseConnect: packet.username: %s",y.username)}if(p.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));y.password=d}return this.settings=y,s("_parseConnect: complete"),y}_parseConnack(){s("_parseConnack");let u=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(u.sessionPresent=!!(c&i.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(u.properties=d)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}u.payload=this._list.slice(this._pos,u.length),s("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){s("_parseSubscribe");let u=this.packet,c,d,f,p,y,b,S;if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(u.properties=_)}if(u.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<u.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(f=d&i.SUBSCRIBE_OPTIONS_QOS_MASK,f>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(b=(d>>i.SUBSCRIBE_OPTIONS_NL_SHIFT&i.SUBSCRIBE_OPTIONS_NL_MASK)!==0,y=(d>>i.SUBSCRIBE_OPTIONS_RAP_SHIFT&i.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,p=d>>i.SUBSCRIBE_OPTIONS_RH_SHIFT&i.SUBSCRIBE_OPTIONS_RH_MASK,p>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));S={topic:c,qos:f},this.settings.protocolVersion===5?(S.nl=b,S.rap=y,S.rh=p):this.settings.bridgeMode&&(S.rh=0,S.rap=!0,S.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",S),u.subscriptions.push(S)}}}_parseSuback(){s("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!i.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<u.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),u.unsubscriptions.push(c)}}}_parseUnsuback(){s("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&u.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(u.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(u.properties=c),u.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!i.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(u.length>2){switch(u.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!i.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!i.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)}else u.reasonCode=0;if(u.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}}return!0}_parseDisconnect(){let u=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(u.reasonCode=this._parseByte(),i.MQTT5_DISCONNECT_CODES[u.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):u.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(u.reasonCode=this._parseByte(),!i.MQTT5_AUTH_CODES[u.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(u.properties=c),s("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let c=this._parseNum(),d=c+this._pos;if(c===-1||d>this._list.length||d>this.packet.length)return null;let f=this._list.toString("utf8",this._pos,d);return this._pos+=c,s("_parseString: result: %s",f),f}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),c=u+this._pos;if(u===-1||c>this._list.length||c>this.packet.length)return null;let d=this._list.slice(this._pos,c);return this._pos+=u,s("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){s("_parseVarByteNum");let c=4,d=0,f=1,p=0,y=!1,b,S=this._pos?this._pos:0;for(;d<c&&S+d<this._list.length;){if(b=this._list.readUInt8(S+d++),p+=f*(b&i.VARBYTEINT_MASK),f*=128,!(b&i.VARBYTEINT_FIN_MASK)){y=!0;break}if(this._list.length<=d)break}return!y&&d===c&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),S&&(this._pos+=d),y?u?y={bytes:d,value:p}:y=p:y=!1,s("_parseVarByteNum: result: %o",y),y}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",u),u}_parseByType(u){switch(s("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let u=this._parseVarByteNum(),c=this._pos+u,d={};for(;this._pos<c;){let f=this._parseByte();if(!f)return this._emitError(new Error("Cannot parse property code type")),!1;let p=i.propertiesCodes[f];if(!p)return this._emitError(new Error("Unknown property")),!1;if(p==="userProperties"){d[p]||(d[p]=Object.create(null));let y=this._parseByType(i.propertiesTypes[p]);if(d[p][y.name])if(Array.isArray(d[p][y.name]))d[p][y.name].push(y.value);else{let b=d[p][y.name];d[p][y.name]=[b],d[p][y.name].push(y.value)}else d[p][y.name]=y.value;continue}d[p]?Array.isArray(d[p])?d[p].push(this._parseByType(i.propertiesTypes[p])):(d[p]=[d[p]],d[p].push(this._parseByType(i.propertiesTypes[p]))):d[p]=this._parseByType(i.propertiesTypes[p])}return d}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}_emitError(u){s("_emitError",u),this.error=u,this.emit("error",u)}};t.exports=a}),sx=be((e,t)=>{ge(),ve(),ye();var{Buffer:r}=(bt(),He(wt)),n=65536,o={},i=r.isBuffer(r.from([1,2]).subarray(0,1));function s(c){let d=r.allocUnsafe(2);return d.writeUInt8(c>>8,0),d.writeUInt8(c&255,1),d}function a(){for(let c=0;c<n;c++)o[c]=s(c)}function l(c){let d=0,f=0,p=r.allocUnsafe(4);do d=c%128|0,c=c/128|0,c>0&&(d=d|128),p.writeUInt8(d,f++);while(c>0&&f<4);return c>0&&(f=0),i?p.subarray(0,f):p.slice(0,f)}function u(c){let d=r.allocUnsafe(4);return d.writeUInt32BE(c,0),d}t.exports={cache:o,generateCache:a,generateNumber:s,genBufVariableByteInt:l,generate4ByteBuffer:u}}),ax=be((e,t)=>{ge(),ve(),ye(),typeof $e>"u"||!$e.version||$e.version.indexOf("v0.")===0||$e.version.indexOf("v1.")===0&&$e.version.indexOf("v1.8.")!==0?t.exports={nextTick:r}:t.exports=$e;function r(n,o,i,s){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,u;switch(a){case 0:case 1:return $e.nextTick(n);case 2:return $e.nextTick(function(){n.call(null,o)});case 3:return $e.nextTick(function(){n.call(null,o,i)});case 4:return $e.nextTick(function(){n.call(null,o,i,s)});default:for(l=new Array(a-1),u=0;u<l.length;)l[u++]=arguments[u];return $e.nextTick(function(){n.apply(null,l)})}}}),sv=be((e,t)=>{ge(),ve(),ye();var r=ov(),{Buffer:n}=(bt(),He(wt)),o=n.allocUnsafe(0),i=n.from([0]),s=sx(),a=ax().nextTick,l=nn()("mqtt-packet:writeToStream"),u=s.cache,c=s.generateNumber,d=s.generateCache,f=s.genBufVariableByteInt,p=s.generate4ByteBuffer,y=pe,b=!0;function S(X,U,le){switch(l("generate called"),U.cork&&(U.cork(),a(_,U)),b&&(b=!1,d()),l("generate: packet.cmd: %s",X.cmd),X.cmd){case"connect":return m(X,U);case"connack":return v(X,U,le);case"publish":return k(X,U,le);case"puback":case"pubrec":case"pubrel":case"pubcomp":return T(X,U,le);case"subscribe":return E(X,U,le);case"suback":return C(X,U,le);case"unsubscribe":return P(X,U,le);case"unsuback":return V(X,U,le);case"pingreq":case"pingresp":return Q(X,U);case"disconnect":return oe(X,U,le);case"auth":return R(X,U,le);default:return U.destroy(new Error("Unknown command")),!1}}Object.defineProperty(S,"cacheNumbers",{get(){return y===pe},set(X){X?((!u||Object.keys(u).length===0)&&(b=!0),y=pe):(b=!1,y=H)}});function _(X){X.uncork()}function m(X,U,le){let K=X||{},G=K.protocolId||"MQTT",Y=K.protocolVersion||4,Z=K.will,ne=K.clean,j=K.keepalive||0,B=K.clientId||"",J=K.username,ae=K.password,ue=K.properties;ne===void 0&&(ne=!0);let ie=0;if(!G||typeof G!="string"&&!n.isBuffer(G))return U.destroy(new Error("Invalid protocolId")),!1;if(ie+=G.length+2,Y!==3&&Y!==4&&Y!==5)return U.destroy(new Error("Invalid protocol version")),!1;if(ie+=1,(typeof B=="string"||n.isBuffer(B))&&(B||Y>=4)&&(B||ne))ie+=n.byteLength(B)+2;else{if(Y<4)return U.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(ne*1===0)return U.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof j!="number"||j<0||j>65535||j%1!==0)return U.destroy(new Error("Invalid keepalive")),!1;ie+=2,ie+=1;let z,me;if(Y===5){if(z=se(U,ue),!z)return!1;ie+=z.length}if(Z){if(typeof Z!="object")return U.destroy(new Error("Invalid will")),!1;if(!Z.topic||typeof Z.topic!="string")return U.destroy(new Error("Invalid will topic")),!1;if(ie+=n.byteLength(Z.topic)+2,ie+=2,Z.payload)if(Z.payload.length>=0)typeof Z.payload=="string"?ie+=n.byteLength(Z.payload):ie+=Z.payload.length;else return U.destroy(new Error("Invalid will payload")),!1;if(me={},Y===5){if(me=se(U,Z.properties),!me)return!1;ie+=me.length}}let _e=!1;if(J!=null)if(Te(J))_e=!0,ie+=n.byteLength(J)+2;else return U.destroy(new Error("Invalid username")),!1;if(ae!=null){if(!_e)return U.destroy(new Error("Username is required to use password")),!1;if(Te(ae))ie+=W(ae)+2;else return U.destroy(new Error("Invalid password")),!1}U.write(r.CONNECT_HEADER),q(U,ie),D(U,G),K.bridgeMode&&(Y+=128),U.write(Y===131?r.VERSION131:Y===132?r.VERSION132:Y===4?r.VERSION4:Y===5?r.VERSION5:r.VERSION3);let de=0;return de|=J!=null?r.USERNAME_MASK:0,de|=ae!=null?r.PASSWORD_MASK:0,de|=Z&&Z.retain?r.WILL_RETAIN_MASK:0,de|=Z&&Z.qos?Z.qos<<r.WILL_QOS_SHIFT:0,de|=Z?r.WILL_FLAG_MASK:0,de|=ne?r.CLEAN_SESSION_MASK:0,U.write(n.from([de])),y(U,j),Y===5&&z.write(),D(U,B),Z&&(Y===5&&me.write(),$(U,Z.topic),D(U,Z.payload)),J!=null&&D(U,J),ae!=null&&D(U,ae),!0}function v(X,U,le){let K=le?le.protocolVersion:4,G=X||{},Y=K===5?G.reasonCode:G.returnCode,Z=G.properties,ne=2;if(typeof Y!="number")return U.destroy(new Error("Invalid return code")),!1;let j=null;if(K===5){if(j=se(U,Z),!j)return!1;ne+=j.length}return U.write(r.CONNACK_HEADER),q(U,ne),U.write(G.sessionPresent?r.SESSIONPRESENT_HEADER:i),U.write(n.from([Y])),j==null||j.write(),!0}function k(X,U,le){l("publish: packet: %o",X);let K=le?le.protocolVersion:4,G=X||{},Y=G.qos||0,Z=G.retain?r.RETAIN_MASK:0,ne=G.topic,j=G.payload||o,B=G.messageId,J=G.properties,ae=0;if(typeof ne=="string")ae+=n.byteLength(ne)+2;else if(n.isBuffer(ne))ae+=ne.length+2;else return U.destroy(new Error("Invalid topic")),!1;if(n.isBuffer(j)?ae+=j.length:ae+=n.byteLength(j),Y&&typeof B!="number")return U.destroy(new Error("Invalid messageId")),!1;Y&&(ae+=2);let ue=null;if(K===5){if(ue=se(U,J),!ue)return!1;ae+=ue.length}return U.write(r.PUBLISH_HEADER[Y][G.dup?1:0][Z?1:0]),q(U,ae),y(U,W(ne)),U.write(ne),Y>0&&y(U,B),ue==null||ue.write(),l("publish: payload: %o",j),U.write(j)}function T(X,U,le){let K=le?le.protocolVersion:4,G=X||{},Y=G.cmd||"puback",Z=G.messageId,ne=G.dup&&Y==="pubrel"?r.DUP_MASK:0,j=0,B=G.reasonCode,J=G.properties,ae=K===5?3:2;if(Y==="pubrel"&&(j=1),typeof Z!="number")return U.destroy(new Error("Invalid messageId")),!1;let ue=null;if(K===5&&typeof J=="object"){if(ue=O(U,J,le,ae),!ue)return!1;ae+=ue.length}return U.write(r.ACKS[Y][j][ne][0]),ae===3&&(ae+=B!==0?1:-1),q(U,ae),y(U,Z),K===5&&ae!==2&&U.write(n.from([B])),ue!==null?ue.write():ae===4&&U.write(n.from([0])),!0}function E(X,U,le){l("subscribe: packet: ");let K=le?le.protocolVersion:4,G=X||{},Y=G.dup?r.DUP_MASK:0,Z=G.messageId,ne=G.subscriptions,j=G.properties,B=0;if(typeof Z!="number")return U.destroy(new Error("Invalid messageId")),!1;B+=2;let J=null;if(K===5){if(J=se(U,j),!J)return!1;B+=J.length}if(typeof ne=="object"&&ne.length)for(let ue=0;ue<ne.length;ue+=1){let ie=ne[ue].topic,z=ne[ue].qos;if(typeof ie!="string")return U.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof z!="number")return U.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(K===5){if(typeof(ne[ue].nl||!1)!="boolean")return U.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(ne[ue].rap||!1)!="boolean")return U.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let me=ne[ue].rh||0;if(typeof me!="number"||me>2)return U.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}B+=n.byteLength(ie)+2+1}else return U.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),U.write(r.SUBSCRIBE_HEADER[1][Y?1:0][0]),q(U,B),y(U,Z),J!==null&&J.write();let ae=!0;for(let ue of ne){let ie=ue.topic,z=ue.qos,me=+ue.nl,_e=+ue.rap,de=ue.rh,je;$(U,ie),je=r.SUBSCRIBE_OPTIONS_QOS[z],K===5&&(je|=me?r.SUBSCRIBE_OPTIONS_NL:0,je|=_e?r.SUBSCRIBE_OPTIONS_RAP:0,je|=de?r.SUBSCRIBE_OPTIONS_RH[de]:0),ae=U.write(n.from([je]))}return ae}function C(X,U,le){let K=le?le.protocolVersion:4,G=X||{},Y=G.messageId,Z=G.granted,ne=G.properties,j=0;if(typeof Y!="number")return U.destroy(new Error("Invalid messageId")),!1;if(j+=2,typeof Z=="object"&&Z.length)for(let J=0;J<Z.length;J+=1){if(typeof Z[J]!="number")return U.destroy(new Error("Invalid qos vector")),!1;j+=1}else return U.destroy(new Error("Invalid qos vector")),!1;let B=null;if(K===5){if(B=O(U,ne,le,j),!B)return!1;j+=B.length}return U.write(r.SUBACK_HEADER),q(U,j),y(U,Y),B!==null&&B.write(),U.write(n.from(Z))}function P(X,U,le){let K=le?le.protocolVersion:4,G=X||{},Y=G.messageId,Z=G.dup?r.DUP_MASK:0,ne=G.unsubscriptions,j=G.properties,B=0;if(typeof Y!="number")return U.destroy(new Error("Invalid messageId")),!1;if(B+=2,typeof ne=="object"&&ne.length)for(let ue=0;ue<ne.length;ue+=1){if(typeof ne[ue]!="string")return U.destroy(new Error("Invalid unsubscriptions")),!1;B+=n.byteLength(ne[ue])+2}else return U.destroy(new Error("Invalid unsubscriptions")),!1;let J=null;if(K===5){if(J=se(U,j),!J)return!1;B+=J.length}U.write(r.UNSUBSCRIBE_HEADER[1][Z?1:0][0]),q(U,B),y(U,Y),J!==null&&J.write();let ae=!0;for(let ue=0;ue<ne.length;ue++)ae=$(U,ne[ue]);return ae}function V(X,U,le){let K=le?le.protocolVersion:4,G=X||{},Y=G.messageId,Z=G.dup?r.DUP_MASK:0,ne=G.granted,j=G.properties,B=G.cmd,J=0,ae=2;if(typeof Y!="number")return U.destroy(new Error("Invalid messageId")),!1;if(K===5)if(typeof ne=="object"&&ne.length)for(let ie=0;ie<ne.length;ie+=1){if(typeof ne[ie]!="number")return U.destroy(new Error("Invalid qos vector")),!1;ae+=1}else return U.destroy(new Error("Invalid qos vector")),!1;let ue=null;if(K===5){if(ue=O(U,j,le,ae),!ue)return!1;ae+=ue.length}return U.write(r.ACKS[B][J][Z][0]),q(U,ae),y(U,Y),ue!==null&&ue.write(),K===5&&U.write(n.from(ne)),!0}function Q(X,U,le){return U.write(r.EMPTY[X.cmd])}function oe(X,U,le){let K=le?le.protocolVersion:4,G=X||{},Y=G.reasonCode,Z=G.properties,ne=K===5?1:0,j=null;if(K===5){if(j=O(U,Z,le,ne),!j)return!1;ne+=j.length}return U.write(n.from([r.codes.disconnect<<4])),q(U,ne),K===5&&U.write(n.from([Y])),j!==null&&j.write(),!0}function R(X,U,le){let K=le?le.protocolVersion:4,G=X||{},Y=G.reasonCode,Z=G.properties,ne=K===5?1:0;K!==5&&U.destroy(new Error("Invalid mqtt version for auth packet"));let j=O(U,Z,le,ne);return j?(ne+=j.length,U.write(n.from([r.codes.auth<<4])),q(U,ne),U.write(n.from([Y])),j!==null&&j.write(),!0):!1}var ee={};function q(X,U){if(U>r.VARBYTEINT_MAX)return X.destroy(new Error(`Invalid variable byte integer: ${U}`)),!1;let le=ee[U];return le||(le=f(U),U<16384&&(ee[U]=le)),l("writeVarByteInt: writing to stream: %o",le),X.write(le)}function $(X,U){let le=n.byteLength(U);return y(X,le),l("writeString: %s",U),X.write(U,"utf8")}function he(X,U,le){$(X,U),$(X,le)}function pe(X,U){return l("writeNumberCached: number: %d",U),l("writeNumberCached: %o",u[U]),X.write(u[U])}function H(X,U){let le=c(U);return l("writeNumberGenerated: %o",le),X.write(le)}function fe(X,U){let le=p(U);return l("write4ByteNumber: %o",le),X.write(le)}function D(X,U){typeof U=="string"?$(X,U):U?(y(X,U.length),X.write(U)):y(X,0)}function se(X,U){if(typeof U!="object"||U.length!=null)return{length:1,write(){we(X,{},0)}};let le=0;function K(G,Y){let Z=r.propertiesTypes[G],ne=0;switch(Z){case"byte":{if(typeof Y!="boolean")return X.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;ne+=2;break}case"int8":{if(typeof Y!="number"||Y<0||Y>255)return X.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;ne+=2;break}case"binary":{if(Y&&Y===null)return X.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;ne+=1+n.byteLength(Y)+2;break}case"int16":{if(typeof Y!="number"||Y<0||Y>65535)return X.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;ne+=3;break}case"int32":{if(typeof Y!="number"||Y<0||Y>4294967295)return X.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;ne+=5;break}case"var":{if(typeof Y!="number"||Y<0||Y>268435455)return X.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;ne+=1+n.byteLength(f(Y));break}case"string":{if(typeof Y!="string")return X.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;ne+=3+n.byteLength(Y.toString());break}case"pair":{if(typeof Y!="object")return X.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;ne+=Object.getOwnPropertyNames(Y).reduce((j,B)=>{let J=Y[B];return Array.isArray(J)?j+=J.reduce((ae,ue)=>(ae+=3+n.byteLength(B.toString())+2+n.byteLength(ue.toString()),ae),0):j+=3+n.byteLength(B.toString())+2+n.byteLength(Y[B].toString()),j},0);break}default:return X.destroy(new Error(`Invalid property ${G}: ${Y}`)),!1}return ne}if(U)for(let G in U){let Y=0,Z=0,ne=U[G];if(Array.isArray(ne))for(let j=0;j<ne.length;j++){if(Z=K(G,ne[j]),!Z)return!1;Y+=Z}else{if(Z=K(G,ne),!Z)return!1;Y=Z}if(!Y)return!1;le+=Y}return{length:n.byteLength(f(le))+le,write(){we(X,U,le)}}}function O(X,U,le,K){let G=["reasonString","userProperties"],Y=le&&le.properties&&le.properties.maximumPacketSize?le.properties.maximumPacketSize:0,Z=se(X,U);if(Y)for(;K+Z.length>Y;){let ne=G.shift();if(ne&&U[ne])delete U[ne],Z=se(X,U);else return!1}return Z}function ce(X,U,le){switch(r.propertiesTypes[U]){case"byte":{X.write(n.from([r.properties[U]])),X.write(n.from([+le]));break}case"int8":{X.write(n.from([r.properties[U]])),X.write(n.from([le]));break}case"binary":{X.write(n.from([r.properties[U]])),D(X,le);break}case"int16":{X.write(n.from([r.properties[U]])),y(X,le);break}case"int32":{X.write(n.from([r.properties[U]])),fe(X,le);break}case"var":{X.write(n.from([r.properties[U]])),q(X,le);break}case"string":{X.write(n.from([r.properties[U]])),$(X,le);break}case"pair":{Object.getOwnPropertyNames(le).forEach(K=>{let G=le[K];Array.isArray(G)?G.forEach(Y=>{X.write(n.from([r.properties[U]])),he(X,K.toString(),Y.toString())}):(X.write(n.from([r.properties[U]])),he(X,K.toString(),G.toString()))});break}default:return X.destroy(new Error(`Invalid property ${U} value: ${le}`)),!1}}function we(X,U,le){q(X,le);for(let K in U)if(Object.prototype.hasOwnProperty.call(U,K)&&U[K]!==null){let G=U[K];if(Array.isArray(G))for(let Y=0;Y<G.length;Y++)ce(X,K,G[Y]);else ce(X,K,G)}}function W(X){return X?X instanceof n?X.length:n.byteLength(X):0}function Te(X){return typeof X=="string"||X instanceof n}t.exports=S}),lx=be((e,t)=>{ge(),ve(),ye();var r=sv(),{EventEmitter:n}=(Ei(),He(Vn)),{Buffer:o}=(bt(),He(wt));function i(a,l){let u=new s;return r(a,u,l),u.concat()}var s=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),u=this._array,c=0,d;for(d=0;d<u.length&&u[d]!==void 0;d++)typeof u[d]!="string"?l[d]=u[d].length:l[d]=o.byteLength(u[d]),a+=l[d];let f=o.allocUnsafe(a);for(d=0;d<u.length&&u[d]!==void 0;d++)typeof u[d]!="string"?(u[d].copy(f,c),c+=l[d]):(f.write(u[d],c),c+=l[d]);return f}destroy(a){a&&this.emit("error",a)}};t.exports=i}),ux=be(e=>{ge(),ve(),ye(),e.parser=ox().parser,e.generate=lx(),e.writeToStream=sv()}),av=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let r=this.nextId++;return this.nextId===65536&&(this.nextId=1),r}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(r){return!0}deallocate(r){}clear(){}};e.default=t}),cx=be((e,t)=>{ge(),ve(),ye(),t.exports=n;function r(i){return i instanceof Ha?Ha.from(i):new i.constructor(i.buffer.slice(),i.byteOffset,i.length)}function n(i){if(i=i||{},i.circles)return o(i);let s=new Map;if(s.set(Date,d=>new Date(d)),s.set(Map,(d,f)=>new Map(l(Array.from(d),f))),s.set(Set,(d,f)=>new Set(l(Array.from(d),f))),i.constructorHandlers)for(let d of i.constructorHandlers)s.set(d[0],d[1]);let a=null;return i.proto?c:u;function l(d,f){let p=Object.keys(d),y=new Array(p.length);for(let b=0;b<p.length;b++){let S=p[b],_=d[S];typeof _!="object"||_===null?y[S]=_:_.constructor!==Object&&(a=s.get(_.constructor))?y[S]=a(_,f):ArrayBuffer.isView(_)?y[S]=r(_):y[S]=f(_)}return y}function u(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return l(d,u);if(d.constructor!==Object&&(a=s.get(d.constructor)))return a(d,u);let f={};for(let p in d){if(Object.hasOwnProperty.call(d,p)===!1)continue;let y=d[p];typeof y!="object"||y===null?f[p]=y:y.constructor!==Object&&(a=s.get(y.constructor))?f[p]=a(y,u):ArrayBuffer.isView(y)?f[p]=r(y):f[p]=u(y)}return f}function c(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return l(d,c);if(d.constructor!==Object&&(a=s.get(d.constructor)))return a(d,c);let f={};for(let p in d){let y=d[p];typeof y!="object"||y===null?f[p]=y:y.constructor!==Object&&(a=s.get(y.constructor))?f[p]=a(y,c):ArrayBuffer.isView(y)?f[p]=r(y):f[p]=c(y)}return f}}function o(i){let s=[],a=[],l=new Map;if(l.set(Date,p=>new Date(p)),l.set(Map,(p,y)=>new Map(c(Array.from(p),y))),l.set(Set,(p,y)=>new Set(c(Array.from(p),y))),i.constructorHandlers)for(let p of i.constructorHandlers)l.set(p[0],p[1]);let u=null;return i.proto?f:d;function c(p,y){let b=Object.keys(p),S=new Array(b.length);for(let _=0;_<b.length;_++){let m=b[_],v=p[m];if(typeof v!="object"||v===null)S[m]=v;else if(v.constructor!==Object&&(u=l.get(v.constructor)))S[m]=u(v,y);else if(ArrayBuffer.isView(v))S[m]=r(v);else{let k=s.indexOf(v);k!==-1?S[m]=a[k]:S[m]=y(v)}}return S}function d(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return c(p,d);if(p.constructor!==Object&&(u=l.get(p.constructor)))return u(p,d);let y={};s.push(p),a.push(y);for(let b in p){if(Object.hasOwnProperty.call(p,b)===!1)continue;let S=p[b];if(typeof S!="object"||S===null)y[b]=S;else if(S.constructor!==Object&&(u=l.get(S.constructor)))y[b]=u(S,d);else if(ArrayBuffer.isView(S))y[b]=r(S);else{let _=s.indexOf(S);_!==-1?y[b]=a[_]:y[b]=d(S)}}return s.pop(),a.pop(),y}function f(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return c(p,f);if(p.constructor!==Object&&(u=l.get(p.constructor)))return u(p,f);let y={};s.push(p),a.push(y);for(let b in p){let S=p[b];if(typeof S!="object"||S===null)y[b]=S;else if(S.constructor!==Object&&(u=l.get(S.constructor)))y[b]=u(S,f);else if(ArrayBuffer.isView(S))y[b]=r(S);else{let _=s.indexOf(S);_!==-1?y[b]=a[_]:y[b]=f(S)}}return s.pop(),a.pop(),y}}}),dx=be((e,t)=>{ge(),ve(),ye(),t.exports=cx()()}),fx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=t,e.validateTopics=r;function t(n){let o=n.split("/");for(let i=0;i<o.length;i++)if(o[i]!=="+"){if(o[i]==="#")return i===o.length-1;if(o[i].indexOf("+")!==-1||o[i].indexOf("#")!==-1)return!1}return!0}function r(n){if(n.length===0)return"empty_topic_list";for(let o=0;o<n.length;o++)if(!t(n[o]))return n[o];return null}}),lv=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=ki(),r={objectMode:!0},n={clean:!0},o=class{constructor(i){this.options=i||{},this.options=Object.assign(Object.assign({},n),i),this._inflights=new Map}put(i,s){return this._inflights.set(i.messageId,i),s&&s(),this}createStream(){let i=new t.Readable(r),s=[],a=!1,l=0;return this._inflights.forEach((u,c)=>{s.push(u)}),i._read=()=>{!a&&l<s.length?i.push(s[l++]):i.push(null)},i.destroy=u=>{if(!a)return a=!0,setTimeout(()=>{i.emit("close")},0),i},i}del(i,s){let a=this._inflights.get(i.messageId);return a?(this._inflights.delete(i.messageId),s(null,a)):s&&s(new Error("missing packet")),this}get(i,s){let a=this._inflights.get(i.messageId);return a?s(null,a):s&&s(new Error("missing packet")),this}close(i){this.options.clean&&(this._inflights=null),i&&i()}};e.default=o}),hx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],r=(n,o,i)=>{n.log("handlePublish: packet %o",o),i=typeof i<"u"?i:n.noop;let s=o.topic.toString(),a=o.payload,{qos:l}=o,{messageId:u}=o,{options:c}=n;if(n.options.protocolVersion===5){let d;if(o.properties&&(d=o.properties.topicAlias),typeof d<"u")if(s.length===0)if(d>0&&d<=65535){let f=n.topicAliasRecv.getTopicByAlias(d);if(f)s=f,n.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",s,d);else{n.log("handlePublish :: unregistered topic alias. alias: %d",d),n.emit("error",new Error("Received unregistered Topic Alias"));return}}else{n.log("handlePublish :: topic alias out of range. alias: %d",d),n.emit("error",new Error("Received Topic Alias is out of range"));return}else if(n.topicAliasRecv.put(s,d))n.log("handlePublish :: registered topic: %s - alias: %d",s,d);else{n.log("handlePublish :: topic alias out of range. alias: %d",d),n.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(n.log("handlePublish: qos %d",l),l){case 2:{c.customHandleAcks(s,a,o,(d,f)=>{if(typeof d=="number"&&(f=d,d=null),d)return n.emit("error",d);if(t.indexOf(f)===-1)return n.emit("error",new Error("Wrong reason code for pubrec"));f?n._sendPacket({cmd:"pubrec",messageId:u,reasonCode:f},i):n.incomingStore.put(o,()=>{n._sendPacket({cmd:"pubrec",messageId:u},i)})});break}case 1:{c.customHandleAcks(s,a,o,(d,f)=>{if(typeof d=="number"&&(f=d,d=null),d)return n.emit("error",d);if(t.indexOf(f)===-1)return n.emit("error",new Error("Wrong reason code for puback"));f||n.emit("message",s,a,o),n.handleMessage(o,p=>{if(p)return i&&i(p);n._sendPacket({cmd:"puback",messageId:u,reasonCode:f},i)})});break}case 0:n.emit("message",s,a,o),n.handleMessage(o,i);break;default:n.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=r}),px=be((e,t)=>{t.exports={version:"5.10.4"}}),wo=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithReasonCode=void 0,e.applyMixin=r;var t=class uv extends Error{constructor(o,i){super(o),this.code=i,Object.setPrototypeOf(this,uv.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;function r(n,o,i=!1){var s;let a=[o];for(;;){let l=a[0],u=Object.getPrototypeOf(l);if(u!=null&&u.prototype)a.unshift(u);else break}for(let l of a)for(let u of Object.getOwnPropertyNames(l.prototype))(i||u!=="constructor")&&Object.defineProperty(n.prototype,u,(s=Object.getOwnPropertyDescriptor(l.prototype,u))!==null&&s!==void 0?s:Object.create(null))}e.nextTick=typeof($e==null?void 0:$e.nextTick)=="function"?$e.nextTick:n=>{setTimeout(n,0)},e.MQTTJS_VERSION=px().version}),wl=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=wo();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var r=(n,o)=>{let{messageId:i}=o,s=o.cmd,a=null,l=n.outgoing[i]?n.outgoing[i].cb:null,u=null;if(!l){n.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(n.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let c=o.reasonCode;c&&c>0&&c!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(i,()=>{l(u,o)})):n._removeOutgoingAndStoreMessage(i,l);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:i};let c=o.reasonCode;c&&c>0&&c!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(i,()=>{l(u,o)})):n._sendPacket(a);break}case"suback":{delete n.outgoing[i],n.messageIdProvider.deallocate(i);let c=o.granted;for(let d=0;d<c.length;d++){let f=c[d];if(f&128){u=new Error(`Subscribe error: ${e.ReasonCodes[f]}`),u.code=f;let p=n.messageIdToTopic[i];p&&p.forEach(y=>{delete n._resubscribeTopics[y]})}}delete n.messageIdToTopic[i],n._invokeStoreProcessingQueue(),l(u,o);break}case"unsuback":{delete n.outgoing[i],n.messageIdProvider.deallocate(i),n._invokeStoreProcessingQueue(),l(null,o);break}default:n.emit("error",new Error("unrecognized packet type"))}n.disconnecting&&Object.keys(n.outgoing).length===0&&n.emit("outgoingEmpty")};e.default=r}),mx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=wo(),r=wl(),n=(o,i)=>{let{options:s}=o,a=s.protocolVersion,l=a===5?i.reasonCode:i.returnCode;if(a!==5){let u=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);o.emit("error",u);return}o.handleAuth(i,(u,c)=>{if(u){o.emit("error",u);return}if(l===24)o.reconnecting=!1,o._sendPacket(c);else{let d=new t.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[l]}`,l);o.emit("error",d)}})};e.default=n}),gx=be(e=>{var p,y,b,S,_,m,v,k,T,E,C,P,V,Q,oe,R,ee,q,$,he,pe,H,fe,D,se,O,ce,we,W,bd,X,U,le,K,cv,Y,Z,ne,gn,yn,_d,ha,pa,Ye,Sd,Uo,vn,Ed,je;ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,r=new Set,n=typeof $e=="object"&&$e?$e:{},o=(h,g,w,A)=>{typeof n.emitWarning=="function"?n.emitWarning(h,g,w,A):console.error(`[${w}] ${g}: ${h}`)},i=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof i>"u"){s=class{constructor(){Ze(this,"onabort");Ze(this,"_onabort",[]);Ze(this,"reason");Ze(this,"aborted",!1)}addEventListener(w,A){this._onabort.push(A)}},i=class{constructor(){Ze(this,"signal",new s);g()}abort(w){var A,M;if(!this.signal.aborted){this.signal.reason=w,this.signal.aborted=!0;for(let F of this.signal._onabort)F(w);(M=(A=this.signal).onabort)==null||M.call(A,w)}}};let h=((p=n.env)==null?void 0:p.LRU_CACHE_IGNORE_AC_WARNING)!=="1",g=()=>{h&&(h=!1,o("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",g))}}var a=h=>!r.has(h),l=h=>h&&h===Math.floor(h)&&h>0&&isFinite(h),u=h=>l(h)?h<=Math.pow(2,8)?Uint8Array:h<=Math.pow(2,16)?Uint16Array:h<=Math.pow(2,32)?Uint32Array:h<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(h){super(h),this.fill(0)}},d=(y=class{constructor(g,w){Ze(this,"heap");Ze(this,"length");if(!x(y,b))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new w(g),this.length=0}static create(g){let w=u(g);if(!w)return[];xe(y,b,!0);let A=new y(g,w);return xe(y,b,!1),A}push(g){this.heap[this.length++]=g}pop(){return this.heap[--this.length]}},b=new WeakMap,Ne(y,b,!1),y),f=(je=class{constructor(g){Ne(this,W);Ne(this,m);Ne(this,v);Ne(this,k);Ne(this,T);Ne(this,E);Ne(this,C);Ze(this,"ttl");Ze(this,"ttlResolution");Ze(this,"ttlAutopurge");Ze(this,"updateAgeOnGet");Ze(this,"updateAgeOnHas");Ze(this,"allowStale");Ze(this,"noDisposeOnSet");Ze(this,"noUpdateTTL");Ze(this,"maxEntrySize");Ze(this,"sizeCalculation");Ze(this,"noDeleteOnFetchRejection");Ze(this,"noDeleteOnStaleGet");Ze(this,"allowStaleOnFetchAbort");Ze(this,"allowStaleOnFetchRejection");Ze(this,"ignoreFetchAbort");Ne(this,P);Ne(this,V);Ne(this,Q);Ne(this,oe);Ne(this,R);Ne(this,ee);Ne(this,q);Ne(this,$);Ne(this,he);Ne(this,pe);Ne(this,H);Ne(this,fe);Ne(this,D);Ne(this,se);Ne(this,O);Ne(this,ce);Ne(this,we);Ne(this,X,()=>{});Ne(this,U,()=>{});Ne(this,le,()=>{});Ne(this,K,()=>!1);Ne(this,Y,g=>{});Ne(this,Z,(g,w,A)=>{});Ne(this,ne,(g,w,A,M)=>{if(A||M)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Ze(this,S,"LRUCache");let{max:w=0,ttl:A,ttlResolution:M=1,ttlAutopurge:F,updateAgeOnGet:re,updateAgeOnHas:ke,allowStale:Ce,dispose:Oe,disposeAfter:Be,noDisposeOnSet:Me,noUpdateTTL:xr,maxSize:$t=0,maxEntrySize:Kt=0,sizeCalculation:Je,fetchMethod:gt,memoMethod:Le,noDeleteOnFetchRejection:qe,noDeleteOnStaleGet:xt,allowStaleOnFetchRejection:ht,allowStaleOnFetchAbort:Nt,ignoreFetchAbort:un}=g;if(w!==0&&!l(w))throw new TypeError("max option must be a nonnegative integer");let N=w?u(w):Array;if(!N)throw new Error("invalid max value: "+w);if(xe(this,m,w),xe(this,v,$t),this.maxEntrySize=Kt||x(this,v),this.sizeCalculation=Je,this.sizeCalculation){if(!x(this,v)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Le!==void 0&&typeof Le!="function")throw new TypeError("memoMethod must be a function if defined");if(xe(this,C,Le),gt!==void 0&&typeof gt!="function")throw new TypeError("fetchMethod must be a function if specified");if(xe(this,E,gt),xe(this,ce,!!gt),xe(this,Q,new Map),xe(this,oe,new Array(w).fill(void 0)),xe(this,R,new Array(w).fill(void 0)),xe(this,ee,new N(w)),xe(this,q,new N(w)),xe(this,$,0),xe(this,he,0),xe(this,pe,d.create(w)),xe(this,P,0),xe(this,V,0),typeof Oe=="function"&&xe(this,k,Oe),typeof Be=="function"?(xe(this,T,Be),xe(this,H,[])):(xe(this,T,void 0),xe(this,H,void 0)),xe(this,O,!!x(this,k)),xe(this,we,!!x(this,T)),this.noDisposeOnSet=!!Me,this.noUpdateTTL=!!xr,this.noDeleteOnFetchRejection=!!qe,this.allowStaleOnFetchRejection=!!ht,this.allowStaleOnFetchAbort=!!Nt,this.ignoreFetchAbort=!!un,this.maxEntrySize!==0){if(x(this,v)!==0&&!l(x(this,v)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ae(this,W,cv).call(this)}if(this.allowStale=!!Ce,this.noDeleteOnStaleGet=!!xt,this.updateAgeOnGet=!!re,this.updateAgeOnHas=!!ke,this.ttlResolution=l(M)||M===0?M:1,this.ttlAutopurge=!!F,this.ttl=A||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ae(this,W,bd).call(this)}if(x(this,m)===0&&this.ttl===0&&x(this,v)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!x(this,m)&&!x(this,v)){let L="LRU_CACHE_UNBOUNDED";a(L)&&(r.add(L),o("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",L,je))}}static unsafeExposeInternals(g){return{starts:x(g,D),ttls:x(g,se),sizes:x(g,fe),keyMap:x(g,Q),keyList:x(g,oe),valList:x(g,R),next:x(g,ee),prev:x(g,q),get head(){return x(g,$)},get tail(){return x(g,he)},free:x(g,pe),isBackgroundFetch:w=>{var A;return Ae(A=g,W,Ye).call(A,w)},backgroundFetch:(w,A,M,F)=>{var re;return Ae(re=g,W,pa).call(re,w,A,M,F)},moveToTail:w=>{var A;return Ae(A=g,W,Uo).call(A,w)},indexes:w=>{var A;return Ae(A=g,W,gn).call(A,w)},rindexes:w=>{var A;return Ae(A=g,W,yn).call(A,w)},isStale:w=>{var A;return x(A=g,K).call(A,w)}}}get max(){return x(this,m)}get maxSize(){return x(this,v)}get calculatedSize(){return x(this,V)}get size(){return x(this,P)}get fetchMethod(){return x(this,E)}get memoMethod(){return x(this,C)}get dispose(){return x(this,k)}get disposeAfter(){return x(this,T)}getRemainingTTL(g){return x(this,Q).has(g)?1/0:0}*entries(){for(let g of Ae(this,W,gn).call(this))x(this,R)[g]!==void 0&&x(this,oe)[g]!==void 0&&!Ae(this,W,Ye).call(this,x(this,R)[g])&&(yield[x(this,oe)[g],x(this,R)[g]])}*rentries(){for(let g of Ae(this,W,yn).call(this))x(this,R)[g]!==void 0&&x(this,oe)[g]!==void 0&&!Ae(this,W,Ye).call(this,x(this,R)[g])&&(yield[x(this,oe)[g],x(this,R)[g]])}*keys(){for(let g of Ae(this,W,gn).call(this)){let w=x(this,oe)[g];w!==void 0&&!Ae(this,W,Ye).call(this,x(this,R)[g])&&(yield w)}}*rkeys(){for(let g of Ae(this,W,yn).call(this)){let w=x(this,oe)[g];w!==void 0&&!Ae(this,W,Ye).call(this,x(this,R)[g])&&(yield w)}}*values(){for(let g of Ae(this,W,gn).call(this))x(this,R)[g]!==void 0&&!Ae(this,W,Ye).call(this,x(this,R)[g])&&(yield x(this,R)[g])}*rvalues(){for(let g of Ae(this,W,yn).call(this))x(this,R)[g]!==void 0&&!Ae(this,W,Ye).call(this,x(this,R)[g])&&(yield x(this,R)[g])}[(_=Symbol.iterator,S=Symbol.toStringTag,_)](){return this.entries()}find(g,w={}){for(let A of Ae(this,W,gn).call(this)){let M=x(this,R)[A],F=Ae(this,W,Ye).call(this,M)?M.__staleWhileFetching:M;if(F!==void 0&&g(F,x(this,oe)[A],this))return this.get(x(this,oe)[A],w)}}forEach(g,w=this){for(let A of Ae(this,W,gn).call(this)){let M=x(this,R)[A],F=Ae(this,W,Ye).call(this,M)?M.__staleWhileFetching:M;F!==void 0&&g.call(w,F,x(this,oe)[A],this)}}rforEach(g,w=this){for(let A of Ae(this,W,yn).call(this)){let M=x(this,R)[A],F=Ae(this,W,Ye).call(this,M)?M.__staleWhileFetching:M;F!==void 0&&g.call(w,F,x(this,oe)[A],this)}}purgeStale(){let g=!1;for(let w of Ae(this,W,yn).call(this,{allowStale:!0}))x(this,K).call(this,w)&&(Ae(this,W,vn).call(this,x(this,oe)[w],"expire"),g=!0);return g}info(g){let w=x(this,Q).get(g);if(w===void 0)return;let A=x(this,R)[w],M=Ae(this,W,Ye).call(this,A)?A.__staleWhileFetching:A;if(M===void 0)return;let F={value:M};if(x(this,se)&&x(this,D)){let re=x(this,se)[w],ke=x(this,D)[w];if(re&&ke){let Ce=re-(t.now()-ke);F.ttl=Ce,F.start=Date.now()}}return x(this,fe)&&(F.size=x(this,fe)[w]),F}dump(){let g=[];for(let w of Ae(this,W,gn).call(this,{allowStale:!0})){let A=x(this,oe)[w],M=x(this,R)[w],F=Ae(this,W,Ye).call(this,M)?M.__staleWhileFetching:M;if(F===void 0||A===void 0)continue;let re={value:F};if(x(this,se)&&x(this,D)){re.ttl=x(this,se)[w];let ke=t.now()-x(this,D)[w];re.start=Math.floor(Date.now()-ke)}x(this,fe)&&(re.size=x(this,fe)[w]),g.unshift([A,re])}return g}load(g){this.clear();for(let[w,A]of g){if(A.start){let M=Date.now()-A.start;A.start=t.now()-M}this.set(w,A.value,A)}}set(g,w,A={}){var xr,$t,Kt,Je,gt;if(w===void 0)return this.delete(g),this;let{ttl:M=this.ttl,start:F,noDisposeOnSet:re=this.noDisposeOnSet,sizeCalculation:ke=this.sizeCalculation,status:Ce}=A,{noUpdateTTL:Oe=this.noUpdateTTL}=A,Be=x(this,ne).call(this,g,w,A.size||0,ke);if(this.maxEntrySize&&Be>this.maxEntrySize)return Ce&&(Ce.set="miss",Ce.maxEntrySizeExceeded=!0),Ae(this,W,vn).call(this,g,"set"),this;let Me=x(this,P)===0?void 0:x(this,Q).get(g);if(Me===void 0)Me=x(this,P)===0?x(this,he):x(this,pe).length!==0?x(this,pe).pop():x(this,P)===x(this,m)?Ae(this,W,ha).call(this,!1):x(this,P),x(this,oe)[Me]=g,x(this,R)[Me]=w,x(this,Q).set(g,Me),x(this,ee)[x(this,he)]=Me,x(this,q)[Me]=x(this,he),xe(this,he,Me),Kn(this,P)._++,x(this,Z).call(this,Me,Be,Ce),Ce&&(Ce.set="add"),Oe=!1;else{Ae(this,W,Uo).call(this,Me);let Le=x(this,R)[Me];if(w!==Le){if(x(this,ce)&&Ae(this,W,Ye).call(this,Le)){Le.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:qe}=Le;qe!==void 0&&!re&&(x(this,O)&&((xr=x(this,k))==null||xr.call(this,qe,g,"set")),x(this,we)&&(($t=x(this,H))==null||$t.push([qe,g,"set"])))}else re||(x(this,O)&&((Kt=x(this,k))==null||Kt.call(this,Le,g,"set")),x(this,we)&&((Je=x(this,H))==null||Je.push([Le,g,"set"])));if(x(this,Y).call(this,Me),x(this,Z).call(this,Me,Be,Ce),x(this,R)[Me]=w,Ce){Ce.set="replace";let qe=Le&&Ae(this,W,Ye).call(this,Le)?Le.__staleWhileFetching:Le;qe!==void 0&&(Ce.oldValue=qe)}}else Ce&&(Ce.set="update")}if(M!==0&&!x(this,se)&&Ae(this,W,bd).call(this),x(this,se)&&(Oe||x(this,le).call(this,Me,M,F),Ce&&x(this,U).call(this,Ce,Me)),!re&&x(this,we)&&x(this,H)){let Le=x(this,H),qe;for(;qe=Le==null?void 0:Le.shift();)(gt=x(this,T))==null||gt.call(this,...qe)}return this}pop(){var g;try{for(;x(this,P);){let w=x(this,R)[x(this,$)];if(Ae(this,W,ha).call(this,!0),Ae(this,W,Ye).call(this,w)){if(w.__staleWhileFetching)return w.__staleWhileFetching}else if(w!==void 0)return w}}finally{if(x(this,we)&&x(this,H)){let w=x(this,H),A;for(;A=w==null?void 0:w.shift();)(g=x(this,T))==null||g.call(this,...A)}}}has(g,w={}){let{updateAgeOnHas:A=this.updateAgeOnHas,status:M}=w,F=x(this,Q).get(g);if(F!==void 0){let re=x(this,R)[F];if(Ae(this,W,Ye).call(this,re)&&re.__staleWhileFetching===void 0)return!1;if(x(this,K).call(this,F))M&&(M.has="stale",x(this,U).call(this,M,F));else return A&&x(this,X).call(this,F),M&&(M.has="hit",x(this,U).call(this,M,F)),!0}else M&&(M.has="miss");return!1}peek(g,w={}){let{allowStale:A=this.allowStale}=w,M=x(this,Q).get(g);if(M===void 0||!A&&x(this,K).call(this,M))return;let F=x(this,R)[M];return Ae(this,W,Ye).call(this,F)?F.__staleWhileFetching:F}async fetch(g,w={}){let{allowStale:A=this.allowStale,updateAgeOnGet:M=this.updateAgeOnGet,noDeleteOnStaleGet:F=this.noDeleteOnStaleGet,ttl:re=this.ttl,noDisposeOnSet:ke=this.noDisposeOnSet,size:Ce=0,sizeCalculation:Oe=this.sizeCalculation,noUpdateTTL:Be=this.noUpdateTTL,noDeleteOnFetchRejection:Me=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:xr=this.allowStaleOnFetchRejection,ignoreFetchAbort:$t=this.ignoreFetchAbort,allowStaleOnFetchAbort:Kt=this.allowStaleOnFetchAbort,context:Je,forceRefresh:gt=!1,status:Le,signal:qe}=w;if(!x(this,ce))return Le&&(Le.fetch="get"),this.get(g,{allowStale:A,updateAgeOnGet:M,noDeleteOnStaleGet:F,status:Le});let xt={allowStale:A,updateAgeOnGet:M,noDeleteOnStaleGet:F,ttl:re,noDisposeOnSet:ke,size:Ce,sizeCalculation:Oe,noUpdateTTL:Be,noDeleteOnFetchRejection:Me,allowStaleOnFetchRejection:xr,allowStaleOnFetchAbort:Kt,ignoreFetchAbort:$t,status:Le,signal:qe},ht=x(this,Q).get(g);if(ht===void 0){Le&&(Le.fetch="miss");let Nt=Ae(this,W,pa).call(this,g,ht,xt,Je);return Nt.__returned=Nt}else{let Nt=x(this,R)[ht];if(Ae(this,W,Ye).call(this,Nt)){let Ee=A&&Nt.__staleWhileFetching!==void 0;return Le&&(Le.fetch="inflight",Ee&&(Le.returnedStale=!0)),Ee?Nt.__staleWhileFetching:Nt.__returned=Nt}let un=x(this,K).call(this,ht);if(!gt&&!un)return Le&&(Le.fetch="hit"),Ae(this,W,Uo).call(this,ht),M&&x(this,X).call(this,ht),Le&&x(this,U).call(this,Le,ht),Nt;let N=Ae(this,W,pa).call(this,g,ht,xt,Je),L=N.__staleWhileFetching!==void 0&&A;return Le&&(Le.fetch=un?"stale":"refresh",L&&un&&(Le.returnedStale=!0)),L?N.__staleWhileFetching:N.__returned=N}}async forceFetch(g,w={}){let A=await this.fetch(g,w);if(A===void 0)throw new Error("fetch() returned undefined");return A}memo(g,w={}){let A=x(this,C);if(!A)throw new Error("no memoMethod provided to constructor");let{context:M,forceRefresh:F,...re}=w,ke=this.get(g,re);if(!F&&ke!==void 0)return ke;let Ce=A(g,ke,{options:re,context:M});return this.set(g,Ce,re),Ce}get(g,w={}){let{allowStale:A=this.allowStale,updateAgeOnGet:M=this.updateAgeOnGet,noDeleteOnStaleGet:F=this.noDeleteOnStaleGet,status:re}=w,ke=x(this,Q).get(g);if(ke!==void 0){let Ce=x(this,R)[ke],Oe=Ae(this,W,Ye).call(this,Ce);return re&&x(this,U).call(this,re,ke),x(this,K).call(this,ke)?(re&&(re.get="stale"),Oe?(re&&A&&Ce.__staleWhileFetching!==void 0&&(re.returnedStale=!0),A?Ce.__staleWhileFetching:void 0):(F||Ae(this,W,vn).call(this,g,"expire"),re&&A&&(re.returnedStale=!0),A?Ce:void 0)):(re&&(re.get="hit"),Oe?Ce.__staleWhileFetching:(Ae(this,W,Uo).call(this,ke),M&&x(this,X).call(this,ke),Ce))}else re&&(re.get="miss")}delete(g){return Ae(this,W,vn).call(this,g,"delete")}clear(){return Ae(this,W,Ed).call(this,"delete")}},m=new WeakMap,v=new WeakMap,k=new WeakMap,T=new WeakMap,E=new WeakMap,C=new WeakMap,P=new WeakMap,V=new WeakMap,Q=new WeakMap,oe=new WeakMap,R=new WeakMap,ee=new WeakMap,q=new WeakMap,$=new WeakMap,he=new WeakMap,pe=new WeakMap,H=new WeakMap,fe=new WeakMap,D=new WeakMap,se=new WeakMap,O=new WeakMap,ce=new WeakMap,we=new WeakMap,W=new WeakSet,bd=function(){let g=new c(x(this,m)),w=new c(x(this,m));xe(this,se,g),xe(this,D,w),xe(this,le,(F,re,ke=t.now())=>{if(w[F]=re!==0?ke:0,g[F]=re,re!==0&&this.ttlAutopurge){let Ce=setTimeout(()=>{x(this,K).call(this,F)&&Ae(this,W,vn).call(this,x(this,oe)[F],"expire")},re+1);Ce.unref&&Ce.unref()}}),xe(this,X,F=>{w[F]=g[F]!==0?t.now():0}),xe(this,U,(F,re)=>{if(g[re]){let ke=g[re],Ce=w[re];if(!ke||!Ce)return;F.ttl=ke,F.start=Ce,F.now=A||M();let Oe=F.now-Ce;F.remainingTTL=ke-Oe}});let A=0,M=()=>{let F=t.now();if(this.ttlResolution>0){A=F;let re=setTimeout(()=>A=0,this.ttlResolution);re.unref&&re.unref()}return F};this.getRemainingTTL=F=>{let re=x(this,Q).get(F);if(re===void 0)return 0;let ke=g[re],Ce=w[re];if(!ke||!Ce)return 1/0;let Oe=(A||M())-Ce;return ke-Oe},xe(this,K,F=>{let re=w[F],ke=g[F];return!!ke&&!!re&&(A||M())-re>ke})},X=new WeakMap,U=new WeakMap,le=new WeakMap,K=new WeakMap,cv=function(){let g=new c(x(this,m));xe(this,V,0),xe(this,fe,g),xe(this,Y,w=>{xe(this,V,x(this,V)-g[w]),g[w]=0}),xe(this,ne,(w,A,M,F)=>{if(Ae(this,W,Ye).call(this,A))return 0;if(!l(M))if(F){if(typeof F!="function")throw new TypeError("sizeCalculation must be a function");if(M=F(A,w),!l(M))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return M}),xe(this,Z,(w,A,M)=>{if(g[w]=A,x(this,v)){let F=x(this,v)-g[w];for(;x(this,V)>F;)Ae(this,W,ha).call(this,!0)}xe(this,V,x(this,V)+g[w]),M&&(M.entrySize=A,M.totalCalculatedSize=x(this,V))})},Y=new WeakMap,Z=new WeakMap,ne=new WeakMap,gn=function*({allowStale:g=this.allowStale}={}){if(x(this,P))for(let w=x(this,he);!(!Ae(this,W,_d).call(this,w)||((g||!x(this,K).call(this,w))&&(yield w),w===x(this,$)));)w=x(this,q)[w]},yn=function*({allowStale:g=this.allowStale}={}){if(x(this,P))for(let w=x(this,$);!(!Ae(this,W,_d).call(this,w)||((g||!x(this,K).call(this,w))&&(yield w),w===x(this,he)));)w=x(this,ee)[w]},_d=function(g){return g!==void 0&&x(this,Q).get(x(this,oe)[g])===g},ha=function(g){var F,re;let w=x(this,$),A=x(this,oe)[w],M=x(this,R)[w];return x(this,ce)&&Ae(this,W,Ye).call(this,M)?M.__abortController.abort(new Error("evicted")):(x(this,O)||x(this,we))&&(x(this,O)&&((F=x(this,k))==null||F.call(this,M,A,"evict")),x(this,we)&&((re=x(this,H))==null||re.push([M,A,"evict"]))),x(this,Y).call(this,w),g&&(x(this,oe)[w]=void 0,x(this,R)[w]=void 0,x(this,pe).push(w)),x(this,P)===1?(xe(this,$,xe(this,he,0)),x(this,pe).length=0):xe(this,$,x(this,ee)[w]),x(this,Q).delete(A),Kn(this,P)._--,w},pa=function(g,w,A,M){let F=w===void 0?void 0:x(this,R)[w];if(Ae(this,W,Ye).call(this,F))return F;let re=new i,{signal:ke}=A;ke==null||ke.addEventListener("abort",()=>re.abort(ke.reason),{signal:re.signal});let Ce={signal:re.signal,options:A,context:M},Oe=(Je,gt=!1)=>{let{aborted:Le}=re.signal,qe=A.ignoreFetchAbort&&Je!==void 0;if(A.status&&(Le&&!gt?(A.status.fetchAborted=!0,A.status.fetchError=re.signal.reason,qe&&(A.status.fetchAbortIgnored=!0)):A.status.fetchResolved=!0),Le&&!qe&&!gt)return Me(re.signal.reason);let xt=$t;return x(this,R)[w]===$t&&(Je===void 0?xt.__staleWhileFetching?x(this,R)[w]=xt.__staleWhileFetching:Ae(this,W,vn).call(this,g,"fetch"):(A.status&&(A.status.fetchUpdated=!0),this.set(g,Je,Ce.options))),Je},Be=Je=>(A.status&&(A.status.fetchRejected=!0,A.status.fetchError=Je),Me(Je)),Me=Je=>{let{aborted:gt}=re.signal,Le=gt&&A.allowStaleOnFetchAbort,qe=Le||A.allowStaleOnFetchRejection,xt=qe||A.noDeleteOnFetchRejection,ht=$t;if(x(this,R)[w]===$t&&(!xt||ht.__staleWhileFetching===void 0?Ae(this,W,vn).call(this,g,"fetch"):Le||(x(this,R)[w]=ht.__staleWhileFetching)),qe)return A.status&&ht.__staleWhileFetching!==void 0&&(A.status.returnedStale=!0),ht.__staleWhileFetching;if(ht.__returned===ht)throw Je},xr=(Je,gt)=>{var qe;let Le=(qe=x(this,E))==null?void 0:qe.call(this,g,F,Ce);Le&&Le instanceof Promise&&Le.then(xt=>Je(xt===void 0?void 0:xt),gt),re.signal.addEventListener("abort",()=>{(!A.ignoreFetchAbort||A.allowStaleOnFetchAbort)&&(Je(void 0),A.allowStaleOnFetchAbort&&(Je=xt=>Oe(xt,!0)))})};A.status&&(A.status.fetchDispatched=!0);let $t=new Promise(xr).then(Oe,Be),Kt=Object.assign($t,{__abortController:re,__staleWhileFetching:F,__returned:void 0});return w===void 0?(this.set(g,Kt,{...Ce.options,status:void 0}),w=x(this,Q).get(g)):x(this,R)[w]=Kt,Kt},Ye=function(g){if(!x(this,ce))return!1;let w=g;return!!w&&w instanceof Promise&&w.hasOwnProperty("__staleWhileFetching")&&w.__abortController instanceof i},Sd=function(g,w){x(this,q)[w]=g,x(this,ee)[g]=w},Uo=function(g){g!==x(this,he)&&(g===x(this,$)?xe(this,$,x(this,ee)[g]):Ae(this,W,Sd).call(this,x(this,q)[g],x(this,ee)[g]),Ae(this,W,Sd).call(this,x(this,he),g),xe(this,he,g))},vn=function(g,w){var M,F,re,ke;let A=!1;if(x(this,P)!==0){let Ce=x(this,Q).get(g);if(Ce!==void 0)if(A=!0,x(this,P)===1)Ae(this,W,Ed).call(this,w);else{x(this,Y).call(this,Ce);let Oe=x(this,R)[Ce];if(Ae(this,W,Ye).call(this,Oe)?Oe.__abortController.abort(new Error("deleted")):(x(this,O)||x(this,we))&&(x(this,O)&&((M=x(this,k))==null||M.call(this,Oe,g,w)),x(this,we)&&((F=x(this,H))==null||F.push([Oe,g,w]))),x(this,Q).delete(g),x(this,oe)[Ce]=void 0,x(this,R)[Ce]=void 0,Ce===x(this,he))xe(this,he,x(this,q)[Ce]);else if(Ce===x(this,$))xe(this,$,x(this,ee)[Ce]);else{let Be=x(this,q)[Ce];x(this,ee)[Be]=x(this,ee)[Ce];let Me=x(this,ee)[Ce];x(this,q)[Me]=x(this,q)[Ce]}Kn(this,P)._--,x(this,pe).push(Ce)}}if(x(this,we)&&((re=x(this,H))!=null&&re.length)){let Ce=x(this,H),Oe;for(;Oe=Ce==null?void 0:Ce.shift();)(ke=x(this,T))==null||ke.call(this,...Oe)}return A},Ed=function(g){var w,A,M;for(let F of Ae(this,W,yn).call(this,{allowStale:!0})){let re=x(this,R)[F];if(Ae(this,W,Ye).call(this,re))re.__abortController.abort(new Error("deleted"));else{let ke=x(this,oe)[F];x(this,O)&&((w=x(this,k))==null||w.call(this,re,ke,g)),x(this,we)&&((A=x(this,H))==null||A.push([re,ke,g]))}}if(x(this,Q).clear(),x(this,R).fill(void 0),x(this,oe).fill(void 0),x(this,se)&&x(this,D)&&(x(this,se).fill(0),x(this,D).fill(0)),x(this,fe)&&x(this,fe).fill(0),xe(this,$,0),xe(this,he,0),x(this,pe).length=0,xe(this,V,0),xe(this,P,0),x(this,we)&&x(this,H)){let F=x(this,H),re;for(;re=F==null?void 0:F.shift();)(M=x(this,T))==null||M.call(this,...re)}},je);e.LRUCache=f}),an=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(o=0){this.iteratorType=o}equals(o){return this.o===o.o}};e.ContainerIterator=t;var r=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=r;var n=class extends r{};e.Container=n}),yx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=an(),r=class extends t.Base{constructor(o=[]){super(),this.S=[];let i=this;o.forEach(function(s){i.push(s)})}clear(){this.i=0,this.S=[]}push(o){return this.S.push(o),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},n=r;e.default=n}),vx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=an(),r=class extends t.Base{constructor(o=[]){super(),this.j=0,this.q=[];let i=this;o.forEach(function(s){i.push(s)})}clear(){this.q=[],this.i=this.j=0}push(o){let i=this.q.length;if(this.j/i>.5&&this.j+this.i>=i&&i>4096){let s=this.i;for(let a=0;a<s;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=o}else this.q[this.j+this.i]=o;return++this.i}pop(){if(this.i===0)return;let o=this.q[this.j++];return this.i-=1,o}front(){if(this.i!==0)return this.q[this.j]}},n=r;e.default=n}),bx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=an(),r=class extends t.Base{constructor(o=[],i=function(a,l){return a>l?-1:a<l?1:0},s=!0){if(super(),this.v=i,Array.isArray(o))this.C=s?[...o]:o;else{this.C=[];let l=this;o.forEach(function(u){l.C.push(u)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(o){let i=this.C[o];for(;o>0;){let s=o-1>>1,a=this.C[s];if(this.v(a,i)<=0)break;this.C[o]=a,o=s}this.C[o]=i}k(o,i){let s=this.C[o];for(;o<i;){let a=o<<1|1,l=a+1,u=this.C[a];if(l<this.i&&this.v(u,this.C[l])>0&&(a=l,u=this.C[l]),this.v(u,s)>=0)break;this.C[o]=u,o=a}this.C[o]=s}clear(){this.i=0,this.C.length=0}push(o){this.C.push(o),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let o=this.C[0],i=this.C.pop();return this.i-=1,this.i&&(this.C[0]=i,this.k(0,this.i>>1)),o}top(){return this.C[0]}find(o){return this.C.indexOf(o)>=0}remove(o){let i=this.C.indexOf(o);return i<0?!1:(i===0?this.pop():i===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(i,1,this.C.pop()),this.i-=1,this.m(i),this.k(i,this.i>>1)),!0)}updateItem(o){let i=this.C.indexOf(o);return i<0?!1:(this.m(i),this.k(i,this.i>>1),!0)}toArray(){return[...this.C]}},n=r;e.default=n}),Vf=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=an(),r=class extends t.Container{},n=r;e.default=n}),ln=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),dv=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=an(),r=ln(),n=class extends t.ContainerIterator{constructor(o,i){super(i),this.o=o,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(o){this.container.setElementByPos(this.o,o)}};e.RandomIterator=n}),_x=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(Vf()),r=dv();function n(a){return a&&a.t?a:{default:a}}var o=class fv extends r.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new fv(this.o,this.container,this.iteratorType)}},i=class extends t.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let u=this;a.forEach(function(c){u.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new o(0,this)}end(){return new o(this.i,this)}rBegin(){return new o(this.i-1,this,1)}rEnd(){return new o(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let u=0;u<this.i;++u)this.J[u]!==a&&(this.J[l++]=this.J[u]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,u=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(u).fill(l)),this.i+=u,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new o(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},s=i;e.default=s}),Sx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(Vf()),r=an(),n=ln();function o(l){return l&&l.t?l:{default:l}}var i=class hv extends r.ContainerIterator{constructor(u,c,d,f){super(f),this.o=u,this.h=c,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l=u}copy(){return new hv(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let u=this;l.forEach(function(c){u.pushBack(c)})}V(l){let{L:u,B:c}=l;u.B=c,c.L=u,l===this.p&&(this.p=c),l===this._&&(this._=u),this.i-=1}G(l,u){let c=u.B,d={l,L:u,B:c};u.B=d,c.L=d,u===this.h&&(this.p=d),c===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return u.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return this.V(u),this.i}eraseElementByValue(l){let u=this.p;for(;u!==this.h;)u.l===l&&this.V(u),u=u.B;return this.i}eraseElementByIterator(l){let u=l.o;return u===this.h&&(0,n.throwIteratorAccessError)(),l=l.next(),this.V(u),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,u){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;c.l=u}insert(l,u,c=1){if(l<0||l>this.i)throw new RangeError;if(c<=0)return this.i;if(l===0)for(;c--;)this.pushFront(u);else if(l===this.i)for(;c--;)this.pushBack(u);else{let d=this.p;for(let p=1;p<l;++p)d=d.B;let f=d.B;for(this.i+=c;c--;)d.B={l:u,L:d},d.B.L=d,d=d.B;d.B=f,f.L=d}return this.i}find(l){let u=this.p;for(;u!==this.h;){if(u.l===l)return new i(u,this.h,this);u=u.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,u=this._,c=0;for(;c<<1<this.i;){let d=l.l;l.l=u.l,u.l=d,l=l.B,u=u.L,c+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let u=l;for(;u.B!==this.h&&u.l===u.B.l;)u=u.B,this.i-=1;l.B=u.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let u=[];this.forEach(function(d){u.push(d)}),u.sort(l);let c=this.p;u.forEach(function(d){c.l=d,c=c.B})}merge(l){let u=this;if(this.i===0)l.forEach(function(c){u.pushBack(c)});else{let c=this.p;l.forEach(function(d){for(;c!==u.h&&c.l<=d;)c=c.B;u.G(d,c.L)})}return this.i}forEach(l){let u=this.p,c=0;for(;u!==this.h;)l(u.l,c++,this),u=u.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},a=s;e.default=a}),Ex=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(Vf()),r=dv();function n(a){return a&&a.t?a:{default:a}}var o=class pv extends r.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new pv(this.o,this.container,this.iteratorType)}},i=class extends t.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let u=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(u/this.F),1);for(let f=0;f<this.P;++f)this.A.push(new Array(this.F));let c=Math.ceil(u/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-u%this.F>>1;let d=this;a.forEach(function(f){d.pushBack(f)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let u=0;u<l;++u)a[u]=new Array(this.F);for(let u=this.j;u<this.P;++u)a[a.length]=this.A[u];for(let u=0;u<this.R;++u)a[a.length]=this.A[u];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let u=0;u<l;++u)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,u=l%this.F,c=u-1,d=this.j+(l-u)/this.F;return u===0&&(d-=1),d%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new o(0,this)}end(){return new o(this.i,this)}rBegin(){return new o(this.i-1,this,1)}rEnd(){return new o(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(a);return this.A[l][u]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:c}=this.O(a);this.A[u][c]=l}insert(a,l,u=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;u--;)this.pushFront(l);else if(a===this.i)for(;u--;)this.pushBack(l);else{let c=[];for(let d=a;d<this.i;++d)c.push(this.getElementByPos(d));this.cut(a-1);for(let d=0;d<u;++d)this.pushBack(l);for(let d=0;d<c.length;++d)this.pushBack(c[d])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(a);return this.R=l,this.N=u,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let c=a+1;c<this.i;++c)l.push(this.getElementByPos(c));this.cut(a),this.popBack();let u=this;l.forEach(function(c){u.pushBack(c)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let c=0;c<this.i;++c){let d=this.getElementByPos(c);d!==a&&l.push(d)}let u=l.length;for(let c=0;c<u;++c)this.setElementByPos(c,l[c]);return this.cut(u-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new o(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let u=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,u),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let u=1;u<this.i;++u){let c=this.getElementByPos(u);c!==l&&(l=c,this.setElementByPos(a++,c))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let u=0;u<this.i;++u)l.push(this.getElementByPos(u));l.sort(a);for(let u=0;u<this.i;++u)this.setElementByPos(u,l[u])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}},s=i;e.default=s}),xx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(n,o){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=n,this.l=o}L(){let n=this;if(n.ee===1&&n.tt.tt===n)n=n.W;else if(n.U)for(n=n.U;n.W;)n=n.W;else{let o=n.tt;for(;o.U===n;)n=o,o=n.tt;n=o}return n}B(){let n=this;if(n.W){for(n=n.W;n.U;)n=n.U;return n}else{let o=n.tt;for(;o.W===n;)n=o,o=n.tt;return n.W!==o?o:n}}te(){let n=this.tt,o=this.W,i=o.U;return n.tt===this?n.tt=o:n.U===this?n.U=o:n.W=o,o.tt=n,o.U=this,this.tt=o,this.W=i,i&&(i.tt=this),o}se(){let n=this.tt,o=this.U,i=o.W;return n.tt===this?n.tt=o:n.U===this?n.U=o:n.W=o,o.tt=n,o.W=this,this.tt=o,this.U=i,i&&(i.tt=this),o}};e.TreeNode=t;var r=class extends t{constructor(){super(...arguments),this.rt=1}te(){let n=super.te();return this.ie(),n.ie(),n}se(){let n=super.se();return this.ie(),n.ie(),n}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=r}),mv=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=xx(),r=an(),n=ln(),o=class extends r.Container{constructor(s=function(l,u){return l<u?-1:l>u?1:0},a=!1){super(),this.Y=void 0,this.v=s,a?(this.re=t.TreeNodeEnableIndex,this.M=function(l,u,c){let d=this.ne(l,u,c);if(d){let f=d.tt;for(;f!==this.h;)f.rt+=1,f=f.tt;let p=this.he(d);if(p){let{parentNode:y,grandParent:b,curNode:S}=p;y.ie(),b.ie(),S.ie()}}return this.i},this.V=function(l){let u=this.fe(l);for(;u!==this.h;)u.rt-=1,u=u.tt}):(this.re=t.TreeNode,this.M=function(l,u,c){let d=this.ne(l,u,c);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(s,a){let l=this.h;for(;s;){let u=this.v(s.u,a);if(u<0)s=s.W;else if(u>0)l=s,s=s.U;else return s}return l}Z(s,a){let l=this.h;for(;s;)this.v(s.u,a)<=0?s=s.W:(l=s,s=s.U);return l}$(s,a){let l=this.h;for(;s;){let u=this.v(s.u,a);if(u<0)l=s,s=s.W;else if(u>0)s=s.U;else return s}return l}rr(s,a){let l=this.h;for(;s;)this.v(s.u,a)<0?(l=s,s=s.W):s=s.U;return l}ue(s){for(;;){let a=s.tt;if(a===this.h)return;if(s.ee===1){s.ee=0;return}if(s===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,s=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,s=a)}}}fe(s){if(this.i===1)return this.clear(),this.h;let a=s;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[s.u,a.u]=[a.u,s.u],[s.l,a.l]=[a.l,s.l],s=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(s,a){return s===void 0?!1:this.oe(s.U,a)||a(s)?!0:this.oe(s.W,a)}he(s){for(;;){let a=s.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let u=l.W;if(u&&u.ee===1){if(u.ee=a.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===a.W){if(s.ee=0,s.U&&(s.U.tt=a),s.W&&(s.W.tt=l),a.W=s.U,l.U=s.W,s.U=a,s.W=l,l===this.Y)this.Y=s,this.h.tt=s;else{let c=l.tt;c.U===l?c.U=s:c.W=s}return s.tt=l.tt,a.tt=s,l.tt=s,l.ee=1,{parentNode:a,grandParent:l,curNode:s}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let u=l.U;if(u&&u.ee===1){if(u.ee=a.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===a.U){if(s.ee=0,s.U&&(s.U.tt=l),s.W&&(s.W.tt=a),l.W=s.U,a.U=s.W,s.U=l,s.W=a,l===this.Y)this.Y=s,this.h.tt=s;else{let c=l.tt;c.U===l?c.U=s:c.W=s}return s.tt=l.tt,a.tt=s,l.tt=s,l.ee=1,{parentNode:a,grandParent:l,curNode:s}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(s,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(s,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let u,c=this.h.U,d=this.v(c.u,s);if(d===0){c.l=a;return}else if(d>0)c.U=new this.re(s,a),c.U.tt=c,u=c.U,this.h.U=u;else{let f=this.h.W,p=this.v(f.u,s);if(p===0){f.l=a;return}else if(p<0)f.W=new this.re(s,a),f.W.tt=f,u=f.W,this.h.W=u;else{if(l!==void 0){let y=l.o;if(y!==this.h){let b=this.v(y.u,s);if(b===0){y.l=a;return}else if(b>0){let S=y.L(),_=this.v(S.u,s);if(_===0){S.l=a;return}else _<0&&(u=new this.re(s,a),S.W===void 0?(S.W=u,u.tt=S):(y.U=u,u.tt=y))}}}if(u===void 0)for(u=this.Y;;){let y=this.v(u.u,s);if(y>0){if(u.U===void 0){u.U=new this.re(s,a),u.U.tt=u,u=u.U;break}u=u.U}else if(y<0){if(u.W===void 0){u.W=new this.re(s,a),u.W.tt=u,u=u.W;break}u=u.W}else{u.l=a;return}}}}return this.i+=1,u}I(s,a){for(;s;){let l=this.v(s.u,a);if(l<0)s=s.W;else if(l>0)s=s.U;else return s}return s||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(s,a){let l=s.o;if(l===this.h&&(0,n.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let u=l.L().u;if(this.v(u,a)>=0)return!1;let c=l.B().u;return this.v(c,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(u){return s===a?(l.V(u),!0):(a+=1,!1)}),this.i}eraseElementByKey(s){if(this.i===0)return!1;let a=this.I(this.Y,s);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(s){let a=s.o;a===this.h&&(0,n.throwIteratorAccessError)();let l=a.W===void 0;return s.iteratorType===0?l&&s.next():(!l||a.U===void 0)&&s.next(),this.V(a),s}forEach(s){let a=0;for(let l of this)s(l,a++,this)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a,l=0;for(let u of this){if(l===s){a=u;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let s=function(a){return a?Math.max(s(a.U),s(a.W))+1:0};return s(this.Y)}},i=o;e.default=i}),gv=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=an(),r=ln(),n=class extends t.ContainerIterator{constructor(i,s,a){super(a),this.o=i,this.h=s,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let i=this.o,s=this.h.tt;if(i===this.h)return s?s.rt-1:0;let a=0;for(i.U&&(a+=i.U.rt);i!==s;){let l=i.tt;i===l.W&&(a+=1,l.U&&(a+=l.U.rt)),i=l}return a}},o=n;e.default=o}),kx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(mv()),r=o(gv()),n=ln();function o(l){return l&&l.t?l:{default:l}}var i=class yv extends r.default{constructor(u,c,d,f){super(u,c,f),this.container=d}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new yv(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(l=[],u,c){super(u,c);let d=this;l.forEach(function(f){d.insert(f)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,u){return this.M(l,void 0,u)}find(l){let u=this.I(this.Y,l);return new i(u,this.h,this)}lowerBound(l){let u=this.X(this.Y,l);return new i(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new i(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new i(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new i(u,this.h,this)}union(l){let u=this;return l.forEach(function(c){u.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a}),Cx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(mv()),r=o(gv()),n=ln();function o(l){return l&&l.t?l:{default:l}}var i=class vv extends r.default{constructor(u,c,d,f){super(u,c,f),this.container=d}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,d){if(d==="0")return u.o.u;if(d==="1")return u.o.l},set(c,d,f){if(d!=="1")throw new TypeError("props must be 1");return u.o.l=f,!0}})}copy(){return new vv(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(l=[],u,c){super(u,c);let d=this;l.forEach(function(f){d.setElement(f[0],f[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let u=this.X(this.Y,l);return new i(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new i(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new i(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new i(u,this.h,this)}setElement(l,u,c){return this.M(l,u,c)}find(l){let u=this.I(this.Y,l);return new i(u,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let u=this;return l.forEach(function(c){u.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a}),wv=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(r){let n=typeof r;return n==="object"&&r!==null||n==="function"}}),bv=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=an(),r=o(wv()),n=ln();function o(a){return a&&a.t?a:{default:a}}var i=class extends t.ContainerIterator{constructor(a,l,u){super(u),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=i;var s=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:u}=a;l.B=u,u.L=l,a===this.p&&(this.p=u),a===this._&&(this._=l),this.i-=1}M(a,l,u){u===void 0&&(u=(0,r.default)(a));let c;if(u){let d=a[this.HASH_TAG];if(d!==void 0)return this.H[d].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:a,l,L:this._,B:this.h},this.H.push(c)}else{let d=this.g[a];if(d)return d.l=l,this.i;c={u:a,l,L:this._,B:this.h},this.g[a]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(a,l){if(l===void 0&&(l=(0,r.default)(a)),l){let u=a[this.HASH_TAG];return u===void 0?this.h:this.H[u]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let u;if(l===void 0&&(l=(0,r.default)(a)),l){let c=a[this.HASH_TAG];if(c===void 0)return!1;delete a[this.HASH_TAG],u=this.H[c],delete this.H[c]}else{if(u=this.g[a],u===void 0)return!1;delete this.g[a]}return this.V(u),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,n.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};e.HashContainer=s}),Ax=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=bv(),r=ln(),n=class _v extends t.HashContainerIterator{constructor(a,l,u,c){super(a,l,c),this.container=u}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new _v(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.HashContainer{constructor(s=[]){super();let a=this;s.forEach(function(l){a.insert(l)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(s,a){return this.M(s,void 0,a)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a=this.p;for(;s--;)a=a.B;return a.u}find(s,a){let l=this.I(s,a);return new n(l,this.h,this)}forEach(s){let a=0,l=this.p;for(;l!==this.h;)s(l.u,a++,this),l=l.B}[Symbol.iterator](){return(function*(){let s=this.p;for(;s!==this.h;)yield s.u,s=s.B}).bind(this)()}},i=o;e.default=i}),Tx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=bv(),r=o(wv()),n=ln();function o(l){return l&&l.t?l:{default:l}}var i=class Sv extends t.HashContainerIterator{constructor(u,c,d,f){super(u,c,f),this.container=d}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,d){if(d==="0")return u.o.u;if(d==="1")return u.o.l},set(c,d,f){if(d!=="1")throw new TypeError("props must be 1");return u.o.l=f,!0}})}copy(){return new Sv(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.HashContainer{constructor(l=[]){super();let u=this;l.forEach(function(c){u.setElement(c[0],c[1])})}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,u,c){return this.M(l,u,c)}getElementByKey(l,u){if(u===void 0&&(u=(0,r.default)(l)),u){let d=l[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let c=this.g[l];return c?c.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return[u.u,u.l]}find(l,u){let c=this.I(l,u);return new i(c,this.h,this)}forEach(l){let u=0,c=this.p;for(;c!==this.h;)l([c.u,c.l],u++,this),c=c.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},a=s;e.default=a}),Px=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return o.default}});var t=d(yx()),r=d(vx()),n=d(bx()),o=d(_x()),i=d(Sx()),s=d(Ex()),a=d(kx()),l=d(Cx()),u=d(Ax()),c=d(Tx());function d(f){return f&&f.t?f:{default:f}}}),Ix=be((e,t)=>{ge(),ve(),ye();var r=Px().OrderedSet,n=nn()("number-allocator:trace"),o=nn()("number-allocator:error");function i(a,l){this.low=a,this.high=l}i.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},i.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function s(a,l){if(!(this instanceof s))return new s(a,l);this.min=a,this.max=l,this.ss=new r([],(u,c)=>u.compare(c)),n("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return n("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,u=a.pointer.high,c=l;return c+1<=u?this.ss.updateKeyByIterator(a,new i(l+1,u)):this.ss.eraseElementByPos(0),n("alloc():"+c),c},s.prototype.use=function(a){let l=new i(a,a),u=this.ss.lowerBound(l);if(!u.equals(this.ss.end())){let c=u.pointer.low,d=u.pointer.high;return u.pointer.equals(l)?(this.ss.eraseElementByIterator(u),n("use():"+a),!0):c>a?!1:c===a?(this.ss.updateKeyByIterator(u,new i(c+1,d)),n("use():"+a),!0):d===a?(this.ss.updateKeyByIterator(u,new i(c,d-1)),n("use():"+a),!0):(this.ss.updateKeyByIterator(u,new i(a+1,d)),this.ss.insert(new i(c,a-1)),n("use():"+a),!0)}return n("use():failed"),!1},s.prototype.free=function(a){if(a<this.min||a>this.max){o("free():"+a+" is out of range");return}let l=new i(a,a),u=this.ss.upperBound(l);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(l);return}u.pre();let c=u.pointer.high;u.pointer.high+1===a?this.ss.updateKeyByIterator(u,new i(c,a)):this.ss.insert(l)}else if(u.equals(this.ss.begin()))if(a+1===u.pointer.low){let c=u.pointer.high;this.ss.updateKeyByIterator(u,new i(a,c))}else this.ss.insert(l);else{let c=u.pointer.low,d=u.pointer.high;u.pre();let f=u.pointer.low;u.pointer.high+1===a?a+1===c?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new i(f,d))):this.ss.updateKeyByIterator(u,new i(f,a)):a+1===c?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new i(a,d))):this.ss.insert(l)}n("free():"+a)},s.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new i(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},t.exports=s}),Ev=be((e,t)=>{ge(),ve(),ye();var r=Ix();t.exports.NumberAllocator=r}),Rx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=gx(),r=Ev(),n=class{constructor(o){o>0&&(this.aliasToTopic=new t.LRUCache({max:o}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,o),this.max=o,this.length=0)}put(o,i){if(i===0||i>this.max)return!1;let s=this.aliasToTopic.get(i);return s&&delete this.topicToAlias[s],this.aliasToTopic.set(i,o),this.topicToAlias[o]=i,this.numberAllocator.use(i),this.length=this.aliasToTopic.size,!0}getTopicByAlias(o){return this.aliasToTopic.get(o)}getAliasByTopic(o){let i=this.topicToAlias[o];return typeof i<"u"&&this.aliasToTopic.get(i),i}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=n}),Nx=be(e=>{ge(),ve(),ye();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=wl(),n=t(Rx()),o=wo(),i=(s,a)=>{s.log("_handleConnack");let{options:l}=s,u=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(s.connackTimer),delete s.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){s.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(s.topicAliasSend=new n.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(u===0)s.reconnecting=!1,s._onConnect(a);else if(u>0){let c=new o.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[u]}`,u);s.emit("error",c),s.options.reconnectOnConnackError&&s._cleanUp(!0)}};e.default=i}),Ox=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=(r,n,o)=>{r.log("handling pubrel packet");let i=typeof o<"u"?o:r.noop,{messageId:s}=n,a={cmd:"pubcomp",messageId:s};r.incomingStore.get(n,(l,u)=>{l?r._sendPacket(a,i):(r.emit("message",u.topic,u.payload,u),r.handleMessage(u,c=>{if(c)return i(c);r.incomingStore.del(u,r.noop),r._sendPacket(a,i)}))})};e.default=t}),jx=be(e=>{ge(),ve(),ye();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(hx()),n=t(mx()),o=t(Nx()),i=t(wl()),s=t(Ox()),a=(l,u,c)=>{let{options:d}=l;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<u.length)return l.emit("error",new Error(`exceeding packets size ${u.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",u),u.cmd){case"publish":(0,r.default)(l,u,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,i.default)(l,u),c();break;case"pubrel":l.reschedulePing(),(0,s.default)(l,u,c);break;case"connack":(0,o.default)(l,u),c();break;case"auth":l.reschedulePing(),(0,n.default)(l,u),c();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),c();break;case"disconnect":l.emit("disconnect",u),c();break;default:l.log("_handlePacket :: unknown command"),c();break}};e.default=a}),Mx=be(e=>{ge(),ve(),ye();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var r=t((Ei(),He(Vn))),n=wo(),o=class{};e.TypedEventEmitter=o,(0,n.applyMixin)(o,r.default)}),bl=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>{var i;return typeof window<"u"?typeof navigator<"u"&&((i=navigator.userAgent)===null||i===void 0?void 0:i.toLowerCase().indexOf(" electron/"))>-1&&$e!=null&&$e.versions?!Object.prototype.hasOwnProperty.call($e.versions,"electron"):typeof window.document<"u":!1},r=()=>{var i,s;return!!(typeof self=="object"&&!((s=(i=self==null?void 0:self.constructor)===null||i===void 0?void 0:i.name)===null||s===void 0)&&s.includes("WorkerGlobalScope"))},n=()=>typeof navigator<"u"&&navigator.product==="ReactNative",o=t()||r()||n();e.isWebWorker=r(),e.isReactNativeBrowser=n(),e.default=o}),Lx=be((e,t)=>{ge(),ve(),ye(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.fastUniqueNumbers={}))}(e,function(r){var n=function(p){return function(y){var b=p(y);return y.add(b),b}},o=function(p){return function(y,b){return p.set(y,b),b}},i=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=s*2,l=function(p,y){return function(b){var S=y.get(b),_=S===void 0?b.size:S<a?S+1:0;if(!b.has(_))return p(b,_);if(b.size<s){for(;b.has(_);)_=Math.floor(Math.random()*a);return p(b,_)}if(b.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;b.has(_);)_=Math.floor(Math.random()*i);return p(b,_)}},u=new WeakMap,c=o(u),d=l(c,u),f=n(d);r.addUniqueNumber=f,r.generateUniqueNumber=d})}),Bx=be((e,t)=>{ge(),ve(),ye(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e,Lx()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.workerTimersBroker={},r.fastUniqueNumbers))}(e,function(r,n){var o=function(a){return a.method!==void 0&&a.method==="call"},i=function(a){return a.error===null&&typeof a.id=="number"},s=function(a){var l=new Map([[0,function(){}]]),u=new Map([[0,function(){}]]),c=new Map,d=new Worker(a);d.addEventListener("message",function(S){var _=S.data;if(o(_)){var m=_.params,v=m.timerId,k=m.timerType;if(k==="interval"){var T=l.get(v);if(typeof T=="number"){var E=c.get(T);if(E===void 0||E.timerId!==v||E.timerType!==k)throw new Error("The timer is in an undefined state.")}else if(typeof T<"u")T();else throw new Error("The timer is in an undefined state.")}else if(k==="timeout"){var C=u.get(v);if(typeof C=="number"){var P=c.get(C);if(P===void 0||P.timerId!==v||P.timerType!==k)throw new Error("The timer is in an undefined state.")}else if(typeof C<"u")C(),u.delete(v);else throw new Error("The timer is in an undefined state.")}}else if(i(_)){var V=_.id,Q=c.get(V);if(Q===void 0)throw new Error("The timer is in an undefined state.");var oe=Q.timerId,R=Q.timerType;c.delete(V),R==="interval"?l.delete(oe):u.delete(oe)}else{var ee=_.error.message;throw new Error(ee)}});var f=function(S){var _=n.generateUniqueNumber(c);c.set(_,{timerId:S,timerType:"interval"}),l.set(S,_),d.postMessage({id:_,method:"clear",params:{timerId:S,timerType:"interval"}})},p=function(S){var _=n.generateUniqueNumber(c);c.set(_,{timerId:S,timerType:"timeout"}),u.set(S,_),d.postMessage({id:_,method:"clear",params:{timerId:S,timerType:"timeout"}})},y=function(S){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=n.generateUniqueNumber(l);return l.set(m,function(){S(),typeof l.get(m)=="function"&&d.postMessage({id:null,method:"set",params:{delay:_,now:performance.now(),timerId:m,timerType:"interval"}})}),d.postMessage({id:null,method:"set",params:{delay:_,now:performance.now(),timerId:m,timerType:"interval"}}),m},b=function(S){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=n.generateUniqueNumber(u);return u.set(m,S),d.postMessage({id:null,method:"set",params:{delay:_,now:performance.now(),timerId:m,timerType:"timeout"}}),m};return{clearInterval:f,clearTimeout:p,setInterval:y,setTimeout:b}};r.load=s})}),Ux=be((e,t)=>{ge(),ve(),ye(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e,Bx()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.workerTimers={},r.workerTimersBroker))}(e,function(r,n){var o=function(d,f){var p=null;return function(){if(p!==null)return p;var y=new Blob([f],{type:"application/javascript; charset=utf-8"}),b=URL.createObjectURL(y);return p=d(b),setTimeout(function(){return URL.revokeObjectURL(b)}),p}},i=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,s=o(n.load,i),a=function(d){return s().clearInterval(d)},l=function(d){return s().clearTimeout(d)},u=function(){var d;return(d=s()).setInterval.apply(d,arguments)},c=function(){var d;return(d=s()).setTimeout.apply(d,arguments)};r.clearInterval=a,r.clearTimeout=l,r.setInterval=u,r.setTimeout=c})}),Dx=be(e=>{ge(),ve(),ye();var t=e&&e.__createBinding||(Object.create?function(u,c,d,f){f===void 0&&(f=d);var p=Object.getOwnPropertyDescriptor(c,d);(!p||("get"in p?!c.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(u,f,p)}:function(u,c,d,f){f===void 0&&(f=d),u[f]=c[d]}),r=e&&e.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),n=e&&e.__importStar||function(){var u=function(c){return u=Object.getOwnPropertyNames||function(d){var f=[];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(f[f.length]=p);return f},u(c)};return function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var f=u(c),p=0;p<f.length;p++)f[p]!=="default"&&t(d,c,f[p]);return r(d,c),d}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(bl()),i=Ux(),s={set:i.setInterval,clear:i.clearInterval},a={set:(u,c)=>setInterval(u,c),clear:u=>clearInterval(u)},l=u=>{switch(u){case"native":return a;case"worker":return s;case"auto":default:return o.default&&!o.isWebWorker&&!o.isReactNativeBrowser?s:a}};e.default=l}),xv=be(e=>{ge(),ve(),ye();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(Dx()),n=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(o,i){this.destroyed=!1,this.client=o,this.timer=typeof i=="object"&&"set"in i&&"clear"in i?i:(0,r.default)(i),this.setKeepalive(o.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(o){if(o*=1e3,isNaN(o)||o<=0||o>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${o}`);this._keepalive=o,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${o}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let o=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+o,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=n}),xd=be(e=>{ge(),ve(),ye();var t=e&&e.__createBinding||(Object.create?function(T,E,C,P){P===void 0&&(P=C);var V=Object.getOwnPropertyDescriptor(E,C);(!V||("get"in V?!E.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return E[C]}}),Object.defineProperty(T,P,V)}:function(T,E,C,P){P===void 0&&(P=C),T[P]=E[C]}),r=e&&e.__setModuleDefault||(Object.create?function(T,E){Object.defineProperty(T,"default",{enumerable:!0,value:E})}:function(T,E){T.default=E}),n=e&&e.__importStar||function(){var T=function(E){return T=Object.getOwnPropertyNames||function(C){var P=[];for(var V in C)Object.prototype.hasOwnProperty.call(C,V)&&(P[P.length]=V);return P},T(E)};return function(E){if(E&&E.__esModule)return E;var C={};if(E!=null)for(var P=T(E),V=0;V<P.length;V++)P[V]!=="default"&&t(C,E,P[V]);return r(C,E),C}}(),o=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(qE()),s=o(ux()),a=o(av()),l=ki(),u=o(dx()),c=n(fx()),d=o(nn()),f=o(lv()),p=o(jx()),y=wo(),b=Mx(),S=o(xv()),_=n(bl()),m=globalThis.setImmediate||((...T)=>{let E=T.shift();(0,y.nextTick)(()=>{E(...T)})}),v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},k=class kd extends b.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(E,C){super(),this.options=C||{};for(let P in v)typeof this.options[P]>"u"?this.options[P]=v[P]:this.options[P]=C[P];this.log=this.options.log||(0,d.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",kd.VERSION),_.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",_.default?"browser":"node"),this.log("MqttClient :: options.protocol",C.protocol),this.log("MqttClient :: options.protocolVersion",C.protocolVersion),this.log("MqttClient :: options.username",C.username),this.log("MqttClient :: options.keepalive",C.keepalive),this.log("MqttClient :: options.reconnectPeriod",C.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",C.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",C.properties?C.properties.topicAliasMaximum:void 0),this.options.clientId=typeof C.clientId=="string"?C.clientId:kd.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=C.protocolVersion===5&&C.customHandleAcks?C.customHandleAcks:(...P)=>{P[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=E,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=C.outgoingStore||new f.default,this.incomingStore=C.incomingStore||new f.default,this.queueQoSZero=C.queueQoSZero===void 0?!0:C.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,C.properties&&C.properties.topicAliasMaximum>0&&(C.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new i.default(C.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:P}=this,V=()=>{let Q=P.shift();this.log("deliver :: entry %o",Q);let oe=null;if(!Q){this._resubscribe();return}oe=Q.packet,this.log("deliver :: call _sendPacket for %o",oe);let R=!0;oe.messageId&&oe.messageId!==0&&(this.messageIdProvider.register(oe.messageId)||(R=!1)),R?this._sendPacket(oe,ee=>{Q.cb&&Q.cb(ee),V()}):(this.log("messageId: %d has already used. The message is skipped and removed.",oe.messageId),V())};this.log("connect :: sending queued packets"),V()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(E,C){C()}handleMessage(E,C){C()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var E;let C=new l.Writable,P=s.default.parser(this.options),V=null,Q=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),P.on("packet",$=>{this.log("parser :: on packet push to packets array."),Q.push($)});let oe=()=>{this.log("work :: getting next packet in queue");let $=Q.shift();if($)this.log("work :: packet pulled from queue"),(0,p.default)(this,$,R);else{this.log("work :: no packets in queue");let he=V;V=null,this.log("work :: done flag is %s",!!he),he&&he()}},R=()=>{if(Q.length)(0,y.nextTick)(oe);else{let $=V;V=null,$()}};C._write=($,he,pe)=>{V=pe,this.log("writable stream :: parsing buffer"),P.parse($),oe()};let ee=$=>{this.log("streamErrorHandler :: error",$.message),$.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",$)):this.noop($)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(C),this.stream.on("error",ee),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let q={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(q.will=Object.assign(Object.assign({},this.options.will),{payload:(E=this.options.will)===null||E===void 0?void 0:E.payload})),this.topicAliasRecv&&(q.properties||(q.properties={}),this.topicAliasRecv&&(q.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(q),P.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let $=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket($)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(E,C,P,V){this.log("publish :: message `%s` to topic `%s`",C,E);let{options:Q}=this;typeof P=="function"&&(V=P,P=null),P=P||{},P=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),P);let{qos:oe,retain:R,dup:ee,properties:q,cbStorePut:$}=P;if(this._checkDisconnecting(V))return this;let he=()=>{let pe=0;if((oe===1||oe===2)&&(pe=this._nextId(),pe===null))return this.log("No messageId left"),!1;let H={cmd:"publish",topic:E,payload:C,qos:oe,retain:R,messageId:pe,dup:ee};switch(Q.protocolVersion===5&&(H.properties=q),this.log("publish :: qos",oe),oe){case 1:case 2:this.outgoing[H.messageId]={volatile:!1,cb:V||this.noop},this.log("MqttClient:publish: packet cmd: %s",H.cmd),this._sendPacket(H,void 0,$);break;default:this.log("MqttClient:publish: packet cmd: %s",H.cmd),this._sendPacket(H,V,$);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!he())&&this._storeProcessingQueue.push({invoke:he,cbStorePut:P.cbStorePut,callback:V}),this}publishAsync(E,C,P){return new Promise((V,Q)=>{this.publish(E,C,P,(oe,R)=>{oe?Q(oe):V(R)})})}subscribe(E,C,P){let V=this.options.protocolVersion;typeof C=="function"&&(P=C),P=P||this.noop;let Q=!1,oe=[];typeof E=="string"?(E=[E],oe=E):Array.isArray(E)?oe=E:typeof E=="object"&&(Q=E.resubscribe,delete E.resubscribe,oe=Object.keys(E));let R=c.validateTopics(oe);if(R!==null)return m(P,new Error(`Invalid topic ${R}`)),this;if(this._checkDisconnecting(P))return this.log("subscribe: discconecting true"),this;let ee={qos:0};V===5&&(ee.nl=!1,ee.rap=!1,ee.rh=0),C=Object.assign(Object.assign({},ee),C);let q=C.properties,$=[],he=(H,fe)=>{if(fe=fe||C,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,H)||this._resubscribeTopics[H].qos<fe.qos||Q){let D={topic:H,qos:fe.qos};V===5&&(D.nl=fe.nl,D.rap=fe.rap,D.rh=fe.rh,D.properties=q),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",D.topic,D.qos),$.push(D)}};if(Array.isArray(E)?E.forEach(H=>{this.log("subscribe: array topic %s",H),he(H)}):Object.keys(E).forEach(H=>{this.log("subscribe: object topic %s, %o",H,E[H]),he(H,E[H])}),!$.length)return P(null,[]),this;let pe=()=>{let H=this._nextId();if(H===null)return this.log("No messageId left"),!1;let fe={cmd:"subscribe",subscriptions:$,messageId:H};if(q&&(fe.properties=q),this.options.resubscribe){this.log("subscribe :: resubscribe true");let D=[];$.forEach(se=>{if(this.options.reconnectPeriod>0){let O={qos:se.qos};V===5&&(O.nl=se.nl||!1,O.rap=se.rap||!1,O.rh=se.rh||0,O.properties=se.properties),this._resubscribeTopics[se.topic]=O,D.push(se.topic)}}),this.messageIdToTopic[fe.messageId]=D}return this.outgoing[fe.messageId]={volatile:!0,cb(D,se){if(!D){let{granted:O}=se;for(let ce=0;ce<O.length;ce+=1)$[ce].qos=O[ce]}P(D,$,se)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(fe),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!pe())&&this._storeProcessingQueue.push({invoke:pe,callback:P}),this}subscribeAsync(E,C){return new Promise((P,V)=>{this.subscribe(E,C,(Q,oe)=>{Q?V(Q):P(oe)})})}unsubscribe(E,C,P){typeof E=="string"&&(E=[E]),typeof C=="function"&&(P=C),P=P||this.noop;let V=c.validateTopics(E);if(V!==null)return m(P,new Error(`Invalid topic ${V}`)),this;if(this._checkDisconnecting(P))return this;let Q=()=>{let oe=this._nextId();if(oe===null)return this.log("No messageId left"),!1;let R={cmd:"unsubscribe",messageId:oe,unsubscriptions:[]};return typeof E=="string"?R.unsubscriptions=[E]:Array.isArray(E)&&(R.unsubscriptions=E),this.options.resubscribe&&R.unsubscriptions.forEach(ee=>{delete this._resubscribeTopics[ee]}),typeof C=="object"&&C.properties&&(R.properties=C.properties),this.outgoing[R.messageId]={volatile:!0,cb:P},this.log("unsubscribe: call _sendPacket"),this._sendPacket(R),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Q())&&this._storeProcessingQueue.push({invoke:Q,callback:P}),this}unsubscribeAsync(E,C){return new Promise((P,V)=>{this.unsubscribe(E,C,(Q,oe)=>{Q?V(Q):P(oe)})})}end(E,C,P){this.log("end :: (%s)",this.options.clientId),(E==null||typeof E!="boolean")&&(P=P||C,C=E,E=!1),typeof C!="object"&&(P=P||C,C=null),this.log("end :: cb? %s",!!P),(!P||typeof P!="function")&&(P=this.noop);let V=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(oe=>{this.outgoingStore.close(R=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),P){let ee=oe||R;this.log("end :: closeStores: invoking callback with args"),P(ee)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},Q=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,E),this._cleanUp(E,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,y.nextTick)(V)},C)};return this.disconnecting?(P(),this):(this._clearReconnect(),this.disconnecting=!0,!E&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,Q,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),Q()),this)}endAsync(E,C){return new Promise((P,V)=>{this.end(E,C,Q=>{Q?V(Q):P()})})}removeOutgoingMessage(E){if(this.outgoing[E]){let{cb:C}=this.outgoing[E];this._removeOutgoingAndStoreMessage(E,()=>{C(new Error("Message removed"))})}return this}reconnect(E){this.log("client reconnect");let C=()=>{E?(this.options.incomingStore=E.incomingStore,this.options.outgoingStore=E.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=C:C(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(E=>{this.outgoing[E].volatile&&typeof this.outgoing[E].cb=="function"&&(this.outgoing[E].cb(new Error("Connection closed")),delete this.outgoing[E])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(E=>{typeof this.outgoing[E].cb=="function"&&(this.outgoing[E].cb(new Error("Connection closed")),delete this.outgoing[E])}))}_removeTopicAliasAndRecoverTopicName(E){let C;E.properties&&(C=E.properties.topicAlias);let P=E.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",C,P),P.length===0){if(typeof C>"u")return new Error("Unregistered Topic Alias");if(P=this.topicAliasSend.getTopicByAlias(C),typeof P>"u")return new Error("Unregistered Topic Alias");E.topic=P}C&&delete E.properties.topicAlias}_checkDisconnecting(E){return this.disconnecting&&(E&&E!==this.noop?E(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(E,C,P={}){if(C&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",C)),this.log("_cleanUp :: forced? %s",E),E)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let V=Object.assign({cmd:"disconnect"},P);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(V,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),m(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),C&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",C),C())}_storeAndSend(E,C,P){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",E.cmd);let V=E,Q;if(V.cmd==="publish"&&(V=(0,u.default)(E),Q=this._removeTopicAliasAndRecoverTopicName(V),Q))return C&&C(Q);this.outgoingStore.put(V,oe=>{if(oe)return C&&C(oe);P(),this._writePacket(E,C)})}_applyTopicAlias(E){if(this.options.protocolVersion===5&&E.cmd==="publish"){let C;E.properties&&(C=E.properties.topicAlias);let P=E.topic.toString();if(this.topicAliasSend)if(C){if(P.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",P,C),!this.topicAliasSend.put(P,C)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",P,C),new Error("Sending Topic Alias out of range")}else P.length!==0&&(this.options.autoAssignTopicAlias?(C=this.topicAliasSend.getAliasByTopic(P),C?(E.topic="",E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",P,C)):(C=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(P,C),E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",P,C))):this.options.autoUseTopicAlias&&(C=this.topicAliasSend.getAliasByTopic(P),C&&(E.topic="",E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",P,C))));else if(C)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",P,C),new Error("Sending Topic Alias out of range")}}_noop(E){this.log("noop ::",E)}_writePacket(E,C){this.log("_writePacket :: packet: %O",E),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",E),this.log("_writePacket :: writing to stream");let P=s.default.writeToStream(E,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",P),!P&&C&&C!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",C)):C&&(this.log("_writePacket :: invoking cb"),C())}_sendPacket(E,C,P,V){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),P=P||this.noop,C=C||this.noop;let Q=this._applyTopicAlias(E);if(Q){C(Q);return}if(!this.connected){if(E.cmd==="auth"){this._writePacket(E,C);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(E,C,P);return}if(V){this._writePacket(E,C);return}switch(E.cmd){case"publish":break;case"pubrel":this._storeAndSend(E,C,P);return;default:this._writePacket(E,C);return}switch(E.qos){case 2:case 1:this._storeAndSend(E,C,P);break;case 0:default:this._writePacket(E,C);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(E,C,P){this.log("_storePacket :: packet: %o",E),this.log("_storePacket :: cb? %s",!!C),P=P||this.noop;let V=E;if(V.cmd==="publish"){V=(0,u.default)(E);let oe=this._removeTopicAliasAndRecoverTopicName(V);if(oe)return C&&C(oe)}let Q=V.qos||0;Q===0&&this.queueQoSZero||V.cmd!=="publish"?this.queue.push({packet:V,cb:C}):Q>0?(C=this.outgoing[V.messageId]?this.outgoing[V.messageId].cb:null,this.outgoingStore.put(V,oe=>{if(oe)return C&&C(oe);P()})):C&&C(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new S.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(E=!1){this.keepaliveManager&&this.options.keepalive&&(E||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let E=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&E.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let C=0;C<E.length;C++){let P={};P[E[C]]=this._resubscribeTopics[E[C]],P.resubscribe=!0,this.subscribe(P,{properties:P[E[C]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(E){if(this.disconnected){this.emit("connect",E);return}this.connackPacket=E,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let C=()=>{let P=this.outgoingStore.createStream(),V=()=>{P.destroy(),P=null,this._flushStoreProcessingQueue(),Q()},Q=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",V),P.on("error",R=>{Q(),this._flushStoreProcessingQueue(),this.removeListener("close",V),this.emit("error",R)});let oe=()=>{if(!P)return;let R=P.read(1),ee;if(!R){P.once("readable",oe);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[R.messageId]){oe();return}!this.disconnecting&&!this.reconnectTimer?(ee=this.outgoing[R.messageId]?this.outgoing[R.messageId].cb:null,this.outgoing[R.messageId]={volatile:!1,cb(q,$){ee&&ee(q,$),oe()}},this._packetIdsDuringStoreProcessing[R.messageId]=!0,this.messageIdProvider.register(R.messageId)?this._sendPacket(R,void 0,void 0,!0):this.log("messageId: %d has already used.",R.messageId)):P.destroy&&P.destroy()};P.on("end",()=>{let R=!0;for(let ee in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[ee]){R=!1;break}this.removeListener("close",V),R?(Q(),this._invokeAllStoreProcessingQueue(),this.emit("connect",E)):C()}),oe()};C()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let E=this._storeProcessingQueue[0];if(E&&E.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let E of this._storeProcessingQueue)E.cbStorePut&&E.cbStorePut(new Error("Connection closed")),E.callback&&E.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(E,C){delete this.outgoing[E],this.outgoingStore.del({messageId:E},(P,V)=>{C(P,V),this.messageIdProvider.deallocate(E),this._invokeStoreProcessingQueue()})}};k.VERSION=y.MQTTJS_VERSION,e.default=k}),Fx=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ev(),r=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(n){return this.numberAllocator.use(n)}deallocate(n){this.numberAllocator.free(n)}clear(){this.numberAllocator.clear()}};e.default=r});function Yn(e){throw new RangeError(Cv[e])}function jp(e,t){let r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);let o=function(i,s){let a=[],l=i.length;for(;l--;)a[l]=s(i[l]);return a}((e=e.replace(kv,".")).split("."),t).join(".");return n+o}function Mp(e){let t=[],r=0,n=e.length;for(;r<n;){let o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){let i=e.charCodeAt(r++);(64512&i)==56320?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}var Lp,Bp,kv,Cv,pr,Hs,au,lu,uu,cu,wn,$x=Dt(()=>{ge(),ve(),ye(),Lp=/^xn--/,Bp=/[^\0-\x7E]/,kv=/[\x2E\u3002\uFF0E\uFF61]/g,Cv={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pr=Math.floor,Hs=String.fromCharCode,au=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},lu=function(e,t,r){let n=0;for(e=r?pr(e/700):e>>1,e+=pr(e/t);e>455;n+=36)e=pr(e/35);return pr(n+36*e/(e+38))},uu=function(e){let t=[],r=e.length,n=0,o=128,i=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)e.charCodeAt(l)>=128&&Yn("not-basic"),t.push(e.charCodeAt(l));for(let l=s>0?s+1:0;l<r;){let u=n;for(let d=1,f=36;;f+=36){l>=r&&Yn("invalid-input");let p=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(p>=36||p>pr((2147483647-n)/d))&&Yn("overflow"),n+=p*d;let y=f<=i?1:f>=i+26?26:f-i;if(p<y)break;let b=36-y;d>pr(2147483647/b)&&Yn("overflow"),d*=b}let c=t.length+1;i=lu(n-u,c,u==0),pr(n/c)>2147483647-o&&Yn("overflow"),o+=pr(n/c),n%=c,t.splice(n++,0,o)}var a;return String.fromCodePoint(...t)},cu=function(e){let t=[],r=(e=Mp(e)).length,n=128,o=0,i=72;for(let l of e)l<128&&t.push(Hs(l));let s=t.length,a=s;for(s&&t.push("-");a<r;){let l=2147483647;for(let c of e)c>=n&&c<l&&(l=c);let u=a+1;l-n>pr((2147483647-o)/u)&&Yn("overflow"),o+=(l-n)*u,n=l;for(let c of e)if(c<n&&++o>2147483647&&Yn("overflow"),c==n){let d=o;for(let f=36;;f+=36){let p=f<=i?1:f>=i+26?26:f-i;if(d<p)break;let y=d-p,b=36-p;t.push(Hs(au(p+y%b,0))),d=pr(y/b)}t.push(Hs(au(d,0))),i=lu(o,u,a==s),o=0,++a}++o,++n}return t.join("")},wn={version:"2.1.0",ucs2:{decode:Mp,encode:e=>String.fromCodePoint(...e)},decode:uu,encode:cu,toASCII:function(e){return jp(e,function(t){return Bp.test(t)?"xn--"+cu(t):t})},toUnicode:function(e){return jp(e,function(t){return Lp.test(t)?uu(t.slice(4).toLowerCase()):t})}},wn.decode,wn.encode,wn.toASCII,wn.toUnicode,wn.ucs2,wn.version});function Wx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Up,Ai,Dp,Cr,zx=Dt(()=>{ge(),ve(),ye(),Up=function(e,t,r,n){t=t||"&",r=r||"=";var o={};if(typeof e!="string"||e.length===0)return o;var i=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var u,c,d,f,p=e[l].replace(i,"%20"),y=p.indexOf(r);y>=0?(u=p.substr(0,y),c=p.substr(y+1)):(u=p,c=""),d=decodeURIComponent(u),f=decodeURIComponent(c),Wx(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o},Ai=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Dp=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(o){var i=encodeURIComponent(Ai(o))+r;return Array.isArray(e[o])?e[o].map(function(s){return i+encodeURIComponent(Ai(s))}).join(t):i+encodeURIComponent(Ai(e[o]))}).join(t):n?encodeURIComponent(Ai(n))+r+encodeURIComponent(Ai(e)):""},Cr={},Cr.decode=Cr.parse=Up,Cr.encode=Cr.stringify=Dp,Cr.decode,Cr.encode,Cr.parse,Cr.stringify});function Cd(){throw new Error("setTimeout has not been defined")}function Ad(){throw new Error("clearTimeout has not been defined")}function Av(e){if(Vr===setTimeout)return setTimeout(e,0);if((Vr===Cd||!Vr)&&setTimeout)return Vr=setTimeout,setTimeout(e,0);try{return Vr(e,0)}catch{try{return Vr.call(null,e,0)}catch{return Vr.call(this||hi,e,0)}}}function Vx(){pi&&oi&&(pi=!1,oi.length?Or=oi.concat(Or):Yo=-1,Or.length&&Tv())}function Tv(){if(!pi){var e=Av(Vx);pi=!0;for(var t=Or.length;t;){for(oi=Or,Or=[];++Yo<t;)oi&&oi[Yo].run();Yo=-1,t=Or.length}oi=null,pi=!1,function(r){if(Hr===clearTimeout)return clearTimeout(r);if((Hr===Ad||!Hr)&&clearTimeout)return Hr=clearTimeout,clearTimeout(r);try{Hr(r)}catch{try{return Hr.call(null,r)}catch{return Hr.call(this||hi,r)}}}(e)}}function Fp(e,t){(this||hi).fun=e,(this||hi).array=t}function Dr(){}var $p,Vr,Hr,hi,lt,oi,Or,pi,Yo,nt,Hx=Dt(()=>{ge(),ve(),ye(),hi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,lt=$p={},function(){try{Vr=typeof setTimeout=="function"?setTimeout:Cd}catch{Vr=Cd}try{Hr=typeof clearTimeout=="function"?clearTimeout:Ad}catch{Hr=Ad}}(),Or=[],pi=!1,Yo=-1,lt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Or.push(new Fp(e,t)),Or.length!==1||pi||Av(Tv)},Fp.prototype.run=function(){(this||hi).fun.apply(null,(this||hi).array)},lt.title="browser",lt.browser=!0,lt.env={},lt.argv=[],lt.version="",lt.versions={},lt.on=Dr,lt.addListener=Dr,lt.once=Dr,lt.off=Dr,lt.removeListener=Dr,lt.removeAllListeners=Dr,lt.emit=Dr,lt.prependListener=Dr,lt.prependOnceListener=Dr,lt.listeners=function(e){return[]},lt.binding=function(e){throw new Error("process.binding is not supported")},lt.cwd=function(){return"/"},lt.chdir=function(e){throw new Error("process.chdir is not supported")},lt.umask=function(){return 0},nt=$p,nt.addListener,nt.argv,nt.binding,nt.browser,nt.chdir,nt.cwd,nt.emit,nt.env,nt.listeners,nt.nextTick,nt.off,nt.on,nt.once,nt.prependListener,nt.prependOnceListener,nt.removeAllListeners,nt.removeListener,nt.title,nt.umask,nt.version,nt.versions});function qx(){if(Td)return ma;Td=!0;var e=ma={},t,r;function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=o}catch{r=o}})();function i(b){if(t===setTimeout)return setTimeout(b,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(b,0);try{return t(b,0)}catch{try{return t.call(null,b,0)}catch{return t.call(this||ei,b,0)}}}function s(b){if(r===clearTimeout)return clearTimeout(b);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(b);try{return r(b)}catch{try{return r.call(null,b)}catch{return r.call(this||ei,b)}}}var a=[],l=!1,u,c=-1;function d(){!l||!u||(l=!1,u.length?a=u.concat(a):c=-1,a.length&&f())}function f(){if(!l){var b=i(d);l=!0;for(var S=a.length;S;){for(u=a,a=[];++c<S;)u&&u[c].run();c=-1,S=a.length}u=null,l=!1,s(b)}}e.nextTick=function(b){var S=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)S[_-1]=arguments[_];a.push(new p(b,S)),a.length===1&&!l&&i(f)};function p(b,S){(this||ei).fun=b,(this||ei).array=S}p.prototype.run=function(){(this||ei).fun.apply(null,(this||ei).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function y(){}return e.on=y,e.addListener=y,e.once=y,e.off=y,e.removeListener=y,e.removeAllListeners=y,e.emit=y,e.prependListener=y,e.prependOnceListener=y,e.listeners=function(b){return[]},e.binding=function(b){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(b){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},ma}var ma,Td,ei,et,Pv=Dt(()=>{ge(),ve(),ye(),ma={},Td=!1,ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,et=qx(),et.platform="browser",et.addListener,et.argv,et.binding,et.browser,et.chdir,et.cwd,et.emit,et.env,et.listeners,et.nextTick,et.off,et.on,et.once,et.prependListener,et.prependOnceListener,et.removeAllListeners,et.removeListener,et.title,et.umask,et.version,et.versions});function Qx(){if(Pd)return ga;Pd=!0;var e=et;function t(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function r(i,s){for(var a="",l=0,u=-1,c=0,d,f=0;f<=i.length;++f){if(f<i.length)d=i.charCodeAt(f);else{if(d===47)break;d=47}if(d===47){if(!(u===f-1||c===1))if(u!==f-1&&c===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var p=a.lastIndexOf("/");if(p!==a.length-1){p===-1?(a="",l=0):(a=a.slice(0,p),l=a.length-1-a.lastIndexOf("/")),u=f,c=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=f,c=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+i.slice(u+1,f):a=i.slice(u+1,f),l=f-u-1;u=f,c=0}else d===46&&c!==-1?++c:c=-1}return a}function n(i,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+i+l:l}var o={resolve:function(){for(var i="",s=!1,a,l=arguments.length-1;l>=-1&&!s;l--){var u;l>=0?u=arguments[l]:(a===void 0&&(a=e.cwd()),u=a),t(u),u.length!==0&&(i=u+"/"+i,s=u.charCodeAt(0)===47)}return i=r(i,!s),s?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(t(i),i.length===0)return".";var s=i.charCodeAt(0)===47,a=i.charCodeAt(i.length-1)===47;return i=r(i,!s),i.length===0&&!s&&(i="."),i.length>0&&a&&(i+="/"),s?"/"+i:i},isAbsolute:function(i){return t(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,s=0;s<arguments.length;++s){var a=arguments[s];t(a),a.length>0&&(i===void 0?i=a:i+="/"+a)}return i===void 0?".":o.normalize(i)},relative:function(i,s){if(t(i),t(s),i===s||(i=o.resolve(i),s=o.resolve(s),i===s))return"";for(var a=1;a<i.length&&i.charCodeAt(a)===47;++a);for(var l=i.length,u=l-a,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var d=s.length,f=d-c,p=u<f?u:f,y=-1,b=0;b<=p;++b){if(b===p){if(f>p){if(s.charCodeAt(c+b)===47)return s.slice(c+b+1);if(b===0)return s.slice(c+b)}else u>p&&(i.charCodeAt(a+b)===47?y=b:b===0&&(y=0));break}var S=i.charCodeAt(a+b),_=s.charCodeAt(c+b);if(S!==_)break;S===47&&(y=b)}var m="";for(b=a+y+1;b<=l;++b)(b===l||i.charCodeAt(b)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+s.slice(c+y):(c+=y,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(i){return i},dirname:function(i){if(t(i),i.length===0)return".";for(var s=i.charCodeAt(0),a=s===47,l=-1,u=!0,c=i.length-1;c>=1;--c)if(s=i.charCodeAt(c),s===47){if(!u){l=c;break}}else u=!1;return l===-1?a?"/":".":a&&l===1?"//":i.slice(0,l)},basename:function(i,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(i);var a=0,l=-1,u=!0,c;if(s!==void 0&&s.length>0&&s.length<=i.length){if(s.length===i.length&&s===i)return"";var d=s.length-1,f=-1;for(c=i.length-1;c>=0;--c){var p=i.charCodeAt(c);if(p===47){if(!u){a=c+1;break}}else f===-1&&(u=!1,f=c+1),d>=0&&(p===s.charCodeAt(d)?--d===-1&&(l=c):(d=-1,l=f))}return a===l?l=f:l===-1&&(l=i.length),i.slice(a,l)}else{for(c=i.length-1;c>=0;--c)if(i.charCodeAt(c)===47){if(!u){a=c+1;break}}else l===-1&&(u=!1,l=c+1);return l===-1?"":i.slice(a,l)}},extname:function(i){t(i);for(var s=-1,a=0,l=-1,u=!0,c=0,d=i.length-1;d>=0;--d){var f=i.charCodeAt(d);if(f===47){if(!u){a=d+1;break}continue}l===-1&&(u=!1,l=d+1),f===46?s===-1?s=d:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||l===-1||c===0||c===1&&s===l-1&&s===a+1?"":i.slice(s,l)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return n("/",i)},parse:function(i){t(i);var s={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return s;var a=i.charCodeAt(0),l=a===47,u;l?(s.root="/",u=1):u=0;for(var c=-1,d=0,f=-1,p=!0,y=i.length-1,b=0;y>=u;--y){if(a=i.charCodeAt(y),a===47){if(!p){d=y+1;break}continue}f===-1&&(p=!1,f=y+1),a===46?c===-1?c=y:b!==1&&(b=1):c!==-1&&(b=-1)}return c===-1||f===-1||b===0||b===1&&c===f-1&&c===d+1?f!==-1&&(d===0&&l?s.base=s.name=i.slice(1,f):s.base=s.name=i.slice(d,f)):(d===0&&l?(s.name=i.slice(1,c),s.base=i.slice(1,f)):(s.name=i.slice(d,c),s.base=i.slice(d,f)),s.ext=i.slice(c,f)),d>0?s.dir=i.slice(0,d-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return o.posix=o,ga=o,ga}var ga,Pd,Id,Kx=Dt(()=>{ge(),ve(),ye(),Pv(),ga={},Pd=!1,Id=Qx()}),Iv={};yo(Iv,{URL:()=>Kv,Url:()=>zv,default:()=>ze,fileURLToPath:()=>Rv,format:()=>Vv,parse:()=>Qv,pathToFileURL:()=>Nv,resolve:()=>Hv,resolveObject:()=>qv});function or(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Ro(e,t,r){if(e&&mr.isObject(e)&&e instanceof or)return e;var n=new or;return n.parse(e,t,r),n}function Gx(){if(Rd)return ya;Rd=!0;var e=nt;function t(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function r(i,s){for(var a="",l=0,u=-1,c=0,d,f=0;f<=i.length;++f){if(f<i.length)d=i.charCodeAt(f);else{if(d===47)break;d=47}if(d===47){if(!(u===f-1||c===1))if(u!==f-1&&c===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var p=a.lastIndexOf("/");if(p!==a.length-1){p===-1?(a="",l=0):(a=a.slice(0,p),l=a.length-1-a.lastIndexOf("/")),u=f,c=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=f,c=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+i.slice(u+1,f):a=i.slice(u+1,f),l=f-u-1;u=f,c=0}else d===46&&c!==-1?++c:c=-1}return a}function n(i,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+i+l:l}var o={resolve:function(){for(var i="",s=!1,a,l=arguments.length-1;l>=-1&&!s;l--){var u;l>=0?u=arguments[l]:(a===void 0&&(a=e.cwd()),u=a),t(u),u.length!==0&&(i=u+"/"+i,s=u.charCodeAt(0)===47)}return i=r(i,!s),s?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(t(i),i.length===0)return".";var s=i.charCodeAt(0)===47,a=i.charCodeAt(i.length-1)===47;return i=r(i,!s),i.length===0&&!s&&(i="."),i.length>0&&a&&(i+="/"),s?"/"+i:i},isAbsolute:function(i){return t(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,s=0;s<arguments.length;++s){var a=arguments[s];t(a),a.length>0&&(i===void 0?i=a:i+="/"+a)}return i===void 0?".":o.normalize(i)},relative:function(i,s){if(t(i),t(s),i===s||(i=o.resolve(i),s=o.resolve(s),i===s))return"";for(var a=1;a<i.length&&i.charCodeAt(a)===47;++a);for(var l=i.length,u=l-a,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var d=s.length,f=d-c,p=u<f?u:f,y=-1,b=0;b<=p;++b){if(b===p){if(f>p){if(s.charCodeAt(c+b)===47)return s.slice(c+b+1);if(b===0)return s.slice(c+b)}else u>p&&(i.charCodeAt(a+b)===47?y=b:b===0&&(y=0));break}var S=i.charCodeAt(a+b),_=s.charCodeAt(c+b);if(S!==_)break;S===47&&(y=b)}var m="";for(b=a+y+1;b<=l;++b)(b===l||i.charCodeAt(b)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+s.slice(c+y):(c+=y,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(i){return i},dirname:function(i){if(t(i),i.length===0)return".";for(var s=i.charCodeAt(0),a=s===47,l=-1,u=!0,c=i.length-1;c>=1;--c)if(s=i.charCodeAt(c),s===47){if(!u){l=c;break}}else u=!1;return l===-1?a?"/":".":a&&l===1?"//":i.slice(0,l)},basename:function(i,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(i);var a=0,l=-1,u=!0,c;if(s!==void 0&&s.length>0&&s.length<=i.length){if(s.length===i.length&&s===i)return"";var d=s.length-1,f=-1;for(c=i.length-1;c>=0;--c){var p=i.charCodeAt(c);if(p===47){if(!u){a=c+1;break}}else f===-1&&(u=!1,f=c+1),d>=0&&(p===s.charCodeAt(d)?--d===-1&&(l=c):(d=-1,l=f))}return a===l?l=f:l===-1&&(l=i.length),i.slice(a,l)}else{for(c=i.length-1;c>=0;--c)if(i.charCodeAt(c)===47){if(!u){a=c+1;break}}else l===-1&&(u=!1,l=c+1);return l===-1?"":i.slice(a,l)}},extname:function(i){t(i);for(var s=-1,a=0,l=-1,u=!0,c=0,d=i.length-1;d>=0;--d){var f=i.charCodeAt(d);if(f===47){if(!u){a=d+1;break}continue}l===-1&&(u=!1,l=d+1),f===46?s===-1?s=d:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||l===-1||c===0||c===1&&s===l-1&&s===a+1?"":i.slice(s,l)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return n("/",i)},parse:function(i){t(i);var s={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return s;var a=i.charCodeAt(0),l=a===47,u;l?(s.root="/",u=1):u=0;for(var c=-1,d=0,f=-1,p=!0,y=i.length-1,b=0;y>=u;--y){if(a=i.charCodeAt(y),a===47){if(!p){d=y+1;break}continue}f===-1&&(p=!1,f=y+1),a===46?c===-1?c=y:b!==1&&(b=1):c!==-1&&(b=-1)}return c===-1||f===-1||b===0||b===1&&c===f-1&&c===d+1?f!==-1&&(d===0&&l?s.base=s.name=i.slice(1,f):s.base=s.name=i.slice(d,f)):(d===0&&l?(s.name=i.slice(1,c),s.base=i.slice(1,f)):(s.name=i.slice(d,c),s.base=i.slice(d,f)),s.ext=i.slice(c,f)),d>0?s.dir=i.slice(0,d-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return o.posix=o,ya=o,ya}function Yx(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return qa?Xx(e):Jx(e)}function Xx(e){let t=e.hostname,r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let o=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&o===102||r[n+1]==="5"&&o===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Bv,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let n=r.codePointAt(1)|32,o=r[2];if(n<Mv||n>Lv||o!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Jx(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Zx(e){let t=Nd.resolve(e),r=e.charCodeAt(e.length-1);(r===jv||qa&&r===Ov)&&t[t.length-1]!==Nd.sep&&(t+="/");let n=new URL("file://");return t.includes("%")&&(t=t.replace(Uv,"%25")),!qa&&t.includes("\\")&&(t=t.replace(Dv,"%5C")),t.includes(`
`)&&(t=t.replace(Fv,"%0A")),t.includes("\r")&&(t=t.replace($v,"%0D")),t.includes("	")&&(t=t.replace(Wv,"%09")),n.pathname=t,n}function Rv(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Qa?ek(e):tk(e)}function ek(e){let t=e.hostname,r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let o=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&o===102||r[n+1]==="5"&&o===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Zv,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let n=r.codePointAt(1)|32,o=r[2];if(n<Xv||n>Jv||o!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function tk(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Nv(e){let t=Id.resolve(e),r=e.charCodeAt(e.length-1);(r===Yv||Qa&&r===Gv)&&t[t.length-1]!==Id.sep&&(t+="/");let n=new URL("file://");return t.includes("%")&&(t=t.replace(ew,"%25")),!Qa&&t.includes("\\")&&(t=t.replace(tw,"%5C")),t.includes(`
`)&&(t=t.replace(rw,"%0A")),t.includes("\r")&&(t=t.replace(nw,"%0D")),t.includes("	")&&(t=t.replace(iw,"%09")),n.pathname=t,n}var ze,Wp,mr,zp,Vp,Hp,qp,qs,du,fu,hu,Qp,Kp,Qs,Xn,Ks,ya,Rd,Nd,Gp,Ov,jv,Mv,Lv,qa,Bv,Uv,Dv,Fv,$v,Wv,Yp,zv,Vv,Hv,qv,Qv,Kv,Gv,Yv,Xv,Jv,Qa,Zv,ew,tw,rw,nw,iw,rk=Dt(()=>{ge(),ve(),ye(),$x(),zx(),Hx(),Kx(),Pv(),ze={},Wp=wn,mr={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},ze.parse=Ro,ze.resolve=function(e,t){return Ro(e,!1,!0).resolve(t)},ze.resolveObject=function(e,t){return e?Ro(e,!1,!0).resolveObject(t):t},ze.format=function(e){return mr.isString(e)&&(e=Ro(e)),e instanceof or?e.format():or.prototype.format.call(e)},ze.Url=or,zp=/^([a-z0-9.+-]+:)/i,Vp=/:[0-9]*$/,Hp=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,qp=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),qs=["'"].concat(qp),du=["%","/","?",";","#"].concat(qs),fu=["/","?","#"],hu=/^[+a-z0-9A-Z_-]{0,63}$/,Qp=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Kp={javascript:!0,"javascript:":!0},Qs={javascript:!0,"javascript:":!0},Xn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ks=Cr,or.prototype.parse=function(e,t,r){if(!mr.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),o=n!==-1&&n<e.indexOf("#")?"?":"#",i=e.split(o);i[0]=i[0].replace(/\\/g,"/");var s=e=i.join(o);if(s=s.trim(),!r&&e.split("#").length===1){var a=Hp.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Ks.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=zp.exec(s);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=s.substr(0,2)==="//";!c||l&&Qs[l]||(s=s.substr(2),this.slashes=!0)}if(!Qs[l]&&(c||l&&!Xn[l])){for(var d,f,p=-1,y=0;y<fu.length;y++)(b=s.indexOf(fu[y]))!==-1&&(p===-1||b<p)&&(p=b);for((f=p===-1?s.lastIndexOf("@"):s.lastIndexOf("@",p))!==-1&&(d=s.slice(0,f),s=s.slice(f+1),this.auth=decodeURIComponent(d)),p=-1,y=0;y<du.length;y++){var b;(b=s.indexOf(du[y]))!==-1&&(p===-1||b<p)&&(p=b)}p===-1&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var _=this.hostname.split(/\./),m=(y=0,_.length);y<m;y++){var v=_[y];if(v&&!v.match(hu)){for(var k="",T=0,E=v.length;T<E;T++)v.charCodeAt(T)>127?k+="x":k+=v[T];if(!k.match(hu)){var C=_.slice(0,y),P=_.slice(y+1),V=v.match(Qp);V&&(C.push(V[1]),P.unshift(V[2])),P.length&&(s="/"+P.join(".")+s),this.hostname=C.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=Wp.toASCII(this.hostname));var Q=this.port?":"+this.port:"",oe=this.hostname||"";this.host=oe+Q,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Kp[u])for(y=0,m=qs.length;y<m;y++){var R=qs[y];if(s.indexOf(R)!==-1){var ee=encodeURIComponent(R);ee===R&&(ee=escape(R)),s=s.split(R).join(ee)}}var q=s.indexOf("#");q!==-1&&(this.hash=s.substr(q),s=s.slice(0,q));var $=s.indexOf("?");if($!==-1?(this.search=s.substr($),this.query=s.substr($+1),t&&(this.query=Ks.parse(this.query)),s=s.slice(0,$)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Xn[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Q=this.pathname||"";var he=this.search||"";this.path=Q+he}return this.href=this.format(),this},or.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&mr.isObject(this.query)&&Object.keys(this.query).length&&(i=Ks.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Xn[t])&&o!==!1?(o="//"+(o||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):o||(o=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+n},or.prototype.resolve=function(e){return this.resolveObject(Ro(e,!1,!0)).format()},or.prototype.resolveObject=function(e){if(mr.isString(e)){var t=new or;t.parse(e,!1,!0),e=t}for(var r=new or,n=Object.keys(this),o=0;o<n.length;o++){var i=n[o];r[i]=this[i]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(r[l]=e[l])}return Xn[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Xn[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var d=u[c];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Qs[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),f[0]!==""&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",y=r.search||"";r.path=p+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&r.pathname.charAt(0)==="/",S=e.host||e.pathname&&e.pathname.charAt(0)==="/",_=S||b||r.host&&e.pathname,m=_,v=r.pathname&&r.pathname.split("/")||[],k=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Xn[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(v[0]===""?v[0]=r.host:v.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(f[0]===""?f[0]=e.host:f.unshift(e.host)),e.host=null),_=_&&(f[0]===""||v[0]==="")),S)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,v=f;else if(f.length)v||(v=[]),v.pop(),v=v.concat(f),r.search=e.search,r.query=e.query;else if(!mr.isNullOrUndefined(e.search))return k&&(r.hostname=r.host=v.shift(),(V=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=V.shift(),r.host=r.hostname=V.shift())),r.search=e.search,r.query=e.query,mr.isNull(r.pathname)&&mr.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!v.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=v.slice(-1)[0],E=(r.host||e.host||v.length>1)&&(T==="."||T==="..")||T==="",C=0,P=v.length;P>=0;P--)(T=v[P])==="."?v.splice(P,1):T===".."?(v.splice(P,1),C++):C&&(v.splice(P,1),C--);if(!_&&!m)for(;C--;C)v.unshift("..");!_||v[0]===""||v[0]&&v[0].charAt(0)==="/"||v.unshift(""),E&&v.join("/").substr(-1)!=="/"&&v.push("");var V,Q=v[0]===""||v[0]&&v[0].charAt(0)==="/";return k&&(r.hostname=r.host=Q?"":v.length?v.shift():"",(V=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=V.shift(),r.host=r.hostname=V.shift())),(_=_||r.host&&v.length)&&!Q&&v.unshift(""),v.length?r.pathname=v.join("/"):(r.pathname=null,r.path=null),mr.isNull(r.pathname)&&mr.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},or.prototype.parseHost=function(){var e=this.host,t=Vp.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},ze.Url,ze.format,ze.resolve,ze.resolveObject,ya={},Rd=!1,Nd=Gx(),Gp=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ze.URL=typeof URL<"u"?URL:null,ze.pathToFileURL=Zx,ze.fileURLToPath=Yx,ze.Url,ze.format,ze.resolve,ze.resolveObject,ze.URL,Ov=92,jv=47,Mv=97,Lv=122,qa=Gp==="win32",Bv=/\//g,Uv=/%/g,Dv=/\\/g,Fv=/\n/g,$v=/\r/g,Wv=/\t/g,Yp=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ze.URL=typeof URL<"u"?URL:null,ze.pathToFileURL=Nv,ze.fileURLToPath=Rv,zv=ze.Url,Vv=ze.format,Hv=ze.resolve,qv=ze.resolveObject,Qv=ze.parse,Kv=ze.URL,Gv=92,Yv=47,Xv=97,Jv=122,Qa=Yp==="win32",Zv=/\//g,ew=/%/g,tw=/\\/g,rw=/\n/g,nw=/\r/g,iw=/\t/g}),nk=be((e,t)=>{ge(),ve(),ye(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Hf=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=n;var t=ki(),r=(bt(),He(wt));function n(i,s){let a=new Array(i.length);for(let l=0;l<i.length;l++)typeof i[l].chunk=="string"?a[l]=r.Buffer.from(i[l].chunk,"utf8"):a[l]=i[l].chunk;this._write(r.Buffer.concat(a),"binary",s)}var o=class extends t.Duplex{constructor(i,s,a){super({objectMode:!0}),this.proxy=s,this.socket=a,this.writeQueue=[],i.objectMode||(this._writev=n.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{!this.destroyed&&this.readable&&this.push(l)})}_read(i){this.proxy.read(i)}_write(i,s,a){this.isSocketOpen?this.writeToProxy(i,s,a):this.writeQueue.push({chunk:i,encoding:s,cb:a})}_final(i){this.writeQueue=[],this.proxy.end(i)}_destroy(i,s){this.writeQueue=[],this.proxy.destroy(),s(i)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(i,s,a){this.proxy.write(i,s)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:i,encoding:s,cb:a}=this.writeQueue.shift();this.writeToProxy(i,s,a)}}};e.BufferedDuplex=o}),Gs=be(e=>{ge(),ve(),ye();var t=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var r=(bt(),He(wt)),n=t(nk()),o=t(nn()),i=ki(),s=t(bl()),a=Hf(),l=(0,o.default)("mqttjs:ws"),u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(_,m){let v=`${_.protocol}://${_.hostname}:${_.port}${_.path}`;return typeof _.transformWsUrl=="function"&&(v=_.transformWsUrl(v,_,m)),v}function d(_){let m=_;return _.port||(_.protocol==="wss"?m.port=443:m.port=80),_.path||(m.path="/"),_.wsOptions||(m.wsOptions={}),!s.default&&!_.forceNativeWebSocket&&_.protocol==="wss"&&u.forEach(v=>{Object.prototype.hasOwnProperty.call(_,v)&&!Object.prototype.hasOwnProperty.call(_.wsOptions,v)&&(m.wsOptions[v]=_[v])}),m}function f(_){let m=d(_);if(m.hostname||(m.hostname=m.host),!m.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let v=new URL(document.URL);m.hostname=v.hostname,m.port||(m.port=Number(v.port))}return m.objectMode===void 0&&(m.objectMode=!(m.binary===!0||m.binary===void 0)),m}function p(_,m,v){l("createWebSocket"),l(`protocol: ${v.protocolId} ${v.protocolVersion}`);let k=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${m} and protocol: ${k}`);let T;return v.createWebsocket?T=v.createWebsocket(m,[k],v):T=new n.default(m,[k],v.wsOptions),T}function y(_,m){let v=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt",k=c(m,_),T;return m.createWebsocket?T=m.createWebsocket(k,[v],m):T=new WebSocket(k,[v]),T.binaryType="arraybuffer",T}var b=(_,m)=>{l("streamBuilder");let v=d(m);v.hostname=v.hostname||v.host||"localhost";let k=c(v,_),T=p(_,k,v),E=n.default.createWebSocketStream(T,v.wsOptions);return E.url=k,T.on("close",()=>{E.destroy()}),E};e.streamBuilder=b;var S=(_,m)=>{l("browserStreamBuilder");let v,k=f(m).browserBufferSize||1024*512,T=m.browserBufferTimeout||1e3,E=!m.objectMode,C=y(_,m),P=Q(m,$,he);m.objectMode||(P._writev=a.writev.bind(P)),P.on("close",()=>{C.close()});let V=typeof C.addEventListener<"u";C.readyState===C.OPEN?(v=P,v.socket=C):(v=new a.BufferedDuplex(m,P,C),V?C.addEventListener("open",oe):C.onopen=oe),V?(C.addEventListener("close",R),C.addEventListener("error",ee),C.addEventListener("message",q)):(C.onclose=R,C.onerror=ee,C.onmessage=q);function Q(pe,H,fe){let D=new i.Transform({objectMode:pe.objectMode});return D._write=H,D._flush=fe,D}function oe(){l("WebSocket onOpen"),v instanceof a.BufferedDuplex&&v.socketReady()}function R(pe){l("WebSocket onClose",pe),v.end(),v.destroy()}function ee(pe){l("WebSocket onError",pe);let H=new Error("WebSocket error");H.event=pe,v.destroy(H)}async function q(pe){if(!P||P.destroyed||!P.readable)return;let{data:H}=pe;H instanceof ArrayBuffer?H=r.Buffer.from(H):H instanceof Blob?H=r.Buffer.from(await new Response(H).arrayBuffer()):H=r.Buffer.from(H,"utf8"),P.push(H)}function $(pe,H,fe){if(C.bufferedAmount>k){setTimeout($,T,pe,H,fe);return}E&&typeof pe=="string"&&(pe=r.Buffer.from(pe,"utf8"));try{C.send(pe)}catch(D){return fe(D)}fe()}function he(pe){C.close(),pe()}return v};e.browserStreamBuilder=S}),qf={};yo(qf,{Server:()=>tt,Socket:()=>tt,Stream:()=>tt,_createServerHandle:()=>tt,_normalizeArgs:()=>tt,_setSimultaneousAccepts:()=>tt,connect:()=>tt,createConnection:()=>tt,createServer:()=>tt,default:()=>ow,isIP:()=>tt,isIPv4:()=>tt,isIPv6:()=>tt});function tt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var ow,sw=Dt(()=>{ge(),ve(),ye(),ow={_createServerHandle:tt,_normalizeArgs:tt,_setSimultaneousAccepts:tt,connect:tt,createConnection:tt,createServer:tt,isIP:tt,isIPv4:tt,isIPv6:tt,Server:tt,Socket:tt,Stream:tt}}),Xp=be(e=>{ge(),ve(),ye();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((sw(),He(qf))),n=t(nn()),o=(0,n.default)("mqttjs:tcp"),i=(s,a)=>{a.port=a.port||1883,a.hostname=a.hostname||a.host||"localhost";let{port:l,path:u}=a,c=a.hostname;return o("port %d and host %s",l,c),r.default.createConnection({port:l,host:c,path:u})};e.default=i}),aw={};yo(aw,{default:()=>lw});var lw,ik=Dt(()=>{ge(),ve(),ye(),lw={}}),Jp=be(e=>{ge(),ve(),ye();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((ik(),He(aw))),n=t((sw(),He(qf))),o=t(nn()),i=(0,o.default)("mqttjs:tls"),s=(a,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",n.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,i("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let u=r.default.connect(l);u.on("secureConnect",()=>{l.rejectUnauthorized&&!u.authorized?u.emit("error",new Error("TLS not authorized")):u.removeListener("error",c)});function c(d){l.rejectUnauthorized&&a.emit("error",d),u.end()}return u.on("error",c),u};e.default=s}),Zp=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=(bt(),He(wt)),r=ki(),n=Hf(),o,i,s;function a(){let f=new r.Transform;return f._write=(p,y,b)=>{o.send({data:p.buffer,success(){b()},fail(S){b(new Error(S))}})},f._flush=p=>{o.close({success(){p()}})},f}function l(f){f.hostname||(f.hostname="localhost"),f.path||(f.path="/"),f.wsOptions||(f.wsOptions={})}function u(f,p){let y=f.protocol==="wxs"?"wss":"ws",b=`${y}://${f.hostname}${f.path}`;return f.port&&f.port!==80&&f.port!==443&&(b=`${y}://${f.hostname}:${f.port}${f.path}`),typeof f.transformWsUrl=="function"&&(b=f.transformWsUrl(b,f,p)),b}function c(){o.onOpen(()=>{s.socketReady()}),o.onMessage(f=>{let{data:p}=f;p instanceof ArrayBuffer?p=t.Buffer.from(p):p=t.Buffer.from(p,"utf8"),i.push(p)}),o.onClose(()=>{s.emit("close"),s.end(),s.destroy()}),o.onError(f=>{let p=new Error(f.errMsg);s.destroy(p)})}var d=(f,p)=>{if(p.hostname=p.hostname||p.host,!p.hostname)throw new Error("Could not determine host. Specify host manually.");let y=p.protocolId==="MQIsdp"&&p.protocolVersion===3?"mqttv3.1":"mqtt";l(p);let b=u(p,f);o=wx.connectSocket({url:b,protocols:[y]}),i=a(),s=new n.BufferedDuplex(p,i,o),s._destroy=(_,m)=>{o.close({success(){m&&m(_)}})};let S=s.destroy;return s.destroy=(_,m)=>(s.destroy=S,setTimeout(()=>{o.close({fail(){s._destroy(_,m)}})},0),s),c(),s};e.default=d}),em=be(e=>{ge(),ve(),ye(),Object.defineProperty(e,"__esModule",{value:!0});var t=(bt(),He(wt)),r=ki(),n=Hf(),o,i,s,a=!1;function l(){let p=new r.Transform;return p._write=(y,b,S)=>{o.sendSocketMessage({data:y.buffer,success(){S()},fail(){S(new Error)}})},p._flush=y=>{o.closeSocket({success(){y()}})},p}function u(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function c(p,y){let b=p.protocol==="alis"?"wss":"ws",S=`${b}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(S=`${b}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(S=p.transformWsUrl(S,p,y)),S}function d(){a||(a=!0,o.onSocketOpen(()=>{s.socketReady()}),o.onSocketMessage(p=>{if(typeof p.data=="string"){let y=t.Buffer.from(p.data,"base64");i.push(y)}else{let y=new FileReader;y.addEventListener("load",()=>{let b=y.result;b instanceof ArrayBuffer?b=t.Buffer.from(b):b=t.Buffer.from(b,"utf8"),i.push(b)}),y.readAsArrayBuffer(p.data)}}),o.onSocketClose(()=>{s.end(),s.destroy()}),o.onSocketError(p=>{s.destroy(p)}))}var f=(p,y)=>{if(y.hostname=y.hostname||y.host,!y.hostname)throw new Error("Could not determine host. Specify host manually.");let b=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt";u(y);let S=c(y,p);return o=y.my,o.connectSocket({url:S,protocols:b}),i=l(),s=new n.BufferedDuplex(y,i,o),d(),s};e.default=f}),ok=be(e=>{ge(),ve(),ye();var t=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=c;var r=t(nn()),n=t((rk(),He(Iv))),o=t(xd()),i=t(bl());typeof($e==null?void 0:$e.nextTick)!="function"&&($e.nextTick=setImmediate);var s=(0,r.default)("mqttjs"),a=null;function l(d){let f;d.auth&&(f=d.auth.match(/^(.+):(.+)$/),f?(d.username=f[1],d.password=f[2]):d.username=d.auth)}function u(d,f){var p,y,b;if(s("connecting to an MQTT broker..."),typeof d=="object"&&!f&&(f=d,d=""),f=f||{},d&&typeof d=="string"){let m=n.default.parse(d,!0),v={};if(m.port!=null&&(v.port=Number(m.port)),v.host=m.hostname,v.query=m.query,v.auth=m.auth,v.protocol=m.protocol,v.path=m.path,f=Object.assign(Object.assign({},v),f),!f.protocol)throw new Error("Missing protocol");f.protocol=f.protocol.replace(/:$/,"")}if(f.unixSocket=f.unixSocket||((p=f.protocol)===null||p===void 0?void 0:p.includes("+unix")),f.unixSocket?f.protocol=f.protocol.replace("+unix",""):!(!((y=f.protocol)===null||y===void 0)&&y.startsWith("ws"))&&!(!((b=f.protocol)===null||b===void 0)&&b.startsWith("wx"))&&delete f.path,l(f),f.query&&typeof f.query.clientId=="string"&&(f.clientId=f.query.clientId),f.cert&&f.key)if(f.protocol){if(["mqtts","wss","wxs","alis"].indexOf(f.protocol)===-1)switch(f.protocol){case"mqtt":f.protocol="mqtts";break;case"ws":f.protocol="wss";break;case"wx":f.protocol="wxs";break;case"ali":f.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${f.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!i.default&&!f.forceNativeWebSocket?(a.ws=Gs().streamBuilder,a.wss=Gs().streamBuilder,a.mqtt=Xp().default,a.tcp=Xp().default,a.ssl=Jp().default,a.tls=a.ssl,a.mqtts=Jp().default):(a.ws=Gs().browserStreamBuilder,a.wss=Gs().browserStreamBuilder,a.wx=Zp().default,a.wxs=Zp().default,a.ali=em().default,a.alis=em().default)),!a[f.protocol]){let m=["mqtts","wss"].indexOf(f.protocol)!==-1;f.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((v,k)=>m&&k%2===0?!1:typeof a[v]=="function")[0]}if(f.clean===!1&&!f.clientId)throw new Error("Missing clientId for unclean clients");f.protocol&&(f.defaultProtocol=f.protocol);function S(m){return f.servers&&((!m._reconnectCount||m._reconnectCount===f.servers.length)&&(m._reconnectCount=0),f.host=f.servers[m._reconnectCount].host,f.port=f.servers[m._reconnectCount].port,f.protocol=f.servers[m._reconnectCount].protocol?f.servers[m._reconnectCount].protocol:f.defaultProtocol,f.hostname=f.host,m._reconnectCount++),s("calling streambuilder for",f.protocol),a[f.protocol](m,f)}let _=new o.default(S,f);return _.on("error",()=>{}),_}function c(d,f,p=!0){return new Promise((y,b)=>{let S=u(d,f),_={connect:v=>{m(),y(S)},end:()=>{m(),y(S)},error:v=>{m(),S.end(),b(v)}};p===!1&&(_.close=()=>{_.error(new Error("Couldn't connect to server"))});function m(){Object.keys(_).forEach(v=>{S.off(v,_[v])})}Object.keys(_).forEach(v=>{S.on(v,_[v])})})}e.default=u}),tm=be(e=>{ge(),ve(),ye();var t=e&&e.__createBinding||(Object.create?function(p,y,b,S){S===void 0&&(S=b);var _=Object.getOwnPropertyDescriptor(y,b);(!_||("get"in _?!y.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return y[b]}}),Object.defineProperty(p,S,_)}:function(p,y,b,S){S===void 0&&(S=b),p[S]=y[b]}),r=e&&e.__setModuleDefault||(Object.create?function(p,y){Object.defineProperty(p,"default",{enumerable:!0,value:y})}:function(p,y){p.default=y}),n=e&&e.__importStar||function(){var p=function(y){return p=Object.getOwnPropertyNames||function(b){var S=[];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(S[S.length]=_);return S},p(y)};return function(y){if(y&&y.__esModule)return y;var b={};if(y!=null)for(var S=p(y),_=0;_<S.length;_++)S[_]!=="default"&&t(b,y,S[_]);return r(b,y),b}}(),o=e&&e.__exportStar||function(p,y){for(var b in p)b!=="default"&&!Object.prototype.hasOwnProperty.call(y,b)&&t(y,p,b)},i=e&&e.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var s=i(xd());e.MqttClient=s.default;var a=i(av());e.DefaultMessageIdProvider=a.default;var l=i(Fx());e.UniqueMessageIdProvider=l.default;var u=i(lv());e.Store=u.default;var c=n(ok());e.connect=c.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var d=i(xv());e.KeepaliveManager=d.default,e.Client=s.default,o(xd(),e),o(wo(),e);var f=wl();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return f.ReasonCodes}})}),sk=be(e=>{ge(),ve(),ye();var t=e&&e.__createBinding||(Object.create?function(s,a,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(a,l);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,u,c)}:function(s,a,l,u){u===void 0&&(u=l),s[u]=a[l]}),r=e&&e.__setModuleDefault||(Object.create?function(s,a){Object.defineProperty(s,"default",{enumerable:!0,value:a})}:function(s,a){s.default=a}),n=e&&e.__importStar||function(){var s=function(a){return s=Object.getOwnPropertyNames||function(l){var u=[];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[u.length]=c);return u},s(a)};return function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var u=s(a),c=0;c<u.length;c++)u[c]!=="default"&&t(l,a,u[c]);return r(l,a),l}}(),o=e&&e.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,s,l)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(tm());e.default=i,o(tm(),e)});const ak=sk();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/const rm={protocol:"ws",host:"localhost",port:8883,options:{username:null,password:null,clientId:`bess_emulator_${Math.random().toString(16).substring(2,8)}`},qos:2,requestTopic:"/modbus/BESS-01/request",responseTopic:"/modbus/BESS-01/response"};class lk{constructor(t,r,n){this.client=null,this.messageCounter=0,this.settings=t,this.messageCallback=r,this.requestHandler=n}connect(){return new Promise((t,r)=>{this.client&&this.disconnect();try{const n=`${this.settings.protocol}://${this.settings.host}:${this.settings.port}`,{username:o,password:i,clientId:s,...a}=this.settings.options,l={...a,clean:!0,reconnectPeriod:5e3};o&&(l.username=o),i&&(l.password=i),s&&(l.clientId=s),this.client=ak.connect(n,l),this.client.on("connect",()=>{this.addToLog("CONNECT","","Connected to MQTT broker"),this.subscribe(),t(!0)}),this.client.on("error",u=>{this.addToLog("ERROR","",`Connection error: ${u.message}`),r(u)}),this.client.on("close",()=>{this.addToLog("DISCONNECT","","Disconnected from MQTT broker")}),this.client.on("message",(u,c)=>{const d=c.toString();if(this.addToLog("RECEIVED",u,d),u===this.settings.requestTopic)try{const f=JSON.parse(d),p=this.requestHandler(f);this.publish(this.settings.responseTopic,JSON.stringify(p))}catch(f){console.error("Error processing Modbus request:",f)}})}catch(n){r(n)}})}disconnect(){this.client&&this.client.connected&&(this.client.end(!0),this.client=null)}subscribe(){this.client&&this.client.connected&&this.client.subscribe(this.settings.requestTopic,{qos:this.settings.qos},t=>{t?this.addToLog("ERROR",this.settings.requestTopic,`Subscribe error: ${t.message}`):this.addToLog("SUBSCRIBE",this.settings.requestTopic,"Subscribed to topic")})}publish(t,r){this.client&&this.client.connected?this.client.publish(t,r,{qos:this.settings.qos},n=>{n?this.addToLog("ERROR",t,`Publish error: ${n.message}`):this.addToLog("SENT",t,r)}):this.addToLog("ERROR",t,"Client not connected")}updateSettings(t){this.settings=t,this.client&&this.client.connected&&(this.disconnect(),this.connect().catch(console.error))}addToLog(t,r,n){const o=new Date().toLocaleTimeString();this.messageCounter++;const i=`${Date.now()}_${this.messageCounter}`;this.messageCallback({id:i,topic:r,payload:n,time:o,type:t})}isConnected(){return!!(this.client&&this.client.connected)}}const uk=(e,t)=>{if(!e.simulation||e.simulation.type==="static")return typeof e.value=="number"?e.value:parseFloat(e.value.toString())||0;const r=typeof e.value=="number"?e.value:parseFloat(e.value.toString())||0,n=e.simulation.params||{};switch(e.simulation.type){case"random":{const o=n.min!==void 0?n.min:r*.9,i=n.max!==void 0?n.max:r*1.1;return Math.round(Math.random()*(i-o)+o)}case"increment":{const o=n.increment!==void 0?n.increment:1,i=n.max!==void 0?n.max:r*2,s=n.min!==void 0?n.min:0,a=r+o;return a>i?s:a}case"sine":{const o=t/1e3,i=n.frequency!==void 0?n.frequency:.1,s=n.amplitude!==void 0?n.amplitude:r*.1,a=n.offset!==void 0?n.offset:r;return Math.round(a+s*Math.sin(o*i*2*Math.PI))}default:return r}},nm=[{parameter:"System State",value:1,registerAddress:"0000",readWrite:"W/R",isUpdated:!1,disabled:!1,options:[{value:0,text:"0 - Standby"},{value:1,text:"1 - Operational"},{value:2,text:"2 - Fault"},{value:3,text:"3 - Maintenance"}]},{parameter:"Grid Connection",value:1,registerAddress:"0001",readWrite:"R",isUpdated:!1,disabled:!1,options:[{value:0,text:"0 - Disconnected"},{value:1,text:"1 - Connected"}]},{parameter:"Fault Code",value:0,registerAddress:"0002",readWrite:"R",isUpdated:!1,disabled:!1,options:[{value:0,text:"0 - None"},{value:1,text:"1 - Overtemperature"},{value:2,text:"2 - Grid Failure"},{value:3,text:"3 - Inverter Fault"},{value:4,text:"4 - Communication Error"}]},{parameter:"Battery State of Charge",value:75,registerAddress:"0003",readWrite:"R",isUpdated:!1,disabled:!1},{parameter:"Battery Voltage",value:48.2,registerAddress:"0004",readWrite:"R",isUpdated:!1,disabled:!1},{parameter:"Battery Current",value:12.5,registerAddress:"0005",readWrite:"R",isUpdated:!1,disabled:!1},{parameter:"Power Output",value:3200,registerAddress:"0006",readWrite:"R",isUpdated:!1,disabled:!1},{parameter:"Energy Imported",value:250,registerAddress:"0007",readWrite:"R",isUpdated:!1,disabled:!1},{parameter:"Energy Exported",value:120,registerAddress:"0008",readWrite:"R",isUpdated:!1,disabled:!1},{parameter:"Cell Temperature",value:25,registerAddress:"0009",readWrite:"R",isUpdated:!1,disabled:!1},{parameter:"Operation Mode",value:0,registerAddress:"000A",readWrite:"W/R",isUpdated:!1,disabled:!1,options:[{value:0,text:"0 - Automatic"},{value:1,text:"1 - Charging Only"},{value:2,text:"2 - Discharging Only"},{value:3,text:"3 - Standby Mode"}]},{parameter:"Power Flow Direction",value:0,registerAddress:"000B",readWrite:"R",isUpdated:!1,disabled:!1,options:[{value:0,text:"0 - Idle"},{value:1,text:"1 - Charging"},{value:2,text:"2 - Discharging"}]},{parameter:"Max Charge Current",value:20,registerAddress:"000C",readWrite:"W/R",isUpdated:!1,disabled:!1},{parameter:"Max Discharge Current",value:20,registerAddress:"000D",readWrite:"W/R",isUpdated:!1,disabled:!1},{parameter:"Min SoC Limit",value:20,registerAddress:"000E",readWrite:"W/R",isUpdated:!1,disabled:!1},{parameter:"Max SoC Limit",value:90,registerAddress:"000F",readWrite:"W/R",isUpdated:!1,disabled:!1},{parameter:"PCS Alarm Word 1",value:0,registerAddress:"0406",readWrite:"W/R",isUpdated:!1,disabled:!1,isBitField:!0,bitDescription:[{bit:0,description:"Inverter overcurrent",normalState:"Normal",abnormalState:"Overcurrent"},{bit:1,description:"Wave-by-wave current limiting fault",normalState:"Normal",abnormalState:"Fault"},{bit:2,description:"Converter failure",normalState:"Normal",abnormalState:"Fault"},{bit:3,description:"Battery voltage is low",normalState:"Normal",abnormalState:"Low Voltage"},{bit:4,description:"Battery charging not allowed",normalState:"Normal",abnormalState:"Not Allowed"},{bit:5,description:"Parallel communication failure",normalState:"Normal",abnormalState:"Failure"},{bit:6,description:"DC bus overvoltage",normalState:"Normal",abnormalState:"Overvoltage"},{bit:7,description:"DC bus short circuit",normalState:"Normal",abnormalState:"Short Circuit"},{bit:8,description:"Output contactor open circuit",normalState:"Normal",abnormalState:"Open Circuit"},{bit:9,description:"Output contactor short circuit",normalState:"Normal",abnormalState:"Short Circuit"},{bit:10,description:"Converter over temperature",normalState:"Normal",abnormalState:"Overtemperature"},{bit:11,description:"Output overload",normalState:"Normal",abnormalState:"Overload"},{bit:12,description:"Battery reverse connection fault",normalState:"Normal",abnormalState:"Reverse Connection"},{bit:13,description:"DC Contactor failure",normalState:"Normal",abnormalState:"Failure"},{bit:14,description:"BMS Communication failure",normalState:"Normal",abnormalState:"Failure"},{bit:15,description:"Inverter phase failure",normalState:"Normal",abnormalState:"Failure"}]},{parameter:"PCS Alarm Word 2",value:0,registerAddress:"0407",readWrite:"W/R",isUpdated:!1,disabled:!1,isBitField:!0,bitDescription:[{bit:0,description:"Grid overvoltage",normalState:"Normal",abnormalState:"Overvoltage"},{bit:1,description:"Grid undervoltage",normalState:"Normal",abnormalState:"Undervoltage"},{bit:2,description:"The phase sequence of the power grid is reversed",normalState:"Normal",abnormalState:"Reversed"},{bit:3,description:"Abnormal power grid frequency",normalState:"Normal",abnormalState:"Abnormal"},{bit:4,description:"Converter islanding effect protection",normalState:"Normal",abnormalState:"Active"},{bit:5,description:"Drive line failure",normalState:"Normal",abnormalState:"Failure"},{bit:6,description:"Lightning protection failure",normalState:"Normal",abnormalState:"Failure"},{bit:7,description:"Abnormal insulation resistance",normalState:"Normal",abnormalState:"Abnormal"},{bit:8,description:"Battery discharge is not allowed",normalState:"Normal",abnormalState:"Not Allowed"},{bit:9,description:"Inverter overvoltage fault",normalState:"Normal",abnormalState:"Fault"},{bit:10,description:"15V electricity failure",normalState:"Normal",abnormalState:"Failure"},{bit:11,description:"AC fan failure",normalState:"Normal",abnormalState:"Failure"},{bit:12,description:"Battery failure",normalState:"Normal",abnormalState:"Failure"},{bit:13,description:"Emergency shutdown",normalState:"Normal",abnormalState:"Shutdown"},{bit:14,description:"Converter out of sync",normalState:"Normal",abnormalState:"Out of Sync"},{bit:15,description:"CT Or Hall open circuit fault",normalState:"Normal",abnormalState:"Fault"}]},{parameter:"PCS Alarm Word 3 (reserved)",value:0,registerAddress:"0408",readWrite:"W/R",isUpdated:!1,disabled:!1,isBitField:!0,bitDescription:[{bit:0,description:"Reserved",normalState:"Normal",abnormalState:"Fault"},{bit:1,description:"Converter alarm summary",normalState:"Normal",abnormalState:"Alarm"},{bit:2,description:"Converter power-on status",normalState:"Shut down",abnormalState:"Turned On"},{bit:3,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:4,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:5,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:6,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:7,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:8,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:9,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:10,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:11,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:12,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:13,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:14,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:15,description:"Reserved",normalState:"Normal",abnormalState:"Active"}]},{parameter:"PCS Switch Status Word",value:0,registerAddress:"0409",readWrite:"W/R",isUpdated:!1,disabled:!1,isBitField:!0,bitDescription:[{bit:0,description:"DC input circuit breaker status",normalState:"Disconnected",abnormalState:"Closed"},{bit:1,description:"DC contactor status",normalState:"Open",abnormalState:"Closed"},{bit:2,description:"Output circuit breaker status",normalState:"Open",abnormalState:"Closed"},{bit:3,description:"Output contactor status",normalState:"Disconnected",abnormalState:"Closed"},{bit:4,description:"Grid circuit breaker status",normalState:"Disconnected",abnormalState:"Closed"},{bit:5,description:"Grid contactor status",normalState:"Disconnected",abnormalState:"Closed"},{bit:6,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:7,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:8,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:9,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:10,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:11,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:12,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:13,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:14,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:15,description:"Reserved",normalState:"Normal",abnormalState:"Active"}]},{parameter:"PCS Status Word",value:0,registerAddress:"040A",readWrite:"W/R",isUpdated:!1,disabled:!1,isBitField:!0,bitDescription:[{bit:0,description:"Converter start-up permission",normalState:"Not allowed",abnormalState:"Allowed"},{bit:1,description:"DC soft start state bit 1",normalState:"Normal",abnormalState:"Active"},{bit:2,description:"DC soft start state bit 2",normalState:"Normal",abnormalState:"Active"},{bit:3,description:"Converter status bit 1",normalState:"Normal",abnormalState:"Active"},{bit:4,description:"Converter status bit 2",normalState:"Normal",abnormalState:"Active"},{bit:5,description:"Converter status bit 3",normalState:"Normal",abnormalState:"Active"},{bit:6,description:"Reactive power adjust method bit 1",normalState:"Normal",abnormalState:"Active"},{bit:7,description:"Reactive power adjust method bit 2",normalState:"Normal",abnormalState:"Active"},{bit:8,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:9,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:10,description:"Inverter control method bit 1",normalState:"Normal",abnormalState:"Active"},{bit:11,description:"Inverter control method bit 2",normalState:"Normal",abnormalState:"Active"},{bit:12,description:"Inverter control method bit 3",normalState:"Normal",abnormalState:"Active"},{bit:13,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:14,description:"Converter status 2 bit 1",normalState:"Normal",abnormalState:"Active"},{bit:15,description:"Converter status 2 bit 2",normalState:"Normal",abnormalState:"Active"}]},{parameter:"Peripheral Status",value:0,registerAddress:"040B",readWrite:"W/R",isUpdated:!1,disabled:!1,isBitField:!0,bitDescription:[{bit:0,description:"Diesel hair dry contact",normalState:"Closed",abnormalState:"Start Up"},{bit:1,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:2,description:"Reserved",normalState:"Normal",abnormalState:"Active"},{bit:3,description:"Dry contact shutdown 1",normalState:"Invalid",abnormalState:"Efficient"},{bit:4,description:"Dry contact shutdown 2",normalState:"Invalid",abnormalState:"Valid"},{bit:5,description:"Access control",normalState:"Normal",abnormalState:"Alarm"},{bit:6,description:"Peak FM signal",normalState:"Invalid",abnormalState:"Efficient"},{bit:7,description:"Smoke alarm",normalState:"Normal",abnormalState:"Alarm"},{bit:8,description:"Temperature alarm (fire alarm)",normalState:"Normal",abnormalState:"Alarm"},{bit:9,description:"Flood warning",normalState:"Normal",abnormalState:"Alarm"},{bit:10,description:"Reserved",normalState:"Normal",abnormalState:"Alarm"},{bit:11,description:"Reserved",normalState:"Normal",abnormalState:"Alarm"},{bit:12,description:"Reserved",normalState:"Normal",abnormalState:"Alarm"},{bit:13,description:"Reserved",normalState:"Normal",abnormalState:"Alarm"},{bit:14,description:"Reserved",normalState:"Normal",abnormalState:"Alarm"},{bit:15,description:"Reserved",normalState:"Normal",abnormalState:"Alarm"}]}],ck=(e,t)=>{try{if(!e||typeof e.fc!="number"||typeof e.address!="number")throw new Error("Invalid Modbus request format");const r=e.fc,n=e.address,o=e.quantity||1;if(r===3){const i=[];for(let s=0;s<o;s++){const l=(n+s).toString(16).padStart(4,"0").toUpperCase(),u=t.find(c=>c.registerAddress===l);if(u){const c=typeof u.value=="number"?u.value:parseInt(u.value.toString(),10);i.push(isNaN(c)?0:c)}else i.push(0)}return{id:e.id,fc:r,data:i}}else if(r===6){const i=n.toString(16).padStart(4,"0").toUpperCase(),s=t.findIndex(a=>a.registerAddress===i);if(s>=0&&t[s].readWrite.includes("W")){const a=e.value;return t[s]={...t[s],value:a,isUpdated:!0},{id:e.id,fc:r,address:n,value:a}}else return{id:e.id,fc:134,errorCode:2}}else if(r===16){const i=e.values;if(!Array.isArray(i))throw new Error("Values must be an array for function code 16");const s=0;for(let a=0;a<i.length;a++){const u=(n+a).toString(16).padStart(4,"0").toUpperCase(),c=t.findIndex(d=>d.registerAddress===u);c>=0&&t[c].readWrite.includes("W")&&(t[c]={...t[c],value:i[a],isUpdated:!0})}return{id:e.id,fc:r,address:n,quantity:i.length}}else return{id:e.id,fc:128+r,errorCode:1}}catch(r){return console.error("Error processing Modbus request:",r),{id:e.id||0,fc:128,errorCode:4}}},im=()=>{const[e,t]=te.useState(()=>{const Z=localStorage.getItem("mqtt_settings");return Z?JSON.parse(Z):rm}),[r,n]=te.useState([]),[o,i]=te.useState(!1),[s,a]=te.useState(null),[l,u]=te.useState(!0),[c,d]=te.useState(()=>{const Z=localStorage.getItem("bess_settings");return Z?JSON.parse(Z):{serial:"BESS-01",modbusAddress:1}}),[f,p]=te.useState(()=>{const Z=localStorage.getItem("modbus_registers");return Z?JSON.parse(Z):nm}),[y,b]=te.useState("operational"),[S,_]=te.useState(75),[m,v]=te.useState("charging"),[k,T]=te.useState(3200),[E,C]=te.useState("connected"),[P,V]=te.useState("none"),[Q,oe]=te.useState("auto"),[R,ee]=te.useState(!1),[q,$]=te.useState({type:"static",updateInterval:10,variationRange:5,targetRegister:"all"}),[he,pe]=te.useState(Date.now()),H=te.useCallback(Z=>{n(ne=>[...ne,Z])},[]),fe=te.useCallback(Z=>ck(Z,f),[f]);te.useEffect(()=>{const Z=new lk(e,H,fe);return a(Z),Z.connect().then(()=>i(!0)).catch(()=>i(!1)),()=>{Z.disconnect()}},[e,H,fe]),te.useEffect(()=>{localStorage.setItem("mqtt_settings",JSON.stringify(e))},[e]),te.useEffect(()=>{localStorage.setItem("bess_settings",JSON.stringify(c))},[c]),te.useEffect(()=>{localStorage.setItem("modbus_registers",JSON.stringify(f))},[f]),te.useEffect(()=>{const Z=f.find(ie=>ie.parameter==="System State");if(Z){const ie=Number(Z.value);b(ie===0?"standby":ie===1?"operational":ie===2?"fault":"maintenance")}const ne=f.find(ie=>ie.parameter==="Battery State of Charge");ne&&_(Number(ne.value));const j=f.find(ie=>ie.parameter==="Power Flow Direction");if(j){const ie=Number(j.value);v(ie===0?"idle":ie===1?"charging":"discharging")}const B=f.find(ie=>ie.parameter==="Power Output");B&&T(Number(B.value));const J=f.find(ie=>ie.parameter==="Grid Connection");J&&C(Number(J.value)===1?"connected":"disconnected");const ae=f.find(ie=>ie.parameter==="Fault Code");if(ae){const ie=Number(ae.value);V(ie===0?"none":ie===1?"overtemperature":ie===2?"grid_failure":ie===3?"inverter_fault":"communication_error")}const ue=f.find(ie=>ie.parameter==="Operation Mode");if(ue){const ie=Number(ue.value);oe(ie===0?"auto":ie===1?"charge":ie===2?"discharge":"standby")}},[f]),te.useEffect(()=>{if(!R)return;const Z=setInterval(()=>{const j=Date.now()-he;p(B=>B.map(J=>{if(J.simulation&&J.simulation.type!=="static"&&(q.targetRegister==="all"||J.registerAddress===q.targetRegister)){const ae=uk(J,j);return{...J,value:ae,isUpdated:!0}}return{...J,isUpdated:!1}}))},q.updateInterval*1e3);return()=>clearInterval(Z)},[R,q,he]);const D=async()=>{if(s)try{await s.connect(),i(!0)}catch(Z){console.error("Failed to connect to MQTT broker:",Z),i(!1)}},se=()=>{s&&(s.disconnect(),i(!1))},O=Z=>{t(Z),s&&s.updateSettings(Z)},ce=()=>{n([])},we=Z=>{d(ne=>({...ne,serial:Z.target.value}))},W=()=>{const Z={bessSettings:c,mqttSettings:e,modbusRegisters:f},ne=new Blob([JSON.stringify(Z,null,2)],{type:"application/json"}),j=URL.createObjectURL(ne),B=document.createElement("a");B.href=j,B.download=`bess_config_${c.serial}.json`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(j)},Te=Z=>{var B;const ne=(B=Z.target.files)==null?void 0:B[0];if(!ne)return;const j=new FileReader;j.onload=J=>{var ae;try{const ue=(ae=J.target)==null?void 0:ae.result,ie=JSON.parse(ue);ie.bessSettings&&d(ie.bessSettings),ie.mqttSettings&&t(ie.mqttSettings),ie.modbusRegisters&&p(ie.modbusRegisters)}catch(ue){console.error("Failed to parse configuration file:",ue)}},j.readAsText(ne),Z.target.value=""},X=()=>{window.confirm("Are you sure you want to reset all settings to default?")&&(d({serial:"BESS-01",modbusAddress:1}),t(rm),p(nm))},U=Z=>{const ne=f.findIndex(j=>j.parameter==="Fault Code");if(ne>=0){const j=Z==="overtemperature"?1:Z==="grid_failure"?2:Z==="inverter_fault"?3:Z==="communication_error"?4:0,B=[...f];if(B[ne]={...B[ne],value:j,isUpdated:!0},Z==="grid_failure"){const ae=f.findIndex(ue=>ue.parameter==="Grid Connection");ae>=0&&(B[ae]={...B[ae],value:0,isUpdated:!0})}const J=f.findIndex(ae=>ae.parameter==="System State");J>=0&&(B[J]={...B[J],value:2,isUpdated:!0}),p(B)}},le=()=>{const Z=[...f],ne=Z.findIndex(J=>J.parameter==="Fault Code");ne>=0&&(Z[ne]={...Z[ne],value:0,isUpdated:!0});const j=Z.findIndex(J=>J.parameter==="System State");j>=0&&(Z[j]={...Z[j],value:1,isUpdated:!0});const B=Z.findIndex(J=>J.parameter==="Grid Connection");B>=0&&(Z[B]={...Z[B],value:1,isUpdated:!0}),p(Z)},K=Z=>{const ne=f.findIndex(j=>j.parameter==="Operation Mode");if(ne>=0){const j=Z==="auto"?0:Z==="charge"?1:Z==="discharge"?2:3,B=[...f];B[ne]={...B[ne],value:j,isUpdated:!0},p(B)}},G=Z=>{$(Z),pe(Date.now()),ee(!0)},Y=()=>{ee(!1)};return I.jsxs("div",{className:"container mx-auto px-4 py-6",children:[I.jsx("header",{className:"mb-6",children:I.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center bg-white shadow rounded-lg p-4",children:[I.jsxs("div",{children:[I.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["MQTT BESS Emulator -",I.jsx("input",{type:"text",value:c.serial,onChange:we,placeholder:"Enter Serial Number",className:"border-b border-gray-300 focus:border-blue-500 focus:outline-none text-lg px-2 w-56"})]}),I.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Modbus Address: ",I.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:c.modbusAddress})]})]}),I.jsx("div",{className:"mt-4 md:mt-0 flex items-center",children:I.jsxs("div",{className:`px-4 py-2 rounded-md flex items-center ${o?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[I.jsx("i",{className:"fas fa-circle mr-2 animate-pulse"}),o?"MQTT Connected":"MQTT Disconnected",!o&&I.jsxs("button",{className:"ml-3 bg-white text-red-600 px-2 py-1 rounded text-xs hover:bg-gray-100 transition",onClick:D,children:[I.jsx("i",{className:"fas fa-sync-alt mr-1"})," Reconnect"]})]})})]})}),I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[I.jsx(NE,{systemState:y,batterySOC:S,powerFlow:m,powerValue:k,gridConnection:E,faultCode:P}),I.jsx(OE,{operationMode:Q,changeOperationMode:K,simulateAnomaly:U,resetSystem:le,simulateAlarmRegister:(Z,ne)=>{const j=f.findIndex(B=>B.registerAddress===Z);if(j>=0){const B=[...f];B[j]={...B[j],value:ne,isUpdated:!0},p(B)}}}),I.jsx(jE,{simulationActive:R,simulationConfig:q,startSimulation:G,stopSimulation:Y})]}),I.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[I.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[I.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"MQTT Terminal"}),I.jsxs("div",{className:"flex space-x-2",children:[I.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:ce,children:I.jsx("i",{className:"fas fa-trash"})}),I.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>u(!l),children:I.jsx("i",{className:"fas fa-cog"})})]})]}),l&&I.jsx(RE,{settings:e,isConnected:o,onUpdateSettings:O,onConnect:D,onDisconnect:se}),I.jsx(IE,{messages:r})]}),I.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[I.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[I.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Modbus Registers"}),I.jsxs("div",{className:"flex space-x-2",children:[I.jsxs("button",{className:"text-sm bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded transition flex items-center",onClick:W,children:[I.jsx("i",{className:"fas fa-file-export mr-1"})," Export"]}),I.jsxs("label",{className:"text-sm bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded transition flex items-center cursor-pointer",children:[I.jsx("i",{className:"fas fa-file-import mr-1"})," Import",I.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:Te})]}),I.jsxs("button",{className:"text-sm bg-gray-500 hover:bg-gray-600 text-white py-1 px-3 rounded transition flex items-center",onClick:X,children:[I.jsx("i",{className:"fas fa-rotate-left mr-1"})," Default"]})]})]}),I.jsx(LE,{registers:f,onUpdate:p,simulationActive:R})]})]})};function dk(){return I.jsxs(m_,{children:[I.jsx(dp,{path:"/",component:im}),I.jsx(dp,{component:im})]})}function fk(){return I.jsxs(D_,{client:W_,children:[I.jsx(dk,{}),I.jsx(PE,{})]})}Cy(document.getElementById("root")).render(I.jsx(fk,{}));
