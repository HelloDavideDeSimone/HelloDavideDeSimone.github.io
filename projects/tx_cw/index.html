<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-38990246-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-38990246-2');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel='shortcut icon' type='image/x-icon' href='../../favicon.ico' />
    <link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
    <link rel="manifest" href="../../site.webmanifest">

    <title>CW Transmitter | Davide De Simone</title>
    <link rel="stylesheet" href="../../css/bootstrap.min.css" >
    <link rel="stylesheet" href="../../css/custom_home_style.css" >
    <style>body{padding-top: 120px;}</style>
</head>
<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../js/bootstrap.min.js" ></script>
    <script src="../../js/jquery.fitvids.js" ></script>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
        <div class="d-flex flex-grow-1">
            <span class="w-100 d-lg-none d-block"><!-- hidden spacer to center brand on mobile --></span>
            <a class="navbar-brand" href="../../index.html">
                Home
            </a>
            <div class="w-100 text-right">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#myNavbar7">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </div>
        <div class="collapse navbar-collapse flex-grow-1 text-right" id="myNavbar7">
            <ul class="navbar-nav ml-auto flex-nowrap">

                <li class="nav-item">
                    <a href="../../me/index.html" class="nav-link">Chi Sono</a>
                </li>
                <li class="nav-item">
                    <a href="../../projects/index.html" class="nav-link">Projects</a>
                </li>
                <li class="nav-item">
                    <a href="../../contatti/index.html" class="nav-link">Contatti</a>
                </li>
            </ul>
        </div>
    </div>
    </nav>

    
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-md-10 ">
            
            <div class="post-warp archive">
                <h2 class="post-title" style="text-align:right;padding-bottom:2em">Trasmettitore QRP</h2>
                <div class="post-content">
            <h2 id="sottotitolo">Intro</h2>
            <p>Oggi è possibile acquistare per pochi euro un chip in grado di generare segnali manenendo le caratteristiche d'onda costanti nel tempo. 
                Un componente del genere di chiama DDS (Direct Digital Synthesis) e in questo articolo non mi soffermerò sul funzionamento di questo chip, 
            bensì su una possibile applicazione: Un trasmettitore in alta frequenza per codice morse. </p>
            <h2 id="sottotitolo">Materiali</h2>
            <p>Per la realizzazione del trasmettitore è necessario anzitutto un DDS, io ne ho utilizzato uno prodotto dalla Analog Device (AD9850) già montato su 
                una schedina di sviluppo. È necessario comunicare con il nostro DDS, per cui abbiamo bisogno di un'interfaccia di comunicazione. Nel mio caso un 
                PIC18F4550 è stato più che sufficiente; il PIC si occupa della gestione degli input (encoder, pulsanti e tasto di manipolazione), del display e della 
                programmazione del DDS. Di seguito uno schema a blocchi illustra com'è collegato il tutto: 
            </p>
            <img class="mx-auto d-block" id="schema_blocchi" src="../../images/blocchi.png">
            <h2 id="sottotitolo">Funzionamento trasmettitore </h2>
            <p> completare...

            </p>
            <h2 id="sottotitolo">Codice PIC</h2>
            <p>completare...
            
            </p>
            <h2 id="sottotitolo">Migliorie</h2>
            <p>Rispetto ad un semplice trasmettitore per codice morse, questo è dotato di una funzionalità anti click da manipolazione. Quando vi è una 
                brusca variazione di corrente, si genera un impulso che "sporca" il segnale portante; questo può dar fastidio a chi ci ascolta. 
                Per ovviare a tale problema l'ampiezza d'uscita del segnale del DDS è stata modulata (tramite un transistor) in maniera da avere una rampa 
                di salita più morbida. Utilizzando una rete R-2-R, un registro I/O ad 8 bit del PIC e una tabella di valori calcolata sulla base delle 
                caratteristiche del transistor con questo semplice programma in C, si è ottenuta la curva in uscita al DDS della figura 1. 
            
            </p>
            <div class="row">
                <div class="col-sm-8">

                    <div class="highlight">
                            <pre class="pre-scrollable"><p><code>//file: erf.c<br>#include &lt;math.h&gt;<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;
main(){
    float x=-3;
    int erfX;
    long C;
    FILE *out;   
out = fopen("ERFZ.txt", "w");
         while(1){
                  C++;
                  erfX = ((erf(x)+1)*127.50146);
                    printf( "%i,", erfX);       
                    fprintf(out, "%i,", erfX); 
                    x = 0.006 + x ;
 
                    if (x>=3) {                 
                      fflush(stdin);
                      getchar();
                      break;
                    }                   
                    printf( "%i,", C); 
                }                         
        fclose(out);                                               
 }// end main</code></pre>
                    </div>
                </div>

                <div class="col-sm-4">
                    <img class="mx-auto d-block " src="../../images/rampa_salita.bmp">
                    <figcaption style="text-align: center;">  
                        <p>Figura 1</p>  
                   </figcaption>  
                </div>  

            </div>

                <div class="row" style="display: flex;align-items: center;justify-content: center;padding-top: 1em; padding-bottom: 2em;">
                 
                <div class="col-sm-4">
                    <img class="mx-auto d-block " src="../../images/imp_trafo.JPG" alt="Dettaglio trasformatore d'impedenza" width="100%">
                    <figcaption style="text-align: center;">  
                   </figcaption>  
                </div>  

                <div class="col-sm-4">
                    <p>L'impedenza d'uscita è stata poi adattata tramite un piccolo trasformatore d'impedenza</p>
                </div> 

            </div>

            





            <h2 id="sottotitolo">Funzionamento</h2>
            <p>Il video qui sotto è dimostrativo del funzionamento del trasmettitore. Attraverso due pulsanti si sposta il cursore sulla cifra della 
                frequenza che si intende modificare, un pulsante permette di andare in trasmissione attivando un relè che 
                 commuta l'antenna verso il trasmettitore, attiva l'amplificatore e segnala il tutto con una spia rossa. È tutto molto spartano 
                 ma è perfettamente funzionante!
            </p>
            <div class="youtube-player" data-id="ilAJJ3WHg6g"></div>
                </div>
            </div>
  
            </div>
        </div>
        <div id="push"> </div>
    </div>
    <div id="video" class="col-md-4 offset-md-4">
    <iframe  width="430" height="315" src="https://www.youtube.com/embed/UySG41uV-mA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
         <footer id="bottom" class="row text-center ">
            <div class="col-12">
            Copyright &copy; 2020 Davide De Simone
            </div>
        </footer>


        <script>
            $(document).ready(function(){
              $("#video").fitVids();
            });
          </script>
</body>
</html>